var sd=Object.defineProperty;var od=(e,t,n)=>t in e?sd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>(od(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ui(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const Be={},Yn=[],xt=()=>{},rd=()=>!1,Eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),di=e=>e.startsWith("onUpdate:"),lt=Object.assign,hi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},id=Object.prototype.hasOwnProperty,Te=(e,t)=>id.call(e,t),ue=Array.isArray,Jn=e=>$o(e)==="[object Map]",Rl=e=>$o(e)==="[object Set]",ve=e=>typeof e=="function",Ye=e=>typeof e=="string",as=e=>typeof e=="symbol",He=e=>e!==null&&typeof e=="object",Pl=e=>(He(e)||ve(e))&&ve(e.then)&&ve(e.catch),Ol=Object.prototype.toString,$o=e=>Ol.call(e),ad=e=>$o(e).slice(8,-1),Il=e=>$o(e)==="[object Object]",fi=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xs=ui(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ao=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ld=/-(\w)/g,zt=Ao(e=>e.replace(ld,(t,n)=>n?n.toUpperCase():"")),cd=/\B([A-Z])/g,Un=Ao(e=>e.replace(cd,"-$1").toLowerCase()),Ro=Ao(e=>e.charAt(0).toUpperCase()+e.slice(1)),er=Ao(e=>e?`on${Ro(e)}`:""),Cn=(e,t)=>!Object.is(e,t),oo=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},vo=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},wr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Zi;const ql=()=>Zi||(Zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ut(e){if(ue(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Ye(s)?fd(s):Ut(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Ye(e)||He(e))return e}const ud=/;(?![^(]*\))/g,dd=/:([^]+)/,hd=/\/\*[^]*?\*\//g;function fd(e){const t={};return e.replace(hd,"").split(ud).forEach(n=>{if(n){const s=n.split(dd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Y(e){let t="";if(Ye(e))t=e;else if(ue(e))for(let n=0;n<e.length;n++){const s=Y(e[n]);s&&(t+=s+" ")}else if(He(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const pd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",md=ui(pd);function Nl(e){return!!e||e===""}const q=e=>Ye(e)?e:e==null?"":ue(e)||He(e)&&(e.toString===Ol||!ve(e.toString))?JSON.stringify(e,Ll,2):String(e),Ll=(e,t)=>t&&t.__v_isRef?Ll(e,t.value):Jn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[tr(s,r)+" =>"]=o,n),{})}:Rl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>tr(n))}:as(t)?tr(t):He(t)&&!ue(t)&&!Il(t)?String(t):t,tr=(e,t="")=>{var n;return as(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bt;class Dl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=bt,!t&&bt&&(this.index=(bt.scopes||(bt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=bt;try{return bt=this,t()}finally{bt=n}}}on(){bt=this}off(){bt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Ul(e){return new Dl(e)}function yd(e,t=bt){t&&t.active&&t.effects.push(e)}function Ml(){return bt}function gd(e){bt&&bt.cleanups.push(e)}let qn;class pi{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,yd(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Mn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(vd(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Bn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=wn,n=qn;try{return wn=!0,qn=this,this._runnings++,ea(this),this.fn()}finally{ta(this),this._runnings--,qn=n,wn=t}}stop(){var t;this.active&&(ea(this),ta(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function vd(e){return e.value}function ea(e){e._trackId++,e._depsLength=0}function ta(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Bl(e.deps[t],e);e.deps.length=e._depsLength}}function Bl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let wn=!0,kr=0;const Fl=[];function Mn(){Fl.push(wn),wn=!1}function Bn(){const e=Fl.pop();wn=e===void 0?!0:e}function mi(){kr++}function yi(){for(kr--;!kr&&xr.length;)xr.shift()()}function Hl(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Bl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const xr=[];function jl(e,t,n){mi();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&xr.push(s.scheduler)))}yi()}const Ql=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},bo=new WeakMap,Nn=Symbol(""),Cr=Symbol("");function yt(e,t,n){if(wn&&qn){let s=bo.get(e);s||bo.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Ql(()=>s.delete(n))),Hl(qn,o)}}function on(e,t,n,s,o,r){const i=bo.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&ue(e)){const c=Number(s);i.forEach((d,u)=>{(u==="length"||!as(u)&&u>=c)&&l.push(d)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":ue(e)?fi(n)&&l.push(i.get("length")):(l.push(i.get(Nn)),Jn(e)&&l.push(i.get(Cr)));break;case"delete":ue(e)||(l.push(i.get(Nn)),Jn(e)&&l.push(i.get(Cr)));break;case"set":Jn(e)&&l.push(i.get(Nn));break}mi();for(const c of l)c&&jl(c,4);yi()}function bd(e,t){var n;return(n=bo.get(e))==null?void 0:n.get(t)}const _d=ui("__proto__,__v_isRef,__isVue"),Vl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(as)),na=wd();function wd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Ee(this);for(let r=0,i=this.length;r<i;r++)yt(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(Ee)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Mn(),mi();const s=Ee(this)[t].apply(this,n);return yi(),Bn(),s}}),e}function kd(e){const t=Ee(this);return yt(t,"has",e),t.hasOwnProperty(e)}class Wl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Nd:Yl:r?Kl:zl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=ue(t);if(!o){if(i&&Te(na,n))return Reflect.get(na,n,s);if(n==="hasOwnProperty")return kd}const l=Reflect.get(t,n,s);return(as(n)?Vl.has(n):_d(n))||(o||yt(t,"get",n),r)?l:et(l)?i&&fi(n)?l:l.value:He(l)?o?Xl(l):Bs(l):l}}class Gl extends Wl{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=es(r);if(!_o(s)&&!es(s)&&(r=Ee(r),s=Ee(s)),!ue(t)&&et(r)&&!et(s))return c?!1:(r.value=s,!0)}const i=ue(t)&&fi(n)?Number(n)<t.length:Te(t,n),l=Reflect.set(t,n,s,o);return t===Ee(o)&&(i?Cn(s,r)&&on(t,"set",n,s):on(t,"add",n,s)),l}deleteProperty(t,n){const s=Te(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&on(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!as(n)||!Vl.has(n))&&yt(t,"has",n),s}ownKeys(t){return yt(t,"iterate",ue(t)?"length":Nn),Reflect.ownKeys(t)}}class xd extends Wl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Cd=new Gl,Sd=new xd,Td=new Gl(!0),gi=e=>e,Po=e=>Reflect.getPrototypeOf(e);function Ws(e,t,n=!1,s=!1){e=e.__v_raw;const o=Ee(e),r=Ee(t);n||(Cn(t,r)&&yt(o,"get",t),yt(o,"get",r));const{has:i}=Po(o),l=s?gi:n?_i:Os;if(i.call(o,t))return l(e.get(t));if(i.call(o,r))return l(e.get(r));e!==o&&e.get(t)}function Gs(e,t=!1){const n=this.__v_raw,s=Ee(n),o=Ee(e);return t||(Cn(e,o)&&yt(s,"has",e),yt(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function zs(e,t=!1){return e=e.__v_raw,!t&&yt(Ee(e),"iterate",Nn),Reflect.get(e,"size",e)}function sa(e){e=Ee(e);const t=Ee(this);return Po(t).has.call(t,e)||(t.add(e),on(t,"add",e,e)),this}function oa(e,t){t=Ee(t);const n=Ee(this),{has:s,get:o}=Po(n);let r=s.call(n,e);r||(e=Ee(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?Cn(t,i)&&on(n,"set",e,t):on(n,"add",e,t),this}function ra(e){const t=Ee(this),{has:n,get:s}=Po(t);let o=n.call(t,e);o||(e=Ee(e),o=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return o&&on(t,"delete",e,void 0),r}function ia(){const e=Ee(this),t=e.size!==0,n=e.clear();return t&&on(e,"clear",void 0,void 0),n}function Ks(e,t){return function(s,o){const r=this,i=r.__v_raw,l=Ee(i),c=t?gi:e?_i:Os;return!e&&yt(l,"iterate",Nn),i.forEach((d,u)=>s.call(o,c(d),c(u),r))}}function Ys(e,t,n){return function(...s){const o=this.__v_raw,r=Ee(o),i=Jn(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=o[e](...s),u=n?gi:t?_i:Os;return!t&&yt(r,"iterate",c?Cr:Nn),{next(){const{value:h,done:f}=d.next();return f?{value:h,done:f}:{value:l?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function fn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ed(){const e={get(r){return Ws(this,r)},get size(){return zs(this)},has:Gs,add:sa,set:oa,delete:ra,clear:ia,forEach:Ks(!1,!1)},t={get(r){return Ws(this,r,!1,!0)},get size(){return zs(this)},has:Gs,add:sa,set:oa,delete:ra,clear:ia,forEach:Ks(!1,!0)},n={get(r){return Ws(this,r,!0)},get size(){return zs(this,!0)},has(r){return Gs.call(this,r,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:Ks(!0,!1)},s={get(r){return Ws(this,r,!0,!0)},get size(){return zs(this,!0)},has(r){return Gs.call(this,r,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:Ks(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Ys(r,!1,!1),n[r]=Ys(r,!0,!1),t[r]=Ys(r,!1,!0),s[r]=Ys(r,!0,!0)}),[e,n,t,s]}const[$d,Ad,Rd,Pd]=Ed();function vi(e,t){const n=t?e?Pd:Rd:e?Ad:$d;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(Te(n,o)&&o in s?n:s,o,r)}const Od={get:vi(!1,!1)},Id={get:vi(!1,!0)},qd={get:vi(!0,!1)},zl=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,Nd=new WeakMap;function Ld(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dd(e){return e.__v_skip||!Object.isExtensible(e)?0:Ld(ad(e))}function Bs(e){return es(e)?e:bi(e,!1,Cd,Od,zl)}function Jl(e){return bi(e,!1,Td,Id,Kl)}function Xl(e){return bi(e,!0,Sd,qd,Yl)}function bi(e,t,n,s,o){if(!He(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Dd(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return o.set(e,l),l}function kn(e){return es(e)?kn(e.__v_raw):!!(e&&e.__v_isReactive)}function es(e){return!!(e&&e.__v_isReadonly)}function _o(e){return!!(e&&e.__v_isShallow)}function Zl(e){return kn(e)||es(e)}function Ee(e){const t=e&&e.__v_raw;return t?Ee(t):e}function Oo(e){return Object.isExtensible(e)&&vo(e,"__v_skip",!0),e}const Os=e=>He(e)?Bs(e):e,_i=e=>He(e)?Xl(e):e;class ec{constructor(t,n,s,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new pi(()=>t(this._value),()=>ro(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=Ee(this);return(!t._cacheable||t.effect.dirty)&&Cn(t._value,t._value=t.effect.run())&&ro(t,4),tc(t),t.effect._dirtyLevel>=2&&ro(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Ud(e,t,n=!1){let s,o;const r=ve(e);return r?(s=e,o=xt):(s=e.get,o=e.set),new ec(s,o,r||!o,n)}function tc(e){var t;wn&&qn&&(e=Ee(e),Hl(qn,(t=e.dep)!=null?t:e.dep=Ql(()=>e.dep=void 0,e instanceof ec?e:void 0)))}function ro(e,t=4,n){e=Ee(e);const s=e.dep;s&&jl(s,t)}function et(e){return!!(e&&e.__v_isRef===!0)}function M(e){return nc(e,!1)}function Sr(e){return nc(e,!0)}function nc(e,t){return et(e)?e:new Md(e,t)}class Md{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ee(t),this._value=n?t:Os(t)}get value(){return tc(this),this._value}set value(t){const n=this.__v_isShallow||_o(t)||es(t);t=n?t:Ee(t),Cn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Os(t),ro(this,4))}}function B(e){return et(e)?e.value:e}const Bd={get:(e,t,n)=>B(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return et(o)&&!et(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function sc(e){return kn(e)?e:new Proxy(e,Bd)}function Fd(e){const t=ue(e)?new Array(e.length):{};for(const n in e)t[n]=jd(e,n);return t}class Hd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bd(Ee(this._object),this._key)}}function jd(e,t,n){const s=e[t];return et(s)?s:new Hd(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xn(e,t,n,s){try{return s?e(...s):e()}catch(o){Io(o,t,n)}}function qt(e,t,n,s){if(ve(e)){const r=xn(e,t,n,s);return r&&Pl(r)&&r.catch(i=>{Io(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(qt(e[r],t,n,s));return o}function Io(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const d=r.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](e,i,l)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){xn(c,null,10,[e,i,l]);return}}Qd(e,n,o,s)}function Qd(e,t,n,s=!0){console.error(e)}let Is=!1,Tr=!1;const dt=[];let jt=0;const Xn=[];let gn=null,On=0;const oc=Promise.resolve();let wi=null;function ki(e){const t=wi||oc;return e?t.then(this?e.bind(this):e):t}function Vd(e){let t=jt+1,n=dt.length;for(;t<n;){const s=t+n>>>1,o=dt[s],r=qs(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function xi(e){(!dt.length||!dt.includes(e,Is&&e.allowRecurse?jt+1:jt))&&(e.id==null?dt.push(e):dt.splice(Vd(e.id),0,e),rc())}function rc(){!Is&&!Tr&&(Tr=!0,wi=oc.then(ac))}function Wd(e){const t=dt.indexOf(e);t>jt&&dt.splice(t,1)}function Gd(e){ue(e)?Xn.push(...e):(!gn||!gn.includes(e,e.allowRecurse?On+1:On))&&Xn.push(e),rc()}function aa(e,t,n=Is?jt+1:0){for(;n<dt.length;n++){const s=dt[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;dt.splice(n,1),n--,s()}}}function ic(e){if(Xn.length){const t=[...new Set(Xn)].sort((n,s)=>qs(n)-qs(s));if(Xn.length=0,gn){gn.push(...t);return}for(gn=t,On=0;On<gn.length;On++)gn[On]();gn=null,On=0}}const qs=e=>e.id==null?1/0:e.id,zd=(e,t)=>{const n=qs(e)-qs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ac(e){Tr=!1,Is=!0,dt.sort(zd);try{for(jt=0;jt<dt.length;jt++){const t=dt[jt];t&&t.active!==!1&&xn(t,null,14)}}finally{jt=0,dt.length=0,ic(),Is=!1,wi=null,(dt.length||Xn.length)&&ac()}}function Kd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Be;let o=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:h,trim:f}=s[u]||Be;f&&(o=n.map(g=>Ye(g)?g.trim():g)),h&&(o=n.map(wr))}let l,c=s[l=er(t)]||s[l=er(zt(t))];!c&&r&&(c=s[l=er(Un(t))]),c&&qt(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,qt(d,e,6,o)}}function lc(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!ve(e)){const c=d=>{const u=lc(d,t,!0);u&&(l=!0,lt(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(He(e)&&s.set(e,null),null):(ue(r)?r.forEach(c=>i[c]=null):lt(i,r),He(e)&&s.set(e,i),i)}function qo(e,t){return!e||!Eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Te(e,t[0].toLowerCase()+t.slice(1))||Te(e,Un(t))||Te(e,t))}let Ze=null,No=null;function wo(e){const t=Ze;return Ze=e,No=e&&e.type.__scopeId||null,t}function Ae(e){No=e}function Re(){No=null}function F(e,t=Ze,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&va(-1);const r=wo(t);let i;try{i=e(...o)}finally{wo(r),s._d&&va(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function nr(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:r,propsOptions:[i],slots:l,attrs:c,emit:d,render:u,renderCache:h,data:f,setupState:g,ctx:w,inheritAttrs:x}=e;let I,U;const V=wo(e);try{if(n.shapeFlag&4){const he=o||s,me=he;I=Ht(u.call(me,he,h,r,g,f,w)),U=c}else{const he=t;I=Ht(he.length>1?he(r,{attrs:c,slots:l,emit:d}):he(r,null)),U=t.props?c:Yd(c)}}catch(he){Ts.length=0,Io(he,e,1),I=$(Sn)}let X=I;if(U&&x!==!1){const he=Object.keys(U),{shapeFlag:me}=X;he.length&&me&7&&(i&&he.some(di)&&(U=Jd(U,i)),X=ns(X,U))}return n.dirs&&(X=ns(X),X.dirs=X.dirs?X.dirs.concat(n.dirs):n.dirs),n.transition&&(X.transition=n.transition),I=X,wo(V),I}const Yd=e=>{let t;for(const n in e)(n==="class"||n==="style"||Eo(n))&&((t||(t={}))[n]=e[n]);return t},Jd=(e,t)=>{const n={};for(const s in e)(!di(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Xd(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?la(s,i,d):!!i;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(i[f]!==s[f]&&!qo(d,f))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?la(s,i,d):!0:!!i;return!1}function la(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!qo(n,r))return!0}return!1}function Zd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const cc="components";function ls(e,t){return dc(cc,e,!0,t)||e}const uc=Symbol.for("v-ndc");function eh(e){return Ye(e)?dc(cc,e,!1)||e:e||uc}function dc(e,t,n=!0,s=!1){const o=Ze||it;if(o){const r=o.type;{const l=Wh(r,!1);if(l&&(l===t||l===zt(t)||l===Ro(zt(t))))return r}const i=ca(o[e]||r[e],t)||ca(o.appContext[e],t);return!i&&s?r:i}}function ca(e,t){return e&&(e[t]||e[zt(t)]||e[Ro(zt(t))])}const th=e=>e.__isSuspense;function nh(e,t){t&&t.pendingBranch?ue(e)?t.effects.push(...e):t.effects.push(e):Gd(e)}const sh=Symbol.for("v-scx"),oh=()=>Nt(sh),Js={};function Ct(e,t,n){return hc(e,t,n)}function hc(e,t,{immediate:n,deep:s,flush:o,once:r,onTrack:i,onTrigger:l}=Be){if(t&&r){const oe=t;t=(...Pe)=>{oe(...Pe),me()}}const c=it,d=oe=>s===!0?oe:In(oe,s===!1?1:void 0);let u,h=!1,f=!1;if(et(e)?(u=()=>e.value,h=_o(e)):kn(e)?(u=()=>d(e),h=!0):ue(e)?(f=!0,h=e.some(oe=>kn(oe)||_o(oe)),u=()=>e.map(oe=>{if(et(oe))return oe.value;if(kn(oe))return d(oe);if(ve(oe))return xn(oe,c,2)})):ve(e)?t?u=()=>xn(e,c,2):u=()=>(g&&g(),qt(e,c,3,[w])):u=xt,t&&s){const oe=u;u=()=>In(oe())}let g,w=oe=>{g=X.onStop=()=>{xn(oe,c,4),g=X.onStop=void 0}},x;if(Mo)if(w=xt,t?n&&qt(t,c,3,[u(),f?[]:void 0,w]):u(),o==="sync"){const oe=oh();x=oe.__watcherHandles||(oe.__watcherHandles=[])}else return xt;let I=f?new Array(e.length).fill(Js):Js;const U=()=>{if(!(!X.active||!X.dirty))if(t){const oe=X.run();(s||h||(f?oe.some((Pe,fe)=>Cn(Pe,I[fe])):Cn(oe,I)))&&(g&&g(),qt(t,c,3,[oe,I===Js?void 0:f&&I[0]===Js?[]:I,w]),I=oe)}else X.run()};U.allowRecurse=!!t;let V;o==="sync"?V=U:o==="post"?V=()=>mt(U,c&&c.suspense):(U.pre=!0,c&&(U.id=c.uid),V=()=>xi(U));const X=new pi(u,xt,V),he=Ml(),me=()=>{X.stop(),he&&hi(he.effects,X)};return t?n?U():I=X.run():o==="post"?mt(X.run.bind(X),c&&c.suspense):X.run(),x&&x.push(me),me}function rh(e,t,n){const s=this.proxy,o=Ye(e)?e.includes(".")?fc(s,e):()=>s[e]:e.bind(s,s);let r;ve(t)?r=t:(r=t.handler,n=t);const i=Fs(this),l=hc(o,r.bind(s),n);return i(),l}function fc(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function In(e,t,n=0,s){if(!He(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),et(e))In(e.value,t,n,s);else if(ue(e))for(let o=0;o<e.length;o++)In(e[o],t,n,s);else if(Rl(e)||Jn(e))e.forEach(o=>{In(o,t,n,s)});else if(Il(e))for(const o in e)In(e[o],t,n,s);return e}function De(e,t){if(Ze===null)return e;const n=Bo(Ze)||Ze.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,c=Be]=t[o];r&&(ve(r)&&(r={mounted:r,updated:r}),r.deep&&In(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function An(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let c=l.dir[s];c&&(Mn(),qt(c,n,8,[e.el,l,e,t]),Bn())}}/*! #__NO_SIDE_EFFECTS__ */function ie(e,t){return ve(e)?lt({name:e.name},t,{setup:e}):e}const Cs=e=>!!e.type.__asyncLoader,pc=e=>e.type.__isKeepAlive;function ih(e,t){mc(e,"a",t)}function ah(e,t){mc(e,"da",t)}function mc(e,t,n=it){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Lo(t,s,n),n){let o=n.parent;for(;o&&o.parent;)pc(o.parent.vnode)&&lh(s,t,n,o),o=o.parent}}function lh(e,t,n,s){const o=Lo(t,e,s,!0);Fn(()=>{hi(s[t],o)},n)}function Lo(e,t,n=it,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Mn();const l=Fs(n),c=qt(t,n,e,i);return l(),Bn(),c});return s?o.unshift(r):o.push(r),r}}const an=e=>(t,n=it)=>(!Mo||e==="sp")&&Lo(e,(...s)=>t(...s),n),ch=an("bm"),Yt=an("m"),uh=an("bu"),dh=an("u"),hh=an("bum"),Fn=an("um"),fh=an("sp"),ph=an("rtg"),mh=an("rtc");function yh(e,t=it){Lo("ec",e,t)}function ce(e,t,n,s){let o;const r=n;if(ue(e)||Ye(e)){o=new Array(e.length);for(let i=0,l=e.length;i<l;i++)o[i]=t(e[i],i,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r)}else if(He(e))if(e[Symbol.iterator])o=Array.from(e,(i,l)=>t(i,l,void 0,r));else{const i=Object.keys(e);o=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const d=i[l];o[l]=t(e[d],d,l,r)}}else o=[];return o}function ts(e,t,n={},s,o){if(Ze.isCE||Ze.parent&&Cs(Ze.parent)&&Ze.parent.isCE)return t!=="default"&&(n.name=t),$("slot",n,s);let r=e[t];r&&r._c&&(r._d=!1),y();const i=r&&yc(r(n)),l=re(Z,{key:n.key||i&&i.key||`_${t}`},i||[],i&&e._===1?64:-2);return r&&r._c&&(r._d=!0),l}function yc(e){return e.some(t=>xo(t)?!(t.type===Sn||t.type===Z&&!yc(t.children)):!0)?e:null}const Er=e=>e?Ac(e)?Bo(e)||e.proxy:Er(e.parent):null,Ss=lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Er(e.parent),$root:e=>Er(e.root),$emit:e=>e.emit,$options:e=>Ci(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,xi(e.update)}),$nextTick:e=>e.n||(e.n=ki.bind(e.proxy)),$watch:e=>rh.bind(e)}),sr=(e,t)=>e!==Be&&!e.__isScriptSetup&&Te(e,t),gh={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(sr(s,t))return i[t]=1,s[t];if(o!==Be&&Te(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&Te(d,t))return i[t]=3,r[t];if(n!==Be&&Te(n,t))return i[t]=4,n[t];$r&&(i[t]=0)}}const u=Ss[t];let h,f;if(u)return t==="$attrs"&&yt(e,"get",t),u(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Be&&Te(n,t))return i[t]=4,n[t];if(f=c.config.globalProperties,Te(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return sr(o,t)?(o[t]=n,!0):s!==Be&&Te(s,t)?(s[t]=n,!0):Te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let l;return!!n[i]||e!==Be&&Te(e,i)||sr(t,i)||(l=r[0])&&Te(l,i)||Te(s,i)||Te(Ss,i)||Te(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Te(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ua(e){return ue(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let $r=!0;function vh(e){const t=Ci(e),n=e.proxy,s=e.ctx;$r=!1,t.beforeCreate&&da(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:c,inject:d,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:w,activated:x,deactivated:I,beforeDestroy:U,beforeUnmount:V,destroyed:X,unmounted:he,render:me,renderTracked:oe,renderTriggered:Pe,errorCaptured:fe,serverPrefetch:le,expose:be,inheritAttrs:Me,components:Qe,directives:ze,filters:D}=t;if(d&&bh(d,s,null),i)for(const ye in i){const pe=i[ye];ve(pe)&&(s[ye]=pe.bind(n))}if(o){const ye=o.call(n,n);He(ye)&&(e.data=Bs(ye))}if($r=!0,r)for(const ye in r){const pe=r[ye],S=ve(pe)?pe.bind(n,n):ve(pe.get)?pe.get.bind(n,n):xt,ee=!ve(pe)&&ve(pe.set)?pe.set.bind(n):xt,ke=z({get:S,set:ee});Object.defineProperty(s,ye,{enumerable:!0,configurable:!0,get:()=>ke.value,set:je=>ke.value=je})}if(l)for(const ye in l)gc(l[ye],s,n,ye);if(c){const ye=ve(c)?c.call(n):c;Reflect.ownKeys(ye).forEach(pe=>{io(pe,ye[pe])})}u&&da(u,e,"c");function K(ye,pe){ue(pe)?pe.forEach(S=>ye(S.bind(n))):pe&&ye(pe.bind(n))}if(K(ch,h),K(Yt,f),K(uh,g),K(dh,w),K(ih,x),K(ah,I),K(yh,fe),K(mh,oe),K(ph,Pe),K(hh,V),K(Fn,he),K(fh,le),ue(be))if(be.length){const ye=e.exposed||(e.exposed={});be.forEach(pe=>{Object.defineProperty(ye,pe,{get:()=>n[pe],set:S=>n[pe]=S})})}else e.exposed||(e.exposed={});me&&e.render===xt&&(e.render=me),Me!=null&&(e.inheritAttrs=Me),Qe&&(e.components=Qe),ze&&(e.directives=ze)}function bh(e,t,n=xt){ue(e)&&(e=Ar(e));for(const s in e){const o=e[s];let r;He(o)?"default"in o?r=Nt(o.from||s,o.default,!0):r=Nt(o.from||s):r=Nt(o),et(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function da(e,t,n){qt(ue(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function gc(e,t,n,s){const o=s.includes(".")?fc(n,s):()=>n[s];if(Ye(e)){const r=t[e];ve(r)&&Ct(o,r)}else if(ve(e))Ct(o,e.bind(n));else if(He(e))if(ue(e))e.forEach(r=>gc(r,t,n,s));else{const r=ve(e.handler)?e.handler.bind(n):t[e.handler];ve(r)&&Ct(o,r,e)}}function Ci(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>ko(c,d,i,!0)),ko(c,t,i)),He(t)&&r.set(t,c),c}function ko(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&ko(e,r,n,!0),o&&o.forEach(i=>ko(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=_h[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const _h={data:ha,props:fa,emits:fa,methods:ws,computed:ws,beforeCreate:pt,created:pt,beforeMount:pt,mounted:pt,beforeUpdate:pt,updated:pt,beforeDestroy:pt,beforeUnmount:pt,destroyed:pt,unmounted:pt,activated:pt,deactivated:pt,errorCaptured:pt,serverPrefetch:pt,components:ws,directives:ws,watch:kh,provide:ha,inject:wh};function ha(e,t){return t?e?function(){return lt(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function wh(e,t){return ws(Ar(e),Ar(t))}function Ar(e){if(ue(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function pt(e,t){return e?[...new Set([].concat(e,t))]:t}function ws(e,t){return e?lt(Object.create(null),e,t):t}function fa(e,t){return e?ue(e)&&ue(t)?[...new Set([...e,...t])]:lt(Object.create(null),ua(e),ua(t??{})):t}function kh(e,t){if(!e)return t;if(!t)return e;const n=lt(Object.create(null),e);for(const s in t)n[s]=pt(e[s],t[s]);return n}function vc(){return{app:null,config:{isNativeTag:rd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xh=0;function Ch(e,t){return function(s,o=null){ve(s)||(s=lt({},s)),o!=null&&!He(o)&&(o=null);const r=vc(),i=new WeakSet;let l=!1;const c=r.app={_uid:xh++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:zh,get config(){return r.config},set config(d){},use(d,...u){return i.has(d)||(d&&ve(d.install)?(i.add(d),d.install(c,...u)):ve(d)&&(i.add(d),d(c,...u))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,u){return u?(r.components[d]=u,c):r.components[d]},directive(d,u){return u?(r.directives[d]=u,c):r.directives[d]},mount(d,u,h){if(!l){const f=$(s,o);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(f,d):e(f,d,h),l=!0,c._container=d,d.__vue_app__=c,Bo(f.component)||f.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,u){return r.provides[d]=u,c},runWithContext(d){const u=Zn;Zn=c;try{return d()}finally{Zn=u}}};return c}}let Zn=null;function io(e,t){if(it){let n=it.provides;const s=it.parent&&it.parent.provides;s===n&&(n=it.provides=Object.create(s)),n[e]=t}}function Nt(e,t,n=!1){const s=it||Ze;if(s||Zn){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Zn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&ve(t)?t.call(s&&s.proxy):t}}function Sh(){return!!(it||Ze||Zn)}function Th(e,t,n,s=!1){const o={},r={};vo(r,Uo,1),e.propsDefaults=Object.create(null),bc(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Jl(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Eh(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=Ee(o),[c]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(qo(e.emitsOptions,f))continue;const g=t[f];if(c)if(Te(r,f))g!==r[f]&&(r[f]=g,d=!0);else{const w=zt(f);o[w]=Rr(c,l,w,g,e,!1)}else g!==r[f]&&(r[f]=g,d=!0)}}}else{bc(e,t,o,r)&&(d=!0);let u;for(const h in l)(!t||!Te(t,h)&&((u=Un(h))===h||!Te(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(o[h]=Rr(c,l,h,void 0,e,!0)):delete o[h]);if(r!==l)for(const h in r)(!t||!Te(t,h))&&(delete r[h],d=!0)}d&&on(e,"set","$attrs")}function bc(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(xs(c))continue;const d=t[c];let u;o&&Te(o,u=zt(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:qo(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(r){const c=Ee(n),d=l||Be;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Rr(o,c,h,d[h],e,!Te(d,h))}}return i}function Rr(e,t,n,s,o,r){const i=e[n];if(i!=null){const l=Te(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&ve(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=Fs(o);s=d[n]=c.call(null,t),u()}}else s=c}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===Un(n))&&(s=!0))}return s}function _c(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},l=[];let c=!1;if(!ve(e)){const u=h=>{c=!0;const[f,g]=_c(h,t,!0);lt(i,f),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return He(e)&&s.set(e,Yn),Yn;if(ue(r))for(let u=0;u<r.length;u++){const h=zt(r[u]);pa(h)&&(i[h]=Be)}else if(r)for(const u in r){const h=zt(u);if(pa(h)){const f=r[u],g=i[h]=ue(f)||ve(f)?{type:f}:lt({},f);if(g){const w=ga(Boolean,g.type),x=ga(String,g.type);g[0]=w>-1,g[1]=x<0||w<x,(w>-1||Te(g,"default"))&&l.push(h)}}}const d=[i,l];return He(e)&&s.set(e,d),d}function pa(e){return e[0]!=="$"&&!xs(e)}function ma(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function ya(e,t){return ma(e)===ma(t)}function ga(e,t){return ue(t)?t.findIndex(n=>ya(n,e)):ve(t)&&ya(t,e)?0:-1}const wc=e=>e[0]==="_"||e==="$stable",Si=e=>ue(e)?e.map(Ht):[Ht(e)],$h=(e,t,n)=>{if(t._n)return t;const s=F((...o)=>Si(t(...o)),n);return s._c=!1,s},kc=(e,t,n)=>{const s=e._ctx;for(const o in e){if(wc(o))continue;const r=e[o];if(ve(r))t[o]=$h(o,r,s);else if(r!=null){const i=Si(r);t[o]=()=>i}}},xc=(e,t)=>{const n=Si(t);e.slots.default=()=>n},Ah=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ee(t),vo(t,"_",n)):kc(t,e.slots={})}else e.slots={},t&&xc(e,t);vo(e.slots,Uo,1)},Rh=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=Be;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:(lt(o,t),!n&&l===1&&delete o._):(r=!t.$stable,kc(t,o)),i=t}else t&&(xc(e,t),i={default:1});if(r)for(const l in o)!wc(l)&&i[l]==null&&delete o[l]};function Pr(e,t,n,s,o=!1){if(ue(e)){e.forEach((f,g)=>Pr(f,t&&(ue(t)?t[g]:t),n,s,o));return}if(Cs(s)&&!o)return;const r=s.shapeFlag&4?Bo(s.component)||s.component.proxy:s.el,i=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===Be?l.refs={}:l.refs,h=l.setupState;if(d!=null&&d!==c&&(Ye(d)?(u[d]=null,Te(h,d)&&(h[d]=null)):et(d)&&(d.value=null)),ve(c))xn(c,l,12,[i,u]);else{const f=Ye(c),g=et(c);if(f||g){const w=()=>{if(e.f){const x=f?Te(h,c)?h[c]:u[c]:c.value;o?ue(x)&&hi(x,r):ue(x)?x.includes(r)||x.push(r):f?(u[c]=[r],Te(h,c)&&(h[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else f?(u[c]=i,Te(h,c)&&(h[c]=i)):g&&(c.value=i,e.k&&(u[e.k]=i))};i?(w.id=-1,mt(w,n)):w()}}}const mt=nh;function Ph(e){return Oh(e)}function Oh(e,t){const n=ql();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:l,createComment:c,setText:d,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=xt,insertStaticContent:w}=e,x=(m,_,E,T=null,p=null,v=null,C=void 0,R=null,L=!!_.dynamicChildren)=>{if(m===_)return;m&&!ys(m,_)&&(T=O(m),je(m,p,v,!0),m=null),_.patchFlag===-2&&(L=!1,_.dynamicChildren=null);const{type:b,ref:A,shapeFlag:te}=_;switch(b){case Do:I(m,_,E,T);break;case Sn:U(m,_,E,T);break;case rr:m==null&&V(_,E,T,C);break;case Z:Qe(m,_,E,T,p,v,C,R,L);break;default:te&1?me(m,_,E,T,p,v,C,R,L):te&6?ze(m,_,E,T,p,v,C,R,L):(te&64||te&128)&&b.process(m,_,E,T,p,v,C,R,L,J)}A!=null&&p&&Pr(A,m&&m.ref,v,_||m,!_)},I=(m,_,E,T)=>{if(m==null)s(_.el=l(_.children),E,T);else{const p=_.el=m.el;_.children!==m.children&&d(p,_.children)}},U=(m,_,E,T)=>{m==null?s(_.el=c(_.children||""),E,T):_.el=m.el},V=(m,_,E,T)=>{[m.el,m.anchor]=w(m.children,_,E,T,m.el,m.anchor)},X=({el:m,anchor:_},E,T)=>{let p;for(;m&&m!==_;)p=f(m),s(m,E,T),m=p;s(_,E,T)},he=({el:m,anchor:_})=>{let E;for(;m&&m!==_;)E=f(m),o(m),m=E;o(_)},me=(m,_,E,T,p,v,C,R,L)=>{_.type==="svg"?C="svg":_.type==="math"&&(C="mathml"),m==null?oe(_,E,T,p,v,C,R,L):le(m,_,p,v,C,R,L)},oe=(m,_,E,T,p,v,C,R)=>{let L,b;const{props:A,shapeFlag:te,transition:se,dirs:ge}=m;if(L=m.el=i(m.type,v,A&&A.is,A),te&8?u(L,m.children):te&16&&fe(m.children,L,null,T,p,or(m,v),C,R),ge&&An(m,null,T,"created"),Pe(L,m,m.scopeId,C,T),A){for(const Le in A)Le!=="value"&&!xs(Le)&&r(L,Le,null,A[Le],v,m.children,T,p,We);"value"in A&&r(L,"value",null,A.value,v),(b=A.onVnodeBeforeMount)&&Ft(b,T,m)}ge&&An(m,null,T,"beforeMount");const we=Ih(p,se);we&&se.beforeEnter(L),s(L,_,E),((b=A&&A.onVnodeMounted)||we||ge)&&mt(()=>{b&&Ft(b,T,m),we&&se.enter(L),ge&&An(m,null,T,"mounted")},p)},Pe=(m,_,E,T,p)=>{if(E&&g(m,E),T)for(let v=0;v<T.length;v++)g(m,T[v]);if(p){let v=p.subTree;if(_===v){const C=p.vnode;Pe(m,C,C.scopeId,C.slotScopeIds,p.parent)}}},fe=(m,_,E,T,p,v,C,R,L=0)=>{for(let b=L;b<m.length;b++){const A=m[b]=R?vn(m[b]):Ht(m[b]);x(null,A,_,E,T,p,v,C,R)}},le=(m,_,E,T,p,v,C)=>{const R=_.el=m.el;let{patchFlag:L,dynamicChildren:b,dirs:A}=_;L|=m.patchFlag&16;const te=m.props||Be,se=_.props||Be;let ge;if(E&&Rn(E,!1),(ge=se.onVnodeBeforeUpdate)&&Ft(ge,E,_,m),A&&An(_,m,E,"beforeUpdate"),E&&Rn(E,!0),b?be(m.dynamicChildren,b,R,E,T,or(_,p),v):C||pe(m,_,R,null,E,T,or(_,p),v,!1),L>0){if(L&16)Me(R,_,te,se,E,T,p);else if(L&2&&te.class!==se.class&&r(R,"class",null,se.class,p),L&4&&r(R,"style",te.style,se.style,p),L&8){const we=_.dynamicProps;for(let Le=0;Le<we.length;Le++){const Fe=we[Le],nt=te[Fe],$t=se[Fe];($t!==nt||Fe==="value")&&r(R,Fe,nt,$t,p,m.children,E,T,We)}}L&1&&m.children!==_.children&&u(R,_.children)}else!C&&b==null&&Me(R,_,te,se,E,T,p);((ge=se.onVnodeUpdated)||A)&&mt(()=>{ge&&Ft(ge,E,_,m),A&&An(_,m,E,"updated")},T)},be=(m,_,E,T,p,v,C)=>{for(let R=0;R<_.length;R++){const L=m[R],b=_[R],A=L.el&&(L.type===Z||!ys(L,b)||L.shapeFlag&70)?h(L.el):E;x(L,b,A,null,T,p,v,C,!0)}},Me=(m,_,E,T,p,v,C)=>{if(E!==T){if(E!==Be)for(const R in E)!xs(R)&&!(R in T)&&r(m,R,E[R],null,C,_.children,p,v,We);for(const R in T){if(xs(R))continue;const L=T[R],b=E[R];L!==b&&R!=="value"&&r(m,R,b,L,C,_.children,p,v,We)}"value"in T&&r(m,"value",E.value,T.value,C)}},Qe=(m,_,E,T,p,v,C,R,L)=>{const b=_.el=m?m.el:l(""),A=_.anchor=m?m.anchor:l("");let{patchFlag:te,dynamicChildren:se,slotScopeIds:ge}=_;ge&&(R=R?R.concat(ge):ge),m==null?(s(b,E,T),s(A,E,T),fe(_.children||[],E,A,p,v,C,R,L)):te>0&&te&64&&se&&m.dynamicChildren?(be(m.dynamicChildren,se,E,p,v,C,R),(_.key!=null||p&&_===p.subTree)&&Cc(m,_,!0)):pe(m,_,E,A,p,v,C,R,L)},ze=(m,_,E,T,p,v,C,R,L)=>{_.slotScopeIds=R,m==null?_.shapeFlag&512?p.ctx.activate(_,E,T,C,L):D(_,E,T,p,v,C,L):P(m,_,L)},D=(m,_,E,T,p,v,C)=>{const R=m.component=Fh(m,T,p);if(pc(m)&&(R.ctx.renderer=J),Hh(R),R.asyncDep){if(p&&p.registerDep(R,K),!m.el){const L=R.subTree=$(Sn);U(null,L,_,E)}}else K(R,m,_,E,p,v,C)},P=(m,_,E)=>{const T=_.component=m.component;if(Xd(m,_,E))if(T.asyncDep&&!T.asyncResolved){ye(T,_,E);return}else T.next=_,Wd(T.update),T.effect.dirty=!0,T.update();else _.el=m.el,T.vnode=_},K=(m,_,E,T,p,v,C)=>{const R=()=>{if(m.isMounted){let{next:A,bu:te,u:se,parent:ge,vnode:we}=m;{const jn=Sc(m);if(jn){A&&(A.el=we.el,ye(m,A,C)),jn.asyncDep.then(()=>{m.isUnmounted||R()});return}}let Le=A,Fe;Rn(m,!1),A?(A.el=we.el,ye(m,A,C)):A=we,te&&oo(te),(Fe=A.props&&A.props.onVnodeBeforeUpdate)&&Ft(Fe,ge,A,we),Rn(m,!0);const nt=nr(m),$t=m.subTree;m.subTree=nt,x($t,nt,h($t.el),O($t),m,p,v),A.el=nt.el,Le===null&&Zd(m,nt.el),se&&mt(se,p),(Fe=A.props&&A.props.onVnodeUpdated)&&mt(()=>Ft(Fe,ge,A,we),p)}else{let A;const{el:te,props:se}=_,{bm:ge,m:we,parent:Le}=m,Fe=Cs(_);if(Rn(m,!1),ge&&oo(ge),!Fe&&(A=se&&se.onVnodeBeforeMount)&&Ft(A,Le,_),Rn(m,!0),te&&Ne){const nt=()=>{m.subTree=nr(m),Ne(te,m.subTree,m,p,null)};Fe?_.type.__asyncLoader().then(()=>!m.isUnmounted&&nt()):nt()}else{const nt=m.subTree=nr(m);x(null,nt,E,T,m,p,v),_.el=nt.el}if(we&&mt(we,p),!Fe&&(A=se&&se.onVnodeMounted)){const nt=_;mt(()=>Ft(A,Le,nt),p)}(_.shapeFlag&256||Le&&Cs(Le.vnode)&&Le.vnode.shapeFlag&256)&&m.a&&mt(m.a,p),m.isMounted=!0,_=E=T=null}},L=m.effect=new pi(R,xt,()=>xi(b),m.scope),b=m.update=()=>{L.dirty&&L.run()};b.id=m.uid,Rn(m,!0),b()},ye=(m,_,E)=>{_.component=m;const T=m.vnode.props;m.vnode=_,m.next=null,Eh(m,_.props,T,E),Rh(m,_.children,E),Mn(),aa(m),Bn()},pe=(m,_,E,T,p,v,C,R,L=!1)=>{const b=m&&m.children,A=m?m.shapeFlag:0,te=_.children,{patchFlag:se,shapeFlag:ge}=_;if(se>0){if(se&128){ee(b,te,E,T,p,v,C,R,L);return}else if(se&256){S(b,te,E,T,p,v,C,R,L);return}}ge&8?(A&16&&We(b,p,v),te!==b&&u(E,te)):A&16?ge&16?ee(b,te,E,T,p,v,C,R,L):We(b,p,v,!0):(A&8&&u(E,""),ge&16&&fe(te,E,T,p,v,C,R,L))},S=(m,_,E,T,p,v,C,R,L)=>{m=m||Yn,_=_||Yn;const b=m.length,A=_.length,te=Math.min(b,A);let se;for(se=0;se<te;se++){const ge=_[se]=L?vn(_[se]):Ht(_[se]);x(m[se],ge,E,null,p,v,C,R,L)}b>A?We(m,p,v,!0,!1,te):fe(_,E,T,p,v,C,R,L,te)},ee=(m,_,E,T,p,v,C,R,L)=>{let b=0;const A=_.length;let te=m.length-1,se=A-1;for(;b<=te&&b<=se;){const ge=m[b],we=_[b]=L?vn(_[b]):Ht(_[b]);if(ys(ge,we))x(ge,we,E,null,p,v,C,R,L);else break;b++}for(;b<=te&&b<=se;){const ge=m[te],we=_[se]=L?vn(_[se]):Ht(_[se]);if(ys(ge,we))x(ge,we,E,null,p,v,C,R,L);else break;te--,se--}if(b>te){if(b<=se){const ge=se+1,we=ge<A?_[ge].el:T;for(;b<=se;)x(null,_[b]=L?vn(_[b]):Ht(_[b]),E,we,p,v,C,R,L),b++}}else if(b>se)for(;b<=te;)je(m[b],p,v,!0),b++;else{const ge=b,we=b,Le=new Map;for(b=we;b<=se;b++){const vt=_[b]=L?vn(_[b]):Ht(_[b]);vt.key!=null&&Le.set(vt.key,b)}let Fe,nt=0;const $t=se-we+1;let jn=!1,Yi=0;const ms=new Array($t);for(b=0;b<$t;b++)ms[b]=0;for(b=ge;b<=te;b++){const vt=m[b];if(nt>=$t){je(vt,p,v,!0);continue}let Bt;if(vt.key!=null)Bt=Le.get(vt.key);else for(Fe=we;Fe<=se;Fe++)if(ms[Fe-we]===0&&ys(vt,_[Fe])){Bt=Fe;break}Bt===void 0?je(vt,p,v,!0):(ms[Bt-we]=b+1,Bt>=Yi?Yi=Bt:jn=!0,x(vt,_[Bt],E,null,p,v,C,R,L),nt++)}const Ji=jn?qh(ms):Yn;for(Fe=Ji.length-1,b=$t-1;b>=0;b--){const vt=we+b,Bt=_[vt],Xi=vt+1<A?_[vt+1].el:T;ms[b]===0?x(null,Bt,E,Xi,p,v,C,R,L):jn&&(Fe<0||b!==Ji[Fe]?ke(Bt,E,Xi,2):Fe--)}}},ke=(m,_,E,T,p=null)=>{const{el:v,type:C,transition:R,children:L,shapeFlag:b}=m;if(b&6){ke(m.component.subTree,_,E,T);return}if(b&128){m.suspense.move(_,E,T);return}if(b&64){C.move(m,_,E,J);return}if(C===Z){s(v,_,E);for(let te=0;te<L.length;te++)ke(L[te],_,E,T);s(m.anchor,_,E);return}if(C===rr){X(m,_,E);return}if(T!==2&&b&1&&R)if(T===0)R.beforeEnter(v),s(v,_,E),mt(()=>R.enter(v),p);else{const{leave:te,delayLeave:se,afterLeave:ge}=R,we=()=>s(v,_,E),Le=()=>{te(v,()=>{we(),ge&&ge()})};se?se(v,we,Le):Le()}else s(v,_,E)},je=(m,_,E,T=!1,p=!1)=>{const{type:v,props:C,ref:R,children:L,dynamicChildren:b,shapeFlag:A,patchFlag:te,dirs:se}=m;if(R!=null&&Pr(R,null,E,m,!0),A&256){_.ctx.deactivate(m);return}const ge=A&1&&se,we=!Cs(m);let Le;if(we&&(Le=C&&C.onVnodeBeforeUnmount)&&Ft(Le,_,m),A&6)en(m.component,E,T);else{if(A&128){m.suspense.unmount(E,T);return}ge&&An(m,null,_,"beforeUnmount"),A&64?m.type.remove(m,_,E,p,J,T):b&&(v!==Z||te>0&&te&64)?We(b,_,E,!1,!0):(v===Z&&te&384||!p&&A&16)&&We(L,_,E),T&&gt(m)}(we&&(Le=C&&C.onVnodeUnmounted)||ge)&&mt(()=>{Le&&Ft(Le,_,m),ge&&An(m,null,_,"unmounted")},E)},gt=m=>{const{type:_,el:E,anchor:T,transition:p}=m;if(_===Z){Et(E,T);return}if(_===rr){he(m);return}const v=()=>{o(E),p&&!p.persisted&&p.afterLeave&&p.afterLeave()};if(m.shapeFlag&1&&p&&!p.persisted){const{leave:C,delayLeave:R}=p,L=()=>C(E,v);R?R(m.el,v,L):L()}else v()},Et=(m,_)=>{let E;for(;m!==_;)E=f(m),o(m),m=E;o(_)},en=(m,_,E)=>{const{bum:T,scope:p,update:v,subTree:C,um:R}=m;T&&oo(T),p.stop(),v&&(v.active=!1,je(C,m,_,E)),R&&mt(R,_),mt(()=>{m.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},We=(m,_,E,T=!1,p=!1,v=0)=>{for(let C=v;C<m.length;C++)je(m[C],_,E,T,p)},O=m=>m.shapeFlag&6?O(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el);let W=!1;const Q=(m,_,E)=>{m==null?_._vnode&&je(_._vnode,null,null,!0):x(_._vnode||null,m,_,null,null,null,E),W||(W=!0,aa(),ic(),W=!1),_._vnode=m},J={p:x,um:je,m:ke,r:gt,mt:D,mc:fe,pc:pe,pbc:be,n:O,o:e};let _e,Ne;return{render:Q,hydrate:_e,createApp:Ch(Q,_e)}}function or({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Rn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ih(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Cc(e,t,n=!1){const s=e.children,o=t.children;if(ue(s)&&ue(o))for(let r=0;r<s.length;r++){const i=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=vn(o[r]),l.el=i.el),n||Cc(i,l)),l.type===Do&&(l.el=i.el)}}function qh(e){const t=e.slice(),n=[0];let s,o,r,i,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<d?r=l+1:i=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function Sc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sc(t)}const Nh=e=>e.__isTeleport,Z=Symbol.for("v-fgt"),Do=Symbol.for("v-txt"),Sn=Symbol.for("v-cmt"),rr=Symbol.for("v-stc"),Ts=[];let It=null;function y(e=!1){Ts.push(It=e?null:[])}function Lh(){Ts.pop(),It=Ts[Ts.length-1]||null}let Ns=1;function va(e){Ns+=e}function Tc(e){return e.dynamicChildren=Ns>0?It||Yn:null,Lh(),Ns>0&&It&&It.push(e),e}function k(e,t,n,s,o,r){return Tc(a(e,t,n,s,o,r,!0))}function re(e,t,n,s,o){return Tc($(e,t,n,s,o,!0))}function xo(e){return e?e.__v_isVNode===!0:!1}function ys(e,t){return e.type===t.type&&e.key===t.key}const Uo="__vInternal",Ec=({key:e})=>e??null,ao=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ye(e)||et(e)||ve(e)?{i:Ze,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,s=0,o=null,r=e===Z?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ec(t),ref:t&&ao(t),scopeId:No,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ze};return l?(Ti(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Ye(n)?8:16),Ns>0&&!i&&It&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&It.push(c),c}const $=Dh;function Dh(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===uc)&&(e=Sn),xo(e)){const l=ns(e,t,!0);return n&&Ti(l,n),Ns>0&&!r&&It&&(l.shapeFlag&6?It[It.indexOf(e)]=l:It.push(l)),l.patchFlag|=-2,l}if(Gh(e)&&(e=e.__vccOpts),t){t=Uh(t);let{class:l,style:c}=t;l&&!Ye(l)&&(t.class=Y(l)),He(c)&&(Zl(c)&&!ue(c)&&(c=lt({},c)),t.style=Ut(c))}const i=Ye(e)?1:th(e)?128:Nh(e)?64:He(e)?4:ve(e)?2:0;return a(e,t,n,s,o,i,r,!0)}function Uh(e){return e?Zl(e)||Uo in e?lt({},e):e:null}function ns(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,l=t?$c(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ec(l),ref:t&&t.ref?n&&o?ue(o)?o.concat(ao(t)):[o,ao(t)]:ao(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Z?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ns(e.ssContent),ssFallback:e.ssFallback&&ns(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ne(e=" ",t=0){return $(Do,null,e,t)}function j(e="",t=!1){return t?(y(),re(Sn,null,e)):$(Sn,null,e)}function Ht(e){return e==null||typeof e=="boolean"?$(Sn):ue(e)?$(Z,null,e.slice()):typeof e=="object"?vn(e):$(Do,null,String(e))}function vn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ns(e)}function Ti(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ue(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Ti(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Uo in t)?t._ctx=Ze:o===3&&Ze&&(Ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:Ze},n=32):(t=String(t),s&64?(n=16,t=[ne(t)]):n=8);e.children=t,e.shapeFlag|=n}function $c(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Y([t.class,s.class]));else if(o==="style")t.style=Ut([t.style,s.style]);else if(Eo(o)){const r=t[o],i=s[o];i&&r!==i&&!(ue(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function Ft(e,t,n,s=null){qt(e,t,7,[n,s])}const Mh=vc();let Bh=0;function Fh(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Mh,r={uid:Bh++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Dl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_c(s,o),emitsOptions:lc(s,o),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:s.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Kd.bind(null,r),e.ce&&e.ce(r),r}let it=null,Co,Or;{const e=ql(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};Co=t("__VUE_INSTANCE_SETTERS__",n=>it=n),Or=t("__VUE_SSR_SETTERS__",n=>Mo=n)}const Fs=e=>{const t=it;return Co(e),e.scope.on(),()=>{e.scope.off(),Co(t)}},ba=()=>{it&&it.scope.off(),Co(null)};function Ac(e){return e.vnode.shapeFlag&4}let Mo=!1;function Hh(e,t=!1){t&&Or(t);const{props:n,children:s}=e.vnode,o=Ac(e);Th(e,n,o,t),Ah(e,s);const r=o?jh(e,t):void 0;return t&&Or(!1),r}function jh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Oo(new Proxy(e.ctx,gh));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?Vh(e):null,r=Fs(e);Mn();const i=xn(s,e,0,[e.props,o]);if(Bn(),r(),Pl(i)){if(i.then(ba,ba),t)return i.then(l=>{_a(e,l,t)}).catch(l=>{Io(l,e,0)});e.asyncDep=i}else _a(e,i,t)}else Rc(e,t)}function _a(e,t,n){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:He(t)&&(e.setupState=sc(t)),Rc(e,n)}let wa;function Rc(e,t,n){const s=e.type;if(!e.render){if(!t&&wa&&!s.render){const o=s.template||Ci(e).template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,d=lt(lt({isCustomElement:r,delimiters:l},i),c);s.render=wa(o,d)}}e.render=s.render||xt}{const o=Fs(e);Mn();try{vh(e)}finally{Bn(),o()}}}function Qh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return yt(e,"get","$attrs"),t[n]}}))}function Vh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Qh(e)},slots:e.slots,emit:e.emit,expose:t}}function Bo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(sc(Oo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ss)return Ss[n](e)},has(t,n){return n in t||n in Ss}}))}function Wh(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function Gh(e){return ve(e)&&"__vccOpts"in e}const z=(e,t)=>Ud(e,t,Mo);function Pc(e,t,n){const s=arguments.length;return s===2?He(t)&&!ue(t)?xo(t)?$(e,null,[t]):$(e,t):$(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&xo(n)&&(n=[n]),$(e,t,n))}const zh="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kh="http://www.w3.org/2000/svg",Yh="http://www.w3.org/1998/Math/MathML",bn=typeof document<"u"?document:null,ka=bn&&bn.createElement("template"),Jh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?bn.createElementNS(Kh,e):t==="mathml"?bn.createElementNS(Yh,e):bn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>bn.createTextNode(e),createComment:e=>bn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{ka.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=ka.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Xh=Symbol("_vtc");function Zh(e,t,n){const s=e[Xh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xa=Symbol("_vod"),ef=Symbol("_vsh"),tf=Symbol(""),nf=/(^|;)\s*display\s*:/;function sf(e,t,n){const s=e.style,o=Ye(n);let r=!1;if(n&&!o){if(t)if(Ye(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&lo(s,l,"")}else for(const i in t)n[i]==null&&lo(s,i,"");for(const i in n)i==="display"&&(r=!0),lo(s,i,n[i])}else if(o){if(t!==n){const i=s[tf];i&&(n+=";"+i),s.cssText=n,r=nf.test(n)}}else t&&e.removeAttribute("style");xa in e&&(e[xa]=r?s.display:"",e[ef]&&(s.display="none"))}const Ca=/\s*!important$/;function lo(e,t,n){if(ue(n))n.forEach(s=>lo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=of(e,t);Ca.test(n)?e.setProperty(Un(s),n.replace(Ca,""),"important"):e[s]=n}}const Sa=["Webkit","Moz","ms"],ir={};function of(e,t){const n=ir[t];if(n)return n;let s=zt(t);if(s!=="filter"&&s in e)return ir[t]=s;s=Ro(s);for(let o=0;o<Sa.length;o++){const r=Sa[o]+s;if(r in e)return ir[t]=r}return t}const Ta="http://www.w3.org/1999/xlink";function rf(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ta,t.slice(6,t.length)):e.setAttributeNS(Ta,t,n);else{const r=md(t);n==null||r&&!Nl(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function af(e,t,n,s,o,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,o,r),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(d!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Nl(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Vn(e,t,n,s){e.addEventListener(t,n,s)}function lf(e,t,n,s){e.removeEventListener(t,n,s)}const Ea=Symbol("_vei");function cf(e,t,n,s,o=null){const r=e[Ea]||(e[Ea]={}),i=r[t];if(s&&i)i.value=s;else{const[l,c]=uf(t);if(s){const d=r[t]=ff(s,o);Vn(e,l,d,c)}else i&&(lf(e,l,i,c),r[t]=void 0)}}const $a=/(?:Once|Passive|Capture)$/;function uf(e){let t;if($a.test(e)){t={};let s;for(;s=e.match($a);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Un(e.slice(2)),t]}let ar=0;const df=Promise.resolve(),hf=()=>ar||(df.then(()=>ar=0),ar=Date.now());function ff(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;qt(pf(s,n.value),t,5,[s])};return n.value=e,n.attached=hf(),n}function pf(e,t){if(ue(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Aa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,mf=(e,t,n,s,o,r,i,l,c)=>{const d=o==="svg";t==="class"?Zh(e,s,d):t==="style"?sf(e,n,s):Eo(t)?di(t)||cf(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yf(e,t,s,d))?af(e,t,s,r,i,l,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),rf(e,t,s,d))};function yf(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Aa(t)&&ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Aa(t)&&Ye(n)?!1:t in e}const Ra=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ue(t)?n=>oo(t,n):t};function gf(e){e.target.composing=!0}function Pa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lr=Symbol("_assign"),Ue={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[lr]=Ra(o);const r=s||o.props&&o.props.type==="number";Vn(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=wr(l)),e[lr](l)}),n&&Vn(e,"change",()=>{e.value=e.value.trim()}),t||(Vn(e,"compositionstart",gf),Vn(e,"compositionend",Pa),Vn(e,"change",Pa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},r){if(e[lr]=Ra(r),e.composing)return;const i=o||e.type==="number"?wr(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},vf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Hs=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Un(o.key);if(t.some(i=>i===r||vf[i]===r))return e(o)})},bf=lt({patchProp:mf},Jh);let Oa;function _f(){return Oa||(Oa=Ph(bf))}const wf=(...e)=>{const t=_f().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=xf(s);if(!o)return;const r=t._component;!ve(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,kf(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function kf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function xf(e){return Ye(e)?document.querySelector(e):e}var Cf=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Oc;const Fo=e=>Oc=e,Ic=Symbol();function Ir(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Es;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Es||(Es={}));function Sf(){const e=Ul(!0),t=e.run(()=>M({}));let n=[],s=[];const o=Oo({install(r){Fo(o),o._a=r,r.provide(Ic,o),r.config.globalProperties.$pinia=o,s.forEach(i=>n.push(i)),s=[]},use(r){return!this._a&&!Cf?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const qc=()=>{};function Ia(e,t,n,s=qc){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Ml()&&gd(o),o}function Qn(e,...t){e.slice().forEach(n=>{n(...t)})}const Tf=e=>e();function qr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],o=e[n];Ir(o)&&Ir(s)&&e.hasOwnProperty(n)&&!et(s)&&!kn(s)?e[n]=qr(o,s):e[n]=s}return e}const Ef=Symbol();function $f(e){return!Ir(e)||!e.hasOwnProperty(Ef)}const{assign:yn}=Object;function Af(e){return!!(et(e)&&e.effect)}function Rf(e,t,n,s){const{state:o,actions:r,getters:i}=t,l=n.state.value[e];let c;function d(){l||(n.state.value[e]=o?o():{});const u=Fd(n.state.value[e]);return yn(u,r,Object.keys(i||{}).reduce((h,f)=>(h[f]=Oo(z(()=>{Fo(n);const g=n._s.get(e);return i[f].call(g,g)})),h),{}))}return c=Nc(e,d,t,n,s,!0),c}function Nc(e,t,n={},s,o,r){let i;const l=yn({actions:{}},n),c={deep:!0};let d,u,h=[],f=[],g;const w=s.state.value[e];!r&&!w&&(s.state.value[e]={}),M({});let x;function I(fe){let le;d=u=!1,typeof fe=="function"?(fe(s.state.value[e]),le={type:Es.patchFunction,storeId:e,events:g}):(qr(s.state.value[e],fe),le={type:Es.patchObject,payload:fe,storeId:e,events:g});const be=x=Symbol();ki().then(()=>{x===be&&(d=!0)}),u=!0,Qn(h,le,s.state.value[e])}const U=r?function(){const{state:le}=n,be=le?le():{};this.$patch(Me=>{yn(Me,be)})}:qc;function V(){i.stop(),h=[],f=[],s._s.delete(e)}function X(fe,le){return function(){Fo(s);const be=Array.from(arguments),Me=[],Qe=[];function ze(K){Me.push(K)}function D(K){Qe.push(K)}Qn(f,{args:be,name:fe,store:me,after:ze,onError:D});let P;try{P=le.apply(this&&this.$id===e?this:me,be)}catch(K){throw Qn(Qe,K),K}return P instanceof Promise?P.then(K=>(Qn(Me,K),K)).catch(K=>(Qn(Qe,K),Promise.reject(K))):(Qn(Me,P),P)}}const he={_p:s,$id:e,$onAction:Ia.bind(null,f),$patch:I,$reset:U,$subscribe(fe,le={}){const be=Ia(h,fe,le.detached,()=>Me()),Me=i.run(()=>Ct(()=>s.state.value[e],Qe=>{(le.flush==="sync"?u:d)&&fe({storeId:e,type:Es.direct,events:g},Qe)},yn({},c,le)));return be},$dispose:V},me=Bs(he);s._s.set(e,me);const Pe=(s._a&&s._a.runWithContext||Tf)(()=>s._e.run(()=>(i=Ul()).run(t)));for(const fe in Pe){const le=Pe[fe];if(et(le)&&!Af(le)||kn(le))r||(w&&$f(le)&&(et(le)?le.value=w[fe]:qr(le,w[fe])),s.state.value[e][fe]=le);else if(typeof le=="function"){const be=X(fe,le);Pe[fe]=be,l.actions[fe]=le}}return yn(me,Pe),yn(Ee(me),Pe),Object.defineProperty(me,"$state",{get:()=>s.state.value[e],set:fe=>{I(le=>{yn(le,fe)})}}),s._p.forEach(fe=>{yn(me,i.run(()=>fe({store:me,app:s._a,pinia:s,options:l})))}),w&&r&&n.hydrate&&n.hydrate(me.$state,w),d=!0,u=!0,me}function Ho(e,t,n){let s,o;const r=typeof t=="function";typeof e=="string"?(s=e,o=r?n:t):(o=e,s=e.id);function i(l,c){const d=Sh();return l=l||(d?Nt(Ic,null):null),l&&Fo(l),l=Oc,l._s.has(s)||(r?Nc(s,t,o,l):Rf(s,o,l)),l._s.get(s)}return i.$id=s,i}const Pf="bitd-vtt-client",Of="1.0.94",If="module",qf={dev:"vite",colors:"node ./scripts/common-colors.mjs",build:"npm run colors && vue-tsc && vite build && node scripts/copy-index-as-404.mjs",preview:"vite preview",deploy:"node ./scripts/increment-version.mjs && npm run build && gh-pages -d dist"},Nf={"@types/fast-json-patch":"^1.1.5","@types/socket.io-client":"^3.0.0","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@types/ws":"^8.5.10",axios:"^1.6.8",chalk:"^5.3.0","fast-json-patch":"^3.1.1","gh-pages":"^6.1.1","node-vibrant":"^3.2.1-alpha.1",pinia:"^2.1.7",rxjs:"^7.8.1","socket.io-client":"^4.7.5","string-hash":"^1.1.3",uuid:"^9.0.1",vue:"^3.4.19","vue-router":"^4.3.2",ws:"^8.17.0"},Lf={"@types/node":"^20.12.8","@vitejs/plugin-vue":"^5.0.4",sass:"^1.74.1",typescript:"^5.2.2",vite:"^5.1.4","vue-tsc":"^1.8.27"},Df={name:Pf,private:!0,version:Of,type:If,scripts:qf,dependencies:Nf,devDependencies:Lf},Lc=e=>(Ae("data-v-e5afb3c7"),e=e(),Re(),e),Uf=Lc(()=>a("span",{class:"online"},"online",-1)),Mf=Lc(()=>a("span",{class:"in-the-dark"},"in the Dark",-1)),Bf=[Uf,Mf],Ff=ie({__name:"Logo",props:{big:{type:Boolean}},setup(e){const t=e;return(n,s)=>(y(),k("div",{class:Y(["logo",{big:t.big}])},Bf,2))}}),ae=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Dc=ae(Ff,[["__scopeId","data-v-e5afb3c7"]]),Hf=e=>(Ae("data-v-63440d07"),e=e(),Re(),e),jf={class:"loading"},Qf=Hf(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),Vf=ie({__name:"LoadingModal",setup(e){return(t,n)=>(y(),k("div",jf,[$(Dc,{big:""}),Qf]))}}),cs=ae(Vf,[["__scopeId","data-v-63440d07"]]);var Nr=function(e,t){return Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Nr(e,t)};function jo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Lr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),o,r=[],i;try{for(;(t===void 0||t-- >0)&&!(o=s.next()).done;)r.push(o.value)}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r}function Ur(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,r;s<o;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function rn(e){return typeof e=="function"}function Uc(e){var t=function(s){Error.call(s),s.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cr=Uc(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(s,o){return o+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Mr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Qo=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,s,o,r;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=Lr(i),c=l.next();!c.done;c=l.next()){var d=c.value;d.remove(this)}}catch(x){t={error:x}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(rn(u))try{u()}catch(x){r=x instanceof cr?x.errors:[x]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Lr(h),g=f.next();!g.done;g=f.next()){var w=g.value;try{qa(w)}catch(x){r=r??[],x instanceof cr?r=Ur(Ur([],Dr(r)),Dr(x.errors)):r.push(x)}}}catch(x){s={error:x}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(s)throw s.error}}}if(r)throw new cr(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)qa(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Mr(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Mr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Mc=Qo.EMPTY;function Bc(e){return e instanceof Qo||e&&"closed"in e&&rn(e.remove)&&rn(e.add)&&rn(e.unsubscribe)}function qa(e){rn(e)?e():e.unsubscribe()}var Fc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hc={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return setTimeout.apply(void 0,Ur([e,t],Dr(n)))},clearTimeout:function(e){var t=Hc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Wf(e){Hc.setTimeout(function(){throw e})}function Na(){}function co(e){e()}var jc=function(e){jo(t,e);function t(n){var s=e.call(this)||this;return s.isStopped=!1,n?(s.destination=n,Bc(n)&&n.add(s)):s.destination=Yf,s}return t.create=function(n,s,o){return new Br(n,s,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Qo),Gf=Function.prototype.bind;function ur(e,t){return Gf.call(e,t)}var zf=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(s){Xs(s)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(s){Xs(s)}else Xs(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Xs(n)}},e}(),Br=function(e){jo(t,e);function t(n,s,o){var r=e.call(this)||this,i;if(rn(n)||!n)i={next:n??void 0,error:s??void 0,complete:o??void 0};else{var l;r&&Fc.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return r.unsubscribe()},i={next:n.next&&ur(n.next,l),error:n.error&&ur(n.error,l),complete:n.complete&&ur(n.complete,l)}):i=n}return r.destination=new zf(i),r}return t}(jc);function Xs(e){Wf(e)}function Kf(e){throw e}var Yf={closed:!0,next:Na,error:Kf,complete:Na},Jf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Xf(e){return e}function Zf(e){return e.length===0?Xf:e.length===1?e[0]:function(n){return e.reduce(function(s,o){return o(s)},n)}}var La=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,s){var o=this,r=tp(t)?t:new Br(t,n,s);return co(function(){var i=o,l=i.operator,c=i.source;r.add(l?l.call(r,c):c?o._subscribe(r):o._trySubscribe(r))}),r},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var s=this;return n=Da(n),new n(function(o,r){var i=new Br({next:function(l){try{t(l)}catch(c){r(c),i.unsubscribe()}},error:r,complete:o});s.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Jf]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zf(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Da(t),new t(function(s,o){var r;n.subscribe(function(i){return r=i},function(i){return o(i)},function(){return s(r)})})},e.create=function(t){return new e(t)},e}();function Da(e){var t;return(t=e??Fc.Promise)!==null&&t!==void 0?t:Promise}function ep(e){return e&&rn(e.next)&&rn(e.error)&&rn(e.complete)}function tp(e){return e&&e instanceof jc||ep(e)&&Bc(e)}var np=Uc(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Qc=function(e){jo(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var s=new Ua(this,this);return s.operator=n,s},t.prototype._throwIfClosed=function(){if(this.closed)throw new np},t.prototype.next=function(n){var s=this;co(function(){var o,r;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var i=Lr(s.currentObservers),l=i.next();!l.done;l=i.next()){var c=l.value;c.next(n)}}catch(d){o={error:d}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var s=this;co(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=n;for(var o=s.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;co(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var s=n.observers;s.length;)s.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var s=this,o=this,r=o.hasError,i=o.isStopped,l=o.observers;return r||i?Mc:(this.currentObservers=null,l.push(n),new Qo(function(){s.currentObservers=null,Mr(l,n)}))},t.prototype._checkFinalizedStatuses=function(n){var s=this,o=s.hasError,r=s.thrownError,i=s.isStopped;o?n.error(r):i&&n.complete()},t.prototype.asObservable=function(){var n=new La;return n.source=this,n},t.create=function(n,s){return new Ua(n,s)},t}(La),Ua=function(e){jo(t,e);function t(n,s){var o=e.call(this)||this;return o.destination=n,o.source=s,o}return t.prototype.next=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.next)===null||o===void 0||o.call(s,n)},t.prototype.error=function(n){var s,o;(o=(s=this.destination)===null||s===void 0?void 0:s.error)===null||o===void 0||o.call(s,n)},t.prototype.complete=function(){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||s===void 0||s.call(n)},t.prototype._subscribe=function(n){var s,o;return(o=(s=this.source)===null||s===void 0?void 0:s.subscribe(n))!==null&&o!==void 0?o:Mc},t}(Qc);class G{constructor(){H(this,"subject",new Qc)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}H(G,"instance",null);function Vc(e,t){return function(){return e.apply(t,arguments)}}const{toString:sp}=Object.prototype,{getPrototypeOf:Ei}=Object,Vo=(e=>t=>{const n=sp.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jt=e=>(e=e.toLowerCase(),t=>Vo(t)===e),Wo=e=>t=>typeof t===e,{isArray:us}=Array,Ls=Wo("undefined");function op(e){return e!==null&&!Ls(e)&&e.constructor!==null&&!Ls(e.constructor)&&St(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wc=Jt("ArrayBuffer");function rp(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wc(e.buffer),t}const ip=Wo("string"),St=Wo("function"),Gc=Wo("number"),Go=e=>e!==null&&typeof e=="object",ap=e=>e===!0||e===!1,uo=e=>{if(Vo(e)!=="object")return!1;const t=Ei(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lp=Jt("Date"),cp=Jt("File"),up=Jt("Blob"),dp=Jt("FileList"),hp=e=>Go(e)&&St(e.pipe),fp=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||St(e.append)&&((t=Vo(e))==="formdata"||t==="object"&&St(e.toString)&&e.toString()==="[object FormData]"))},pp=Jt("URLSearchParams"),mp=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function js(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),us(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let l;for(s=0;s<i;s++)l=r[s],t.call(null,e[l],l,e)}}function zc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const Kc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yc=e=>!Ls(e)&&e!==Kc;function Fr(){const{caseless:e}=Yc(this)&&this||{},t={},n=(s,o)=>{const r=e&&zc(t,o)||o;uo(t[r])&&uo(s)?t[r]=Fr(t[r],s):uo(s)?t[r]=Fr({},s):us(s)?t[r]=s.slice():t[r]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&js(arguments[s],n);return t}const yp=(e,t,n,{allOwnKeys:s}={})=>(js(t,(o,r)=>{n&&St(o)?e[r]=Vc(o,n):e[r]=o},{allOwnKeys:s}),e),gp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vp=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},bp=(e,t,n,s)=>{let o,r,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)i=o[r],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&Ei(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_p=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},wp=e=>{if(!e)return null;if(us(e))return e;let t=e.length;if(!Gc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},kp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ei(Uint8Array)),xp=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const r=o.value;t.call(e,r[0],r[1])}},Cp=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Sp=Jt("HTMLFormElement"),Tp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),Ma=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ep=Jt("RegExp"),Jc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};js(n,(o,r)=>{let i;(i=t(o,r,e))!==!1&&(s[r]=i||o)}),Object.defineProperties(e,s)},$p=e=>{Jc(e,(t,n)=>{if(St(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(St(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ap=(e,t)=>{const n={},s=o=>{o.forEach(r=>{n[r]=!0})};return us(e)?s(e):s(String(e).split(t)),n},Rp=()=>{},Pp=(e,t)=>(e=+e,Number.isFinite(e)?e:t),dr="abcdefghijklmnopqrstuvwxyz",Ba="0123456789",Xc={DIGIT:Ba,ALPHA:dr,ALPHA_DIGIT:dr+dr.toUpperCase()+Ba},Op=(e=16,t=Xc.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function Ip(e){return!!(e&&St(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const qp=e=>{const t=new Array(10),n=(s,o)=>{if(Go(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const r=us(s)?[]:{};return js(s,(i,l)=>{const c=n(i,o+1);!Ls(c)&&(r[l]=c)}),t[o]=void 0,r}}return s};return n(e,0)},Np=Jt("AsyncFunction"),Lp=e=>e&&(Go(e)||St(e))&&St(e.then)&&St(e.catch),N={isArray:us,isArrayBuffer:Wc,isBuffer:op,isFormData:fp,isArrayBufferView:rp,isString:ip,isNumber:Gc,isBoolean:ap,isObject:Go,isPlainObject:uo,isUndefined:Ls,isDate:lp,isFile:cp,isBlob:up,isRegExp:Ep,isFunction:St,isStream:hp,isURLSearchParams:pp,isTypedArray:kp,isFileList:dp,forEach:js,merge:Fr,extend:yp,trim:mp,stripBOM:gp,inherits:vp,toFlatObject:bp,kindOf:Vo,kindOfTest:Jt,endsWith:_p,toArray:wp,forEachEntry:xp,matchAll:Cp,isHTMLForm:Sp,hasOwnProperty:Ma,hasOwnProp:Ma,reduceDescriptors:Jc,freezeMethods:$p,toObjectSet:Ap,toCamelCase:Tp,noop:Rp,toFiniteNumber:Pp,findKey:zc,global:Kc,isContextDefined:Yc,ALPHABET:Xc,generateString:Op,isSpecCompliantForm:Ip,toJSONObject:qp,isAsyncFn:Np,isThenable:Lp};function Ce(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o)}N.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Zc=Ce.prototype,eu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eu[e]={value:e}});Object.defineProperties(Ce,eu);Object.defineProperty(Zc,"isAxiosError",{value:!0});Ce.from=(e,t,n,s,o,r)=>{const i=Object.create(Zc);return N.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ce.call(i,e.message,t,n,s,o),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const Dp=null;function Hr(e){return N.isPlainObject(e)||N.isArray(e)}function tu(e){return N.endsWith(e,"[]")?e.slice(0,-2):e}function Fa(e,t,n){return e?e.concat(t).map(function(o,r){return o=tu(o),!n&&r?"["+o+"]":o}).join(n?".":""):t}function Up(e){return N.isArray(e)&&!e.some(Hr)}const Mp=N.toFlatObject(N,{},null,function(t){return/^is[A-Z]/.test(t)});function zo(e,t,n){if(!N.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,I){return!N.isUndefined(I[x])});const s=n.metaTokens,o=n.visitor||u,r=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(t);if(!N.isFunction(o))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(N.isDate(w))return w.toISOString();if(!c&&N.isBlob(w))throw new Ce("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(w)||N.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,x,I){let U=w;if(w&&!I&&typeof w=="object"){if(N.endsWith(x,"{}"))x=s?x:x.slice(0,-2),w=JSON.stringify(w);else if(N.isArray(w)&&Up(w)||(N.isFileList(w)||N.endsWith(x,"[]"))&&(U=N.toArray(w)))return x=tu(x),U.forEach(function(X,he){!(N.isUndefined(X)||X===null)&&t.append(i===!0?Fa([x],he,r):i===null?x:x+"[]",d(X))}),!1}return Hr(w)?!0:(t.append(Fa(I,x,r),d(w)),!1)}const h=[],f=Object.assign(Mp,{defaultVisitor:u,convertValue:d,isVisitable:Hr});function g(w,x){if(!N.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(w),N.forEach(w,function(U,V){(!(N.isUndefined(U)||U===null)&&o.call(t,U,N.isString(V)?V.trim():V,x,f))===!0&&g(U,x?x.concat(V):[V])}),h.pop()}}if(!N.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Ha(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function $i(e,t){this._pairs=[],e&&zo(e,this,t)}const nu=$i.prototype;nu.append=function(t,n){this._pairs.push([t,n])};nu.toString=function(t){const n=t?function(s){return t.call(this,s,Ha)}:Ha;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Bp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function su(e,t,n){if(!t)return e;const s=n&&n.encode||Bp,o=n&&n.serialize;let r;if(o?r=o(t,n):r=N.isURLSearchParams(t)?t.toString():new $i(t,n).toString(s),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class ja{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){N.forEach(this.handlers,function(s){s!==null&&t(s)})}}const ou={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fp=typeof URLSearchParams<"u"?URLSearchParams:$i,Hp=typeof FormData<"u"?FormData:null,jp=typeof Blob<"u"?Blob:null,Qp={isBrowser:!0,classes:{URLSearchParams:Fp,FormData:Hp,Blob:jp},protocols:["http","https","file","blob","url","data"]},ru=typeof window<"u"&&typeof document<"u",Vp=(e=>ru&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Wp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ru,hasStandardBrowserEnv:Vp,hasStandardBrowserWebWorkerEnv:Wp},Symbol.toStringTag,{value:"Module"})),Vt={...Gp,...Qp};function zp(e,t){return zo(e,new Vt.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,r){return Vt.isNode&&N.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Kp(e){return N.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Yp(e){const t={},n=Object.keys(e);let s;const o=n.length;let r;for(s=0;s<o;s++)r=n[s],t[r]=e[r];return t}function iu(e){function t(n,s,o,r){let i=n[r++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=r>=n.length;return i=!i&&N.isArray(o)?o.length:i,c?(N.hasOwnProp(o,i)?o[i]=[o[i],s]:o[i]=s,!l):((!o[i]||!N.isObject(o[i]))&&(o[i]=[]),t(n,s,o[i],r)&&N.isArray(o[i])&&(o[i]=Yp(o[i])),!l)}if(N.isFormData(e)&&N.isFunction(e.entries)){const n={};return N.forEachEntry(e,(s,o)=>{t(Kp(s),o,n,0)}),n}return null}function Jp(e,t,n){if(N.isString(e))try{return(t||JSON.parse)(e),N.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Qs={transitional:ou,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,r=N.isObject(t);if(r&&N.isHTMLForm(t)&&(t=new FormData(t)),N.isFormData(t))return o?JSON.stringify(iu(t)):t;if(N.isArrayBuffer(t)||N.isBuffer(t)||N.isStream(t)||N.isFile(t)||N.isBlob(t))return t;if(N.isArrayBufferView(t))return t.buffer;if(N.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return zp(t,this.formSerializer).toString();if((l=N.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||o?(n.setContentType("application/json",!1),Jp(t)):t}],transformResponse:[function(t){const n=this.transitional||Qs.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&N.isString(t)&&(s&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?Ce.from(l,Ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vt.classes.FormData,Blob:Vt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],e=>{Qs.headers[e]={}});const Xp=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zp=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),s=i.substring(o+1).trim(),!(!n||t[n]&&Xp[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Qa=Symbol("internals");function gs(e){return e&&String(e).trim().toLowerCase()}function ho(e){return e===!1||e==null?e:N.isArray(e)?e.map(ho):String(e)}function em(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const tm=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hr(e,t,n,s,o){if(N.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!N.isString(t)){if(N.isString(s))return t.indexOf(s)!==-1;if(N.isRegExp(s))return s.test(t)}}function nm(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function sm(e,t){const n=N.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,r,i){return this[s].call(this,t,o,r,i)},configurable:!0})})}let Tt=class{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function r(l,c,d){const u=gs(c);if(!u)throw new Error("header name must be a non-empty string");const h=N.findKey(o,u);(!h||o[h]===void 0||d===!0||d===void 0&&o[h]!==!1)&&(o[h||c]=ho(l))}const i=(l,c)=>N.forEach(l,(d,u)=>r(d,u,c));return N.isPlainObject(t)||t instanceof this.constructor?i(t,n):N.isString(t)&&(t=t.trim())&&!tm(t)?i(Zp(t),n):t!=null&&r(n,t,s),this}get(t,n){if(t=gs(t),t){const s=N.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return em(o);if(N.isFunction(n))return n.call(this,o,s);if(N.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=gs(t),t){const s=N.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||hr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function r(i){if(i=gs(i),i){const l=N.findKey(s,i);l&&(!n||hr(s,s[l],l,n))&&(delete s[l],o=!0)}}return N.isArray(t)?t.forEach(r):r(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const r=n[s];(!t||hr(this,this[r],r,t,!0))&&(delete this[r],o=!0)}return o}normalize(t){const n=this,s={};return N.forEach(this,(o,r)=>{const i=N.findKey(s,r);if(i){n[i]=ho(o),delete n[r];return}const l=t?nm(r):String(r).trim();l!==r&&delete n[r],n[l]=ho(o),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return N.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&N.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[Qa]=this[Qa]={accessors:{}}).accessors,o=this.prototype;function r(i){const l=gs(i);s[l]||(sm(o,i),s[l]=!0)}return N.isArray(t)?t.forEach(r):r(t),this}};Tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Tt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});N.freezeMethods(Tt);function fr(e,t){const n=this||Qs,s=t||n,o=Tt.from(s.headers);let r=s.data;return N.forEach(e,function(l){r=l.call(n,r,o.normalize(),t?t.status:void 0)}),o.normalize(),r}function au(e){return!!(e&&e.__CANCEL__)}function Vs(e,t,n){Ce.call(this,e??"canceled",Ce.ERR_CANCELED,t,n),this.name="CanceledError"}N.inherits(Vs,Ce,{__CANCEL__:!0});function om(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const rm=Vt.hasStandardBrowserEnv?{write(e,t,n,s,o,r){const i=[e+"="+encodeURIComponent(t)];N.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),N.isString(s)&&i.push("path="+s),N.isString(o)&&i.push("domain="+o),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function im(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function am(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lu(e,t){return e&&!im(t)?am(e,t):t}const lm=Vt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function o(r){let i=r;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=o(window.location.href),function(i){const l=N.isString(i)?o(i):i;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}();function cm(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function um(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,r=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[r];i||(i=d),n[o]=c,s[o]=d;let h=r,f=0;for(;h!==o;)f+=n[h++],h=h%e;if(o=(o+1)%e,o===r&&(r=(r+1)%e),d-i<t)return;const g=u&&d-u;return g?Math.round(f*1e3/g):void 0}}function Va(e,t){let n=0;const s=um(50,250);return o=>{const r=o.loaded,i=o.lengthComputable?o.total:void 0,l=r-n,c=s(l),d=r<=i;n=r;const u={loaded:r,total:i,progress:i?r/i:void 0,bytes:l,rate:c||void 0,estimated:c&&i&&d?(i-r)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const dm=typeof XMLHttpRequest<"u",hm=dm&&function(e){return new Promise(function(n,s){let o=e.data;const r=Tt.from(e.headers).normalize();let{responseType:i,withXSRFToken:l}=e,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let u;if(N.isFormData(o)){if(Vt.hasStandardBrowserEnv||Vt.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[x,...I]=u?u.split(";").map(U=>U.trim()).filter(Boolean):[];r.setContentType([x||"multipart/form-data",...I].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const x=e.auth.username||"",I=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(x+":"+I))}const f=lu(e.baseURL,e.url);h.open(e.method.toUpperCase(),su(f,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function g(){if(!h)return;const x=Tt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),U={data:!i||i==="text"||i==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:e,request:h};om(function(X){n(X),d()},function(X){s(X),d()},U),h=null}if("onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){h&&(s(new Ce("Request aborted",Ce.ECONNABORTED,e,h)),h=null)},h.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let I=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const U=e.transitional||ou;e.timeoutErrorMessage&&(I=e.timeoutErrorMessage),s(new Ce(I,U.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,h)),h=null},Vt.hasStandardBrowserEnv&&(l&&N.isFunction(l)&&(l=l(e)),l||l!==!1&&lm(f))){const x=e.xsrfHeaderName&&e.xsrfCookieName&&rm.read(e.xsrfCookieName);x&&r.set(e.xsrfHeaderName,x)}o===void 0&&r.setContentType(null),"setRequestHeader"in h&&N.forEach(r.toJSON(),function(I,U){h.setRequestHeader(U,I)}),N.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),i&&i!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",Va(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Va(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=x=>{h&&(s(!x||x.type?new Vs(null,e,h):x),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const w=cm(f);if(w&&Vt.protocols.indexOf(w)===-1){s(new Ce("Unsupported protocol "+w+":",Ce.ERR_BAD_REQUEST,e));return}h.send(o||null)})},jr={http:Dp,xhr:hm};N.forEach(jr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wa=e=>`- ${e}`,fm=e=>N.isFunction(e)||e===null||e===!1,cu={getAdapter:e=>{e=N.isArray(e)?e:[e];const{length:t}=e;let n,s;const o={};for(let r=0;r<t;r++){n=e[r];let i;if(s=n,!fm(n)&&(s=jr[(i=String(n)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${i}'`);if(s)break;o[i||"#"+r]=s}if(!s){const r=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?r.length>1?`since :
`+r.map(Wa).join(`
`):" "+Wa(r[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:jr};function pr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vs(null,e)}function Ga(e){return pr(e),e.headers=Tt.from(e.headers),e.data=fr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cu.getAdapter(e.adapter||Qs.adapter)(e).then(function(s){return pr(e),s.data=fr.call(e,e.transformResponse,s),s.headers=Tt.from(s.headers),s},function(s){return au(s)||(pr(e),s&&s.response&&(s.response.data=fr.call(e,e.transformResponse,s.response),s.response.headers=Tt.from(s.response.headers))),Promise.reject(s)})}const za=e=>e instanceof Tt?{...e}:e;function ss(e,t){t=t||{};const n={};function s(d,u,h){return N.isPlainObject(d)&&N.isPlainObject(u)?N.merge.call({caseless:h},d,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function o(d,u,h){if(N.isUndefined(u)){if(!N.isUndefined(d))return s(void 0,d,h)}else return s(d,u,h)}function r(d,u){if(!N.isUndefined(u))return s(void 0,u)}function i(d,u){if(N.isUndefined(u)){if(!N.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in t)return s(d,u);if(h in e)return s(void 0,d)}const c={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u)=>o(za(d),za(u),!0)};return N.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=c[u]||o,f=h(e[u],t[u],u);N.isUndefined(f)&&h!==l||(n[u]=f)}),n}const uu="1.6.8",Ai={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ai[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ka={};Ai.transitional=function(t,n,s){function o(r,i){return"[Axios v"+uu+"] Transitional option '"+r+"'"+i+(s?". "+s:"")}return(r,i,l)=>{if(t===!1)throw new Ce(o(i," has been removed"+(n?" in "+n:"")),Ce.ERR_DEPRECATED);return n&&!Ka[i]&&(Ka[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,i,l):!0}};function pm(e,t,n){if(typeof e!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const r=s[o],i=t[r];if(i){const l=e[r],c=l===void 0||i(l,r,e);if(c!==!0)throw new Ce("option "+r+" must be "+c,Ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ce("Unknown option "+r,Ce.ERR_BAD_OPTION)}}const Qr={assertOptions:pm,validators:Ai},pn=Qr.validators;let Ln=class{constructor(t){this.defaults=t,this.interceptors={request:new ja,response:new ja}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ss(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:r}=n;s!==void 0&&Qr.assertOptions(s,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),o!=null&&(N.isFunction(o)?n.paramsSerializer={serialize:o}:Qr.assertOptions(o,{encode:pn.function,serialize:pn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=r&&N.merge(r.common,r[n.method]);r&&N.forEach(["delete","get","head","post","put","patch","common"],w=>{delete r[w]}),n.headers=Tt.concat(i,r);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,f;if(!c){const w=[Ga.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),f=w.length,u=Promise.resolve(n);h<f;)u=u.then(w[h++],w[h++]);return u}f=l.length;let g=n;for(h=0;h<f;){const w=l[h++],x=l[h++];try{g=w(g)}catch(I){x.call(this,I);break}}try{u=Ga.call(this,g)}catch(w){return Promise.reject(w)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=ss(this.defaults,t);const n=lu(t.baseURL,t.url);return su(n,t.params,t.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(t){Ln.prototype[t]=function(n,s){return this.request(ss(s||{},{method:t,url:n,data:(s||{}).data}))}});N.forEach(["post","put","patch"],function(t){function n(s){return function(r,i,l){return this.request(ss(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Ln.prototype[t]=n(),Ln.prototype[t+"Form"]=n(!0)});let mm=class du{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(o=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](o);s._listeners=null}),this.promise.then=o=>{let r;const i=new Promise(l=>{s.subscribe(l),r=l}).then(o);return i.cancel=function(){s.unsubscribe(r)},i},t(function(r,i,l){s.reason||(s.reason=new Vs(r,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new du(function(o){t=o}),cancel:t}}};function ym(e){return function(n){return e.apply(null,n)}}function gm(e){return N.isObject(e)&&e.isAxiosError===!0}const Vr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vr).forEach(([e,t])=>{Vr[t]=e});function hu(e){const t=new Ln(e),n=Vc(Ln.prototype.request,t);return N.extend(n,Ln.prototype,t,{allOwnKeys:!0}),N.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return hu(ss(e,o))},n}const Ge=hu(Qs);Ge.Axios=Ln;Ge.CanceledError=Vs;Ge.CancelToken=mm;Ge.isCancel=au;Ge.VERSION=uu;Ge.toFormData=zo;Ge.AxiosError=Ce;Ge.Cancel=Ge.CanceledError;Ge.all=function(t){return Promise.all(t)};Ge.spread=ym;Ge.isAxiosError=gm;Ge.mergeConfig=ss;Ge.AxiosHeaders=Tt;Ge.formToJSON=e=>iu(N.isHTMLForm(e)?new FormData(e):e);Ge.getAdapter=cu.getAdapter;Ge.HttpStatusCode=Vr;Ge.default=Ge;const{Axios:S2,AxiosError:T2,CanceledError:E2,isCancel:$2,CancelToken:A2,VERSION:R2,all:P2,Cancel:O2,isAxiosError:I2,spread:q2,toFormData:N2,AxiosHeaders:L2,HttpStatusCode:ln,formToJSON:D2,getAdapter:U2,mergeConfig:M2}=Ge,ht=Ho("auth",()=>{const e=M(),t=M(),n=localStorage.getItem("refreshToken");n&&(e.value=n);const s=r=>{e.value=r,r?localStorage.setItem("refreshToken",r):localStorage.removeItem("refreshToken")};return{accessToken:t,refreshToken:e,storeRefreshToken:s,clear:()=>{console.warn("Clearing tokens"),s(null),t.value=null}}}),Ri=location.hostname==="localhost"?"http://localhost:3005":"https://bitd-vtt-server-production.up.railway.app";console.log("BASE_URL:",Ri);const at=Ge.create({baseURL:Ri,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});function vm(){bm()}function bm(){at.interceptors.request.use(async e=>(e||(e={}),e.headers.Authorization=`Bearer ${ht().accessToken}`,e)),at.interceptors.response.use(e=>e,async e=>{var n,s,o,r;const t=["/auth/token","/account/login","/account/register"];if(((n=e.response)==null?void 0:n.status)===ln.Unauthorized&&!t.includes(e.config.url)){if((s=e.config.url)!=null&&s.includes("/auth/token"))return ht().clear(),Dt.push("/login"),Promise.reject("Invalid refresh token");if(!ht().refreshToken)return Promise.reject(((r=(o=e.response)==null?void 0:o.data)==null?void 0:r.message)||"No refresh token found");await fu();const i=e.config;return i.headers.Authorization=`Bearer ${ht().accessToken}`,at(i)}return Promise.reject(e)})}async function fu(){let e;try{console.log("@fetchAccessToken: refreshToken:",ht().refreshToken),e=await at.put("/auth/token",{refreshToken:ht().refreshToken})}catch{console.error("Invalid refresh token"),Ki();return}ht().accessToken=e.data.accessToken}const Wr=[{id:"791e4a6b-8f2e-41b2-8410-09fdb69d22e2",name:"Crystal",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-crystal-100.png",commonColor:"#8E3E63"},{id:"762c4875-c258-443a-8d88-adeaab82b31c",name:"Joker",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-joker-100.png",commonColor:"#D2649A"},{id:"a1bee44a-c856-4f54-b665-4de8c278d117",name:"Battle",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-battle-100.png",commonColor:"#577B8D"},{id:"7d5f18bc-a32d-4aca-a51d-507b827c8683",name:"Pawn",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-pawn-100.png",commonColor:"#40A578"},{id:"5895f6e3-05b7-42e4-9b5f-19bb3d4ca33e",name:"Rook",author:"Icons8",source:"https://icons8.com",url:"/images/portrait-images/icons8-rook-100.png",commonColor:"#A91D3A"}],Oe=Ho("user",()=>{const e=M(),t=M(),n=M(!0),s=M(),o=M([]),r=M([...Wr]);return{id:e,username:t,portrait:s,isGuest:n,games:o,clear:()=>{e.value=null,t.value=null,s.value=null,n.value=!0,o.value=[]},portraits:r}}),Ie=Ho("game",()=>{const e=M(null),t=()=>{e.value=null},n=z(()=>{var s;return(s=e.value)==null?void 0:s.players[Oe().id]});return{game:e,userPlayer:n,clear:t}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var _m=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),wm=Object.prototype.hasOwnProperty;function Gr(e,t){return wm.call(e,t)}function zr(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var o in e)Gr(e,o)&&s.push(o);return s}function _t(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Kr(e){for(var t=0,n=e.length,s;t<n;){if(s=e.charCodeAt(t),s>=48&&s<=57){t++;continue}return!1}return!0}function Pn(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function pu(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Yr(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Yr(e[t]))return!0}else if(typeof e=="object"){for(var s=zr(e),o=s.length,r=0;r<o;r++)if(Yr(e[s[r]]))return!0}}return!1}function Ya(e,t){var n=[e];for(var s in t){var o=typeof t[s]=="object"?JSON.stringify(t[s],null,2):t[s];typeof o<"u"&&n.push(s+": "+o)}return n.join(`
`)}var mu=function(e){_m(t,e);function t(n,s,o,r,i){var l=this.constructor,c=e.call(this,Ya(n,{name:s,index:o,operation:r,tree:i}))||this;return c.name=s,c.index=o,c.operation=r,c.tree=i,Object.setPrototypeOf(c,l.prototype),c.message=Ya(n,{name:s,index:o,operation:r,tree:i}),c}return t}(Error),Ve=mu,km=_t,Kn={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=So(n,this.path);s&&(s=_t(s));var o=Dn(n,{op:"remove",path:this.from}).removed;return Dn(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=So(n,this.from);return Dn(n,{op:"add",path:this.path,value:_t(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Ds(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},xm={add:function(e,t,n){return Kr(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var s=e.splice(t,1);return{newDocument:n,removed:s[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:Kn.move,copy:Kn.copy,test:Kn.test,_get:Kn._get};function So(e,t){if(t=="")return e;var n={op:"_get",path:t};return Dn(e,n),n.value}function Dn(e,t,n,s,o,r){if(n===void 0&&(n=!1),s===void 0&&(s=!0),o===void 0&&(o=!0),r===void 0&&(r=0),n&&(typeof n=="function"?n(t,0,e,t.path):To(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=So(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=Ds(e,t.value),i.test===!1)throw new Ve("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Ve("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,t,e);return i}}else{s||(e=_t(e));var l=t.path||"",c=l.split("/"),d=e,u=1,h=c.length,f=void 0,g=void 0,w=void 0;for(typeof n=="function"?w=n:w=To;;){if(g=c[u],g&&g.indexOf("~")!=-1&&(g=pu(g)),o&&(g=="__proto__"||g=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(d[g]===void 0?f=c.slice(0,u).join("/"):u==h-1&&(f=t.path),f!==void 0&&w(t,0,e,f)),u++,Array.isArray(d)){if(g==="-")g=d.length;else{if(n&&!Kr(g))throw new Ve("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",r,t,e);Kr(g)&&(g=~~g)}if(u>=h){if(n&&t.op==="add"&&g>d.length)throw new Ve("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",r,t,e);var i=xm[t.op].call(t,d,g,e);if(i.test===!1)throw new Ve("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}}else if(u>=h){var i=Kn[t.op].call(t,d,g,e);if(i.test===!1)throw new Ve("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i}if(d=d[g],n&&u<h&&(!d||typeof d!="object"))throw new Ve("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",r,t,e)}}}function Ko(e,t,n,s,o){if(s===void 0&&(s=!0),o===void 0&&(o=!0),n&&!Array.isArray(t))throw new Ve("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=_t(e));for(var r=new Array(t.length),i=0,l=t.length;i<l;i++)r[i]=Dn(e,t[i],n,!0,o,i),e=r[i].newDocument;return r.newDocument=e,r}function Cm(e,t,n){var s=Dn(e,t);if(s.test===!1)throw new Ve("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function To(e,t,n,s){if(typeof e!="object"||e===null||Array.isArray(e))throw new Ve("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Kn[e.op]){if(typeof e.path!="string")throw new Ve("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Ve('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Ve("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Ve("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Yr(e.value))throw new Ve("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var o=e.path.split("/").length,r=s.split("/").length;if(o!==r+1&&o!==r)throw new Ve("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==s)throw new Ve("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},l=yu([i],n);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new Ve("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Ve("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function yu(e,t,n){try{if(!Array.isArray(e))throw new Ve("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Ko(_t(t),_t(e),n||!0);else{n=n||To;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(o){if(o instanceof Ve)return o;throw o}}function Ds(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),s=Array.isArray(t),o,r,i;if(n&&s){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!Ds(e[o],t[o]))return!1;return!0}if(n!=s)return!1;var l=Object.keys(e);if(r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!t.hasOwnProperty(l[o]))return!1;for(o=r;o--!==0;)if(i=l[o],!Ds(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const Sm=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Ve,_areEquals:Ds,applyOperation:Dn,applyPatch:Ko,applyReducer:Cm,deepClone:km,getValueByPointer:So,validate:yu,validator:To},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Pi=new WeakMap,Tm=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Em=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function $m(e){return Pi.get(e)}function Am(e,t){return e.observers.get(t)}function Rm(e,t){e.observers.delete(t.callback)}function Pm(e,t){t.unobserve()}function Om(e,t){var n=[],s,o=$m(e);if(!o)o=new Tm(e),Pi.set(e,o);else{var r=Am(o,t);s=r&&r.observer}if(s)return s;if(s={},o.value=_t(e),t){s.callback=t,s.next=null;var i=function(){Jr(s)},l=function(){clearTimeout(s.next),s.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return s.patches=n,s.object=e,s.unobserve=function(){Jr(s),clearTimeout(s.next),Rm(o,s),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},o.observers.set(t,new Em(t,s)),s}function Jr(e,t){t===void 0&&(t=!1);var n=Pi.get(e.object);Oi(n.value,e.object,e.patches,"",t),e.patches.length&&Ko(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function Oi(e,t,n,s,o){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var r=zr(t),i=zr(e),l=!1,c=i.length-1;c>=0;c--){var d=i[c],u=e[d];if(Gr(t,d)&&!(t[d]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var h=t[d];typeof u=="object"&&u!=null&&typeof h=="object"&&h!=null&&Array.isArray(u)===Array.isArray(h)?Oi(u,h,n,s+"/"+Pn(d),o):u!==h&&(o&&n.push({op:"test",path:s+"/"+Pn(d),value:_t(u)}),n.push({op:"replace",path:s+"/"+Pn(d),value:_t(h)}))}else Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:s+"/"+Pn(d),value:_t(u)}),n.push({op:"remove",path:s+"/"+Pn(d)}),l=!0):(o&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}))}if(!(!l&&r.length==i.length))for(var c=0;c<r.length;c++){var d=r[c];!Gr(e,d)&&t[d]!==void 0&&n.push({op:"add",path:s+"/"+Pn(d),value:_t(t[d])})}}}function Im(e,t,n){n===void 0&&(n=!1);var s=[];return Oi(e,t,s,"",n),s}const qm=Object.freeze(Object.defineProperty({__proto__:null,compare:Im,generate:Jr,observe:Om,unobserve:Pm},Symbol.toStringTag,{value:"Module"}));Object.assign({},Sm,qm,{JsonPatchError:mu,deepClone:_t,escapePathComponent:Pn,unescapePathComponent:pu});const Kt=Object.create(null);Kt.open="0";Kt.close="1";Kt.ping="2";Kt.pong="3";Kt.message="4";Kt.upgrade="5";Kt.noop="6";const fo=Object.create(null);Object.keys(Kt).forEach(e=>{fo[Kt[e]]=e});const Xr={type:"error",data:"parser error"},gu=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vu=typeof ArrayBuffer=="function",bu=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ii=({type:e,data:t},n,s)=>gu&&t instanceof Blob?n?s(t):Ja(t,s):vu&&(t instanceof ArrayBuffer||bu(t))?n?s(t):Ja(new Blob([t]),s):s(Kt[e]+(t||"")),Ja=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Xa(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let mr;function Nm(e,t){if(gu&&e.data instanceof Blob)return e.data.arrayBuffer().then(Xa).then(t);if(vu&&(e.data instanceof ArrayBuffer||bu(e.data)))return t(Xa(e.data));Ii(e,!1,n=>{mr||(mr=new TextEncoder),t(mr.encode(n))})}const Za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ks=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Za.length;e++)ks[Za.charCodeAt(e)]=e;const Lm=e=>{let t=e.length*.75,n=e.length,s,o=0,r,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(s=0;s<n;s+=4)r=ks[e.charCodeAt(s)],i=ks[e.charCodeAt(s+1)],l=ks[e.charCodeAt(s+2)],c=ks[e.charCodeAt(s+3)],u[o++]=r<<2|i>>4,u[o++]=(i&15)<<4|l>>2,u[o++]=(l&3)<<6|c&63;return d},Dm=typeof ArrayBuffer=="function",qi=(e,t)=>{if(typeof e!="string")return{type:"message",data:_u(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Um(e.substring(1),t)}:fo[n]?e.length>1?{type:fo[n],data:e.substring(1)}:{type:fo[n]}:Xr},Um=(e,t)=>{if(Dm){const n=Lm(e);return _u(n,t)}else return{base64:!0,data:e}},_u=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},wu="",Mm=(e,t)=>{const n=e.length,s=new Array(n);let o=0;e.forEach((r,i)=>{Ii(r,!1,l=>{s[i]=l,++o===n&&t(s.join(wu))})})},Bm=(e,t)=>{const n=e.split(wu),s=[];for(let o=0;o<n.length;o++){const r=qi(n[o],t);if(s.push(r),r.type==="error")break}return s};function Fm(){return new TransformStream({transform(e,t){Nm(e,n=>{const s=n.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const r=new DataView(o.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{o=new Uint8Array(9);const r=new DataView(o.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let yr;function Zs(e){return e.reduce((t,n)=>t+n.length,0)}function eo(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let o=0;o<t;o++)n[o]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function Hm(e,t){yr||(yr=new TextDecoder);const n=[];let s=0,o=-1,r=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(s===0){if(Zs(n)<1)break;const c=eo(n,1);r=(c[0]&128)===128,o=c[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(Zs(n)<2)break;const c=eo(n,2);o=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Zs(n)<8)break;const c=eo(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Xr);break}o=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Zs(n)<o)break;const c=eo(n,o);l.enqueue(qi(r?c:yr.decode(c),t)),s=0}if(o===0||o>e){l.enqueue(Xr);break}}}})}const ku=4;function Ke(e){if(e)return jm(e)}function jm(e){for(var t in Ke.prototype)e[t]=Ke.prototype[t];return e}Ke.prototype.on=Ke.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ke.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ke.prototype.off=Ke.prototype.removeListener=Ke.prototype.removeAllListeners=Ke.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ke.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,o=n.length;s<o;++s)n[s].apply(this,t)}return this};Ke.prototype.emitReserved=Ke.prototype.emit;Ke.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ke.prototype.hasListeners=function(e){return!!this.listeners(e).length};const kt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function xu(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Qm=kt.setTimeout,Vm=kt.clearTimeout;function Yo(e,t){t.useNativeTimers?(e.setTimeoutFn=Qm.bind(kt),e.clearTimeoutFn=Vm.bind(kt)):(e.setTimeoutFn=kt.setTimeout.bind(kt),e.clearTimeoutFn=kt.clearTimeout.bind(kt))}const Wm=1.33;function Gm(e){return typeof e=="string"?zm(e):Math.ceil((e.byteLength||e.size)*Wm)}function zm(e){let t=0,n=0;for(let s=0,o=e.length;s<o;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Km(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Ym(e){let t={},n=e.split("&");for(let s=0,o=n.length;s<o;s++){let r=n[s].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Jm extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Ni extends Ke{constructor(t){super(),this.writable=!1,Yo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new Jm(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=qi(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Km(t);return n.length?"?"+n:""}}const Cu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Zr=64,Xm={};let el=0,to=0,tl;function nl(e){let t="";do t=Cu[e%Zr]+t,e=Math.floor(e/Zr);while(e>0);return t}function Su(){const e=nl(+new Date);return e!==tl?(el=0,tl=e):e+"."+nl(el++)}for(;to<Zr;to++)Xm[Cu[to]]=to;let Tu=!1;try{Tu=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Zm=Tu;function Eu(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Zm))return new XMLHttpRequest}catch{}if(!t)try{return new kt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ey(){}const ty=function(){return new Eu({xdomain:!1}).responseType!=null}();class ny extends Ni{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let o=location.port;o||(o=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=ty&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Bm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Mm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Su()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Wt(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Wt extends Ke{constructor(t,n){super(),Yo(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=xu(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new Eu(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Wt.requestsCount++,Wt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ey,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Wt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Wt.requestsCount=0;Wt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",sl);else if(typeof addEventListener=="function"){const e="onpagehide"in kt?"pagehide":"unload";addEventListener(e,sl,!1)}}function sl(){for(let e in Wt.requests)Wt.requests.hasOwnProperty(e)&&Wt.requests[e].abort()}const Li=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),no=kt.WebSocket||kt.MozWebSocket,ol=!0,sy="arraybuffer",rl=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class oy extends Ni{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=rl?{}:xu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=ol&&!rl?n?new no(t,n):new no(t):new no(t,n,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;Ii(s,this.supportsBinary,r=>{const i={};try{ol&&this.ws.send(r)}catch{}o&&Li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Su()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!no}}class ry extends Ni{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Hm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),o=Fm();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const r=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;this.writer.write(s).then(()=>{o&&Li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const iy={websocket:oy,webtransport:ry,polling:ny},ay=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ly=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ei(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let o=ay.exec(e||""),r={},i=14;for(;i--;)r[ly[i]]=o[i]||"";return n!=-1&&s!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=cy(r,r.path),r.queryKey=uy(r,r.query),r}function cy(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function uy(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,r){o&&(n[o]=r)}),n}let $u=class Wn extends Ke{constructor(t,n={}){super(),this.binaryType=sy,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=ei(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=ei(n.host).host),Yo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ym(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=ku,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new iy[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Wn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;Wn.priorWebsocketSuccess=!1;const o=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Wn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function r(){s||(s=!0,u(),n.close(),n=null)}const i=h=>{const f=new Error("probe error: "+h);f.transport=n.name,r(),this.emitReserved("upgradeError",f)};function l(){i("transport closed")}function c(){i("socket closed")}function d(h){n&&h.name!==n.name&&r()}const u=()=>{n.removeListener("open",o),n.removeListener("error",i),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",o),n.once("error",i),n.once("close",l),this.once("close",c),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Wn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const o=this.writeBuffer[s].data;if(o&&(n+=Gm(o)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,o){if(typeof n=="function"&&(o=n,n=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:t,data:n,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Wn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const o=t.length;for(;s<o;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};$u.protocol=ku;function dy(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=ei(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+t,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}const hy=typeof ArrayBuffer=="function",fy=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Au=Object.prototype.toString,py=typeof Blob=="function"||typeof Blob<"u"&&Au.call(Blob)==="[object BlobConstructor]",my=typeof File=="function"||typeof File<"u"&&Au.call(File)==="[object FileConstructor]";function Di(e){return hy&&(e instanceof ArrayBuffer||fy(e))||py&&e instanceof Blob||my&&e instanceof File}function po(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(po(e[n]))return!0;return!1}if(Di(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return po(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&po(e[n]))return!0;return!1}function yy(e){const t=[],n=e.data,s=e;return s.data=ti(n,t),s.attachments=t.length,{packet:s,buffers:t}}function ti(e,t){if(!e)return e;if(Di(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=ti(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=ti(e[s],t));return n}return e}function gy(e,t){return e.data=ni(e.data,t),delete e.attachments,e}function ni(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ni(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ni(e[n],t));return e}const vy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],by=5;var xe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(xe||(xe={}));class _y{constructor(t){this.replacer=t}encode(t){return(t.type===xe.EVENT||t.type===xe.ACK)&&po(t)?this.encodeAsBinary({type:t.type===xe.EVENT?xe.BINARY_EVENT:xe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===xe.BINARY_EVENT||t.type===xe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=yy(t),s=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(s),o}}function il(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ui extends Ke{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===xe.BINARY_EVENT;s||n.type===xe.BINARY_ACK?(n.type=s?xe.EVENT:xe.ACK,this.reconstructor=new wy(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Di(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(xe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===xe.BINARY_EVENT||s.type===xe.BINARY_ACK){const r=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(r,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(r,n)}else s.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const r=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(r,n+1))}if(t.charAt(++n)){const r=this.tryParse(t.substr(n));if(Ui.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case xe.CONNECT:return il(n);case xe.DISCONNECT:return n===void 0;case xe.CONNECT_ERROR:return typeof n=="string"||il(n);case xe.EVENT:case xe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&vy.indexOf(n[0])===-1);case xe.ACK:case xe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class wy{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=gy(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ky=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ui,Encoder:_y,get PacketType(){return xe},protocol:by},Symbol.toStringTag,{value:"Module"}));function Rt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const xy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ru extends Ke{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Rt(t,"open",this.onopen.bind(this)),Rt(t,"packet",this.onpacket.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(xy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:xe.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const i=this.ids++,l=n.pop();this._registerAckCallback(i,l),s.id=i}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},o),i=(...l)=>{this.io.clearTimeoutFn(r),n.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,o)=>{const r=(i,l)=>i?o(i):s(l);r.withError=!0,n.push(r),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...r)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case xe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xe.EVENT:case xe.BINARY_EVENT:this.onevent(t);break;case xe.ACK:case xe.BINARY_ACK:this.onack(t);break;case xe.DISCONNECT:this.ondisconnect();break;case xe.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...o){s||(s=!0,n.packet({type:xe.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function ds(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ds.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ds.prototype.reset=function(){this.attempts=0};ds.prototype.setMin=function(e){this.ms=e};ds.prototype.setMax=function(e){this.max=e};ds.prototype.setJitter=function(e){this.jitter=e};class si extends Ke{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Yo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ds({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||ky;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new $u(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=Rt(n,"open",function(){s.onopen(),t&&t()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Rt(n,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{o(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(o),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Rt(t,"ping",this.onping.bind(this)),Rt(t,"data",this.ondata.bind(this)),Rt(t,"error",this.onerror.bind(this)),Rt(t,"close",this.onclose.bind(this)),Rt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Li(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Ru(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const vs={};function mo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=dy(e,t.path||"/socket.io"),s=n.source,o=n.id,r=n.path,i=vs[o]&&r in vs[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return l?c=new si(s,t):(vs[o]||(vs[o]=new si(s,t)),c=vs[o]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(mo,{Manager:si,Socket:Ru,io:mo,connect:mo});const Cy={},Sy={class:"modal"},Ty={class:"modal__content"};function Ey(e,t){return y(),k("div",Sy,[ts(e.$slots,"header",{},void 0),a("div",Ty,[ts(e.$slots,"content",{},void 0)])])}const ct=ae(Cy,[["render",Ey],["__scopeId","data-v-16f47290"]]),$y=e=>(Ae("data-v-b77cb2fd"),e=e(),Re(),e),Ay={class:"modal__header"},Ry=$y(()=>a("i",{class:"fas fa-times"},null,-1)),Py=[Ry],Oy=ie({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():G.close()}return(s,o)=>(y(),k("div",Ay,[ts(s.$slots,"default",{},void 0),e.closeButton?(y(),k("button",{key:0,class:"btn--icon",onClick:n},Py)):j("",!0)]))}}),ut=ae(Oy,[["__scopeId","data-v-b77cb2fd"]]),Iy=e=>(Ae("data-v-771211b0"),e=e(),Re(),e),qy={class:"info"},Ny=["innerHTML"],Ly=Iy(()=>a("span",null,"Okay",-1)),Dy=[Ly],Uy=ie({__name:"InfoModal",props:{title:{},message:{}},setup(e){const t=e;return(n,s)=>(y(),re(ct,null,{header:F(()=>[$(ut,null,{default:F(()=>[a("h2",null,q(t.title),1)]),_:1})]),content:F(()=>[a("div",qy,[a("p",{innerHTML:t.message},null,8,Ny),a("button",{class:"btn mobile-full-width",onClick:s[0]||(s[0]=o=>B(G).close())},Dy)])]),_:1}))}}),Jo=ae(Uy,[["__scopeId","data-v-771211b0"]]);let At=null;function My(e){console.log("@game-controller: connectToGame"),G.open(cs),At&&(At.disconnect(),At=null);const t={query:{gameId:e,token:ht().refreshToken}};At=mo(Ri,t),At.on("connect",Hy),At.on("disconnect",jy),At.on("patch",Fy),At.on("error",Qy),G.close()}function By(){At&&(At.disconnect(),At=null,Ie().clear())}function Fy(e){try{const{patches:t}=e;console.log("patch:",t),Ie().game=Ko(Ie().game||{},t).newDocument}catch(t){console.error("Failed to patch:",t);return}}function Hy(){console.log("onOpen")}function jy(){console.log("onClose"),G.open(Jo,{title:"Disconnected",message:"You have been disconnected from the game. Please try to reconnect.",onClose:()=>{G.open(cs),location.reload()}})}function Qy(e){console.log("onError:",e),G.open(Jo,{title:"Network Error",message:"A network error occurred."})}async function Se(e){var t;await at.patch(`/game/${(t=Ie().game)==null?void 0:t._id}`,e)}const Mi=[{id:"46c018c0-de33-4bd2-9024-71548b22db7e",name:"Forest",author:"Dan Meyers",source:"https://unsplash.com/photos/tall-trees-wB6B3AqXjy0",url:"/images/cover-images/forest.jpg",commonColor:"#8b7d73"},{id:"9131e281-184e-4e2d-8994-8536f9d3c0d0",name:"Forest 2",author:"Simon Berger",source:"https://unsplash.com/photos/grayscale-photo-of-trees-and-pathway-rydQVdwcgUQ",url:"/images/cover-images/forest-2.jpg",commonColor:"#7f7f7f"},{id:"2e2ec06d-97b4-4cce-b88d-a58c10b8bef8",name:"Castle",author:"Cederic Vandenberghe",source:"https://unsplash.com/photos/closeup-photo-of-castle-with-mist-21DP3hytVHw",url:"/images/cover-images/castle.jpg",commonColor:"#3f7690"},{id:"230ecd94-c69b-4444-a7e2-2585a2652051",name:"Broadsword",author:"Jonathan Kemper",source:"https://unsplash.com/photos/brown-wooden-handle-bar-on-brown-wooden-table-4_ZvmLAeIZk",url:"/images/cover-images/broadsword.jpg",commonColor:"#6c4c34"},{id:"16761f54-5c0c-4f56-8274-f04af8e7f33e",name:"Warband",author:"Hasan Almasi",source:"https://unsplash.com/photos/people-gathering-on-street-during-nighttime-OwqLxCvoVxI",url:"/images/cover-images/warband.jpg",commonColor:"#c34e33"},{id:"8df23582-b58f-4120-b407-528c3d1d1ae8",name:"Cathedral",author:"John Towner",source:"https://unsplash.com/photos/low-angle-photography-of-building-glass-window-pDKoVuXYKxU",url:"/images/cover-images/cathedral.jpg",commonColor:"#8f836f"},{id:"02c928bb-d011-42ee-8722-fd7856e60100",name:"Ghost Field",author:"Pawel Czerwinski",source:"https://unsplash.com/photos/water-splash-in-close-up-photography-BPrk2cOoCq8",url:"/images/cover-images/ghost-field.jpg",commonColor:"#5976a5"},{id:"116bb45e-7ea7-4e81-83fb-5cd7af65794c",name:"Brightstone",author:"Rob Jackson",source:"https://unsplash.com/photos/photo-of-grey-brick-building-_6HuhLHZ1v8",url:"/images/cover-images/brightstone.jpg",commonColor:"#4f5fb2"},{id:"3c2911d4-21da-4af3-a9aa-8fb2a5289300",name:"Church of Ecstasy",author:"David Knieradl",source:"https://unsplash.com/photos/a-set-of-stairs-leading-up-to-a-large-window-TGCDipvrP-I",url:"/images/cover-images/church-of-ecstasy.jpg",commonColor:"#5176ad"},{id:"a4fa66a2-cb5b-4491-9dab-39bc6e49b426",name:"Alley",author:"Arno Senoner",source:"https://unsplash.com/photos/a-cobblestone-street-lined-with-brick-buildings-e0SEn3icqLg",url:"/images/cover-images/alley.jpg",commonColor:"#d47f2a"},{id:"5992a65e-44f1-4d73-b264-37d58dd16d94",name:"Alley 2",author:"Morica Pham",source:"https://unsplash.com/photos/empty-street-between-buildings-during-night-time-kOjoKSyGei4",url:"/images/cover-images/alley-2.jpg",commonColor:"#dd8937"},{id:"272718f9-53ef-41f5-a33f-e96018681d8d",name:"Flames",author:"Lucas K",source:"https://unsplash.com/photos/blue-and-orange-smoke-wQLAGv4_OYs",url:"/images/cover-images/flames.jpg",commonColor:"#cc4e34"},{id:"799aace5-ec2d-4748-a972-8a8b50c6f60c",name:"Beach",author:"Kate Rodriguez",source:"https://unsplash.com/photos/river-overflow-in-between-rock-formation-p3OzJuT_Dks",url:"/images/cover-images/beach.jpg",commonColor:"#ab8453"},{id:"48bbec01-3d2a-4419-a383-428a0d589b04",name:"Embers",author:"Andrey Andreyev",source:"https://unsplash.com/photos/burned-firewood-s20nA2KB1N4",url:"/images/cover-images/embers.jpg",commonColor:"#e16f32"},{id:"332e3040-e8ac-43d8-a3bd-bcd05633fd35",name:"Spiral Stairs",author:"Ryan Searle",source:"https://unsplash.com/photos/twirl-stairs-with-chandeliers-Dqv8VRUKBs0",url:"/images/cover-images/spiral-stairs.jpg",commonColor:"#ad6a2e"}],Vy=e=>(Ae("data-v-bc5094d5"),e=e(),Re(),e),Wy=["src"],Gy={class:"game-card__content"},zy={class:"row info"},Ky={class:"tag"},Yy={class:"row users"},Jy=Vy(()=>a("i",{class:"fas fa-users"},null,-1)),Xy={class:"date-created"},Zy=ie({__name:"GameCard",props:{game:{type:Object,required:!0}},setup(e){const t=e,n=z(()=>Mi.find(r=>r.id===t.game.coverImage)),s=z(()=>t.game.players[Oe().id]),o=z(()=>new Date(t.game.dateCreated).toLocaleDateString());return(r,i)=>{var l,c;return y(),k("div",{class:"game-card",style:Ut({backgroundColor:(l=n.value)==null?void 0:l.commonColor})},[a("img",{src:(c=n.value)==null?void 0:c.url},null,8,Wy),a("div",Gy,[a("h2",null,q(t.game.name),1),a("div",zy,[a("span",Ky,q(s.value.role),1),a("div",Yy,[Jy,a("span",null,q(Object.keys(t.game.players).length),1)]),a("p",Xy,q(o.value),1)])])],4)}}}),eg=ae(Zy,[["__scopeId","data-v-bc5094d5"]]),tg=e=>(Ae("data-v-45fcb83d"),e=e(),Re(),e),ng={class:"ribbon__content"},sg=["innerHTML"],og=tg(()=>a("i",{class:"fas fa-times"},null,-1)),rg=[og],ig=ie({__name:"Ribbon",props:{id:{},message:{},onActivate:{type:Function}},setup(e){const t=e;function n(){localStorage.setItem("ribbon."+t.id,"true"),s.value=!1}const s=M(!localStorage.getItem("ribbon."+t.id));return(o,r)=>(y(),k("div",{class:Y(["ribbon",{"ribbon--hidden":!s.value}])},[a("div",ng,[a("p",{innerHTML:o.message,onClick:r[0]||(r[0]=(...i)=>o.onActivate&&o.onActivate(...i))},null,8,sg),a("button",{class:"btn btn--icon",onClick:n},rg)])],2))}}),ag=ae(ig,[["__scopeId","data-v-45fcb83d"]]),lg="/images/fitd-logo.webp",cg={},Bi=e=>(Ae("data-v-ba692196"),e=e(),Re(),e),ug={class:"divider"},dg=Bi(()=>a("div",{class:"line"},null,-1)),hg=Bi(()=>a("div",{class:"middle-symbol"},"",-1)),fg=Bi(()=>a("div",{class:"line"},null,-1)),pg=[dg,hg,fg];function mg(e,t){return y(),k("div",ug,pg)}const Qt=ae(cg,[["render",mg],["__scopeId","data-v-ba692196"]]),cn=e=>(Ae("data-v-61c6eabd"),e=e(),Re(),e),yg=cn(()=>a("h2",null,"Attribution",-1)),gg={class:"attribution"},vg=cn(()=>a("p",null,[ne(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),ne(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),bg=cn(()=>a("p",null,[ne(" This website is made and maintained by "),a("a",{class:"anchor-link",href:"https://olinkirk.land",target:"_blank"},"OlinKirkland")],-1)),_g=cn(()=>a("img",{src:lg},null,-1)),wg=cn(()=>a("p",null," Blades in the Dark is a trademark of One Seven Design. The Forged in the Dark Logo is  One Seven Design, and is used with permission ",-1)),kg=cn(()=>a("p",{class:"images-description"},[ne(" Illustrations are by "),a("a",{class:"anchor-link",href:"https://www.reddit.com/user/perryphery/submitted/",target:"_blank"},"u/perryphery on Reddit")],-1)),xg=cn(()=>a("p",{class:"images-description"},[ne(" Cover images are from "),a("a",{class:"anchor-link",href:"https://unsplash.com/",target:"_blank"},"Unsplash")],-1)),Cg={class:"images"},Sg=["href"],Tg=["src"],Eg=cn(()=>a("br",null,null,-1)),$g={class:"muted"},Ag=cn(()=>a("p",{class:"images-description"},[ne(" Icons are from "),a("a",{class:"anchor-link",href:"https://fontawesome.com/",target:"_blank"},"Font Awesome"),ne(" and "),a("a",{class:"anchor-link",href:"https://icons8.com/"},"Icons8")],-1)),Rg=ie({__name:"AttributionModal",setup(e){new Date().getFullYear();const t=n=>{const[s,o]=n.split(" ");return o?`${s} ${o[0]}.`:s};return(n,s)=>(y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[yg]),_:1})]),content:F(()=>[a("div",gg,[vg,$(Qt),bg,$(Qt),_g,wg,$(Qt),kg,$(Qt),xg,a("ul",Cg,[(y(!0),k(Z,null,ce(B(Mi),o=>(y(),k("li",{key:o.id},[a("a",{href:o.source,target:"_blank"},[a("img",{src:o.url},null,8,Tg),a("p",null,[ne(q(o.name),1),Eg,a("span",$g,"by "+q(t(o.author)),1)])],8,Sg)]))),128))]),$(Qt),Ag,ne("  ")])]),_:1}))}}),Pu=ae(Rg,[["__scopeId","data-v-61c6eabd"]]),Pg={crew:{reputations:["Ambitious","Brutal","Daring","Honorable","Professional","Savvy","Subtle","Strange"],lairs:[{name:"A crumbling watch tower",districts:["Six Towers","Crow's Foot","Coalridge"]},{name:"A half-sunken grotto beneath the city",districts:["Charterhall","Nightmarket","Barrowcleft"]},{name:"A dilapidated lighthouse",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Backrooms of a merchant's shop",districts:["Silkshore","Brightstone","Six Towers"]},{name:"A junked rail car",districts:["Dunslough","Charhollow","Coalridge"]},{name:"A rickety, tin-roofed shack",districts:["Silkshore","Charterhall"]},{name:"A small, abandoned house",districts:["Charterhall","Six Towers","Brightstone"]},{name:"Derelict ship, anchored in the canal",districts:["The Docks","Nightmarket","Crow's Foot"]},{name:"Tunnels beneath a bridge",districts:["Crow's Foot","Charterhall","Barrowcleft"]}],"upgrade-descriptions":{crew:{"assassin-rigging":`[/load 2 free load] Weapon or Gear items

For example, carry a pistol (a weapon) and burglary tools (gear) for zero load`,"bravos-rigging":`[/load 2 free load] Weapon or Armor items

For example, carry a sword and pistol or wear normal armor for zero load`,"cult-rigging":`[/load 2 free load] Document or Arcane Implement items

For example, carry a profane book of curses and a demon's hand for zero load`,"thief-rigging":`[/load 2 free load] Tool or Gear items

For example, carry burglary gear and tinkering tools for zero load`,"hawker-rigging":"[/load 1 free load] *Concealed* even against a patdown","smuggler-rigging":"Two of your carried items are *concealed* even against a pat down","elite-skulks":"Skulks Cohorts get [/dice +1] to *Quality Rolls* for Skulk-related actions","elite-thugs":"Thugs Cohorts get [/dice +1] to *Quality Rolls* for Thug-related actions","elite-rooks":"Rooks Cohorts get [/dice +1] to *Quality Rolls* for Rook-related actions","elite-rovers":"Rovers Cohorts get [/dice +1] to *Quality Rolls* for Rover-related actions","elite-adepts":"Adepts Cohorts get [/dice +1] to *Quality Rolls* for Adept-related actions","ironhook-contacts":"You have [/tier +1 Tier] in prison. This counts for any Tier-related element in prison, including the incarceration roll","ritual-sanctum-in-lair":"A sacred and arcane workshop for occult practices and rituals",hardened:"Each PC gets [/trauma +1 Trauma Box] and may bring a PC with 4 *Trauma* back into play. This costs three upgrades to unlock",ordained:"Each PC gets [/trauma +1 Trauma Box] and may bring a PC with 4 *Trauma* back into play. This costs three upgrades to unlock",composed:"Each PC gets [/stress +1 Stress Box] This costs three upgrades to unlock",steady:"Each PC gets [/stress +1 Stress Box] This costs three upgrades to unlock","underground-maps-and-passkeys":"You have easy passage through the underground canals, tunnels, and basements of the city",camouflage:"Your vehicles are perfectly concealed when at rest. They blend in as part of the environment, or as an uninteresting civilian vehicle (your choice)",barge:"You can move your lair to a new location as a *Downtime Activity"},lair:{"boat-house":`You have a boat, a dock on a waterway, and a small shack for storing boating supplies

A second upgrade improves the boat with armor and more cargo capacity`,"carriage-house":`You have a carriage, two goats to pull it, and a stable. A second upgrade improves the carriage with armor and larger, swifter goats

Horses are very rare in Duskwallmost carriages in the city use the large Akorosian goat as their draft animal`,"hidden-lair":"Your Lair is in a secret, hidden location. If it's discovered, use two *Downtime Activities* and pay [/coin Coin] equal to your *Tier* to relocate it and hide it again",quarters:`Your Lair includes living quarters for the Crew.

Without this upgrade, each PC sleeps elsewhere, and is vulnerable when they do so`,"secure-lair":`Your Lair has locks, alarms, and traps to thwart intruders. A second upgrade improves the defenses to include arcane measures that work against Spirits

Roll your Crew's *Tier* if these measures are ever put to the test to see how well they thwart an intruder`,vault:`Your Lair has a secure vault, increasing the Crew's storage capacity for *Coin* to 8. A separate part of your vault can be used as a holding cell

A second upgrade increases the capacity to 16`,workshop:`Your Lair has a workshop appointed with tools for tinkering and alchemy, as well as a small library of books, documents, and maps

You may accomplish long-term projects with these assets without leaving your Lair`},training:{insight:"Earn [/xp 2 XP] instead of 1 when you train **Insight** during Downtime",prowess:"Earn [/xp 2 XP] instead of 1 when you train **Prowess** during Downtime",resolve:"Earn [/xp 2 XP] instead of 1 when you train **Resolve** during Downtime",personal:"Earn [/xp 2 XP] instead of 1 when you train **Playbook** during Downtime",mastery:`The PCs gain access to master level training. You may advance your *Action Ratings* to 4

This costs four upgrades to unlock`},quality:{documents:"Improves the *Quality Rating* of the Crew's Documents",gear:"Improves the *Quality Rating* of the Crew's Burglary Gear and Climbing Gear",implements:"Improves the *Quality Rating* of the Crew's Arcane Implements",supplies:"Improves the *Quality Rating* of the Crew's Subterfuge Supplies",tools:"Improves the *Quality Rating* of the Crew's Demolitions Tools and Tinkering Tools",weapons:"Improves the *Quality Rating* of the Crew's Weapons"}},cohorts:{harm:[{name:"Weakened",description:"Reduced *Effect*"},{name:"Impaired",description:"Operates with [/dice -1] *Quality*"},{name:"Broken",description:"Can't do anything until they recover"},{name:"Dead",description:"Destroyed. Spend [/coin Coin] equal to your *Tier* +2 to restore it"}],expertise:["Doctor","Investigator","Occultist","Assassin","Spy"],edges:[{name:"Fearsome",description:"Terrifying in aspect and reputation"},{name:"Independent",description:"Can make good decisions and act on their own"},{name:"Loyal",description:"Can't be bribed or turned against you"},{name:"Tenacious",description:"Won't be deterred from a task"}],flaws:[{name:"Principled",description:"Has an ethic or values that it won't betray"},{name:"Savage",description:"Excessively violent and cruel"},{name:"Unreliable",description:"Not always available, due to other obligations"},{name:"Wild",description:"Drunken and loud-mouthed"}],vehicleEdges:[{name:"Nimble",description:"The vehicle handles easily. Consider this an assist for tricky maneuvers"},{name:"Simple",description:"The vehicle is easy to repair. Remove all of its harm during downtime"},{name:"Sturdy",description:"The vehicle keeps operating even when broken"}],vehicleFlaws:[{name:"Costly",description:"The vehicle costs [/coin 1 Coin] per Downtime to keep in operation"},{name:"Distinct",description:"The vehicle has memorable features. Take +1 *Heat* when you use it on a Score"},{name:"Finicky",description:"The vehicle has quirks that only one person understands. When operated without them, it has [/dice -1] *Quality*"}]}},character:{backgrounds:[{name:"Academic",blurb:"A scholar, a professor or student from Doskvol Academy, a philosopher or journalist, etc."},{name:"Labor",blurb:"A servant, a factory worker, a coach driver, a docker, a sailor, a Rail Jack, etc. A stevedore for the North Hook Company."},{name:"Law",blurb:"An advocate or barrister, a Bluecoat or inspector (or even Spirit Warden), a prison guard from Ironhook, etc."},{name:"Trade",blurb:"A shopkeeper, a merchant, a skilled crafts-person, a shipping agent, etc. A liaison to the Ministry of Preservation."},{name:"Military",blurb:"An Imperial or Skovlander soldier, a mercenary, an intelligence operative, a strategist, a training instructor, etc."},{name:"Noble",blurb:"A dilettante, a courtier, the scion of a fallen house, etc."},{name:"Underworld",blurb:"A street urchin, gang member, young thug, or other outcast who grew up on the streets."}],vices:[{name:"Faith",blurb:"You're dedicated to an unseen power, forgotten god, ancestor, etc."},{name:"Gambling",blurb:"You crave games of chance, betting on sporting events, etc."},{name:"Luxury",blurb:"Expensive and/or ostentatious displays of opulence."},{name:"Obligation",blurb:"You're devoted to a family, a cause, a charity, etc."},{name:"Pleasure",blurb:"Gratification from lovers, food, drink, drugs, art, theater, etc."},{name:"Stupor",blurb:"You seek oblivion in the abuse of drugs, drink to excess, getting beaten to a pulp in the fighting pits, etc."},{name:"Weird",blurb:"You experiment with strange essences, consort with rogue spirits, observe bizarre rituals or taboos, etc."}],vicePurveyors:[{name:"Mother Narya",blurb:"House of the Weeping Lady, Six Towers.",vices:["faith"]},{name:"Ilacille",blurb:"The ruins of the Temple to forgotten gods, Coalridge.",vices:["faith"]},{name:"Nelisanne",blurb:"The Church of the Ecstasy of the Flesh, Brightstone.",vices:["faith"]},{name:"Lord Penderyn",blurb:"The Archive of Echoes, Charterhall.",vices:["faith"]},{name:"Spogg",blurb:"Spogg's dice game, Crow's Foot.",vices:["gambling"]},{name:"Grist",blurb:"Boxing, the Docks.",vices:["gambling"]},{name:"Helene",blurb:"Silver Stag casino, Silkshore.",vices:["gambling","pleasure","stupor"]},{name:"Master Vreen",blurb:"Hound racing, Nightmarket.",vices:["gambling"]},{name:"Lady Dusk",blurb:"The Dusk Manor Club, Whitecrown.",vices:["gambling"]},{name:"Sergeant Velk",blurb:"The fighting pits, Dunslough.",vices:["gambling"]},{name:"Singer",blurb:"Bath house, Crow's Foot.",vices:["luxury","pleasure"]},{name:"Harvale Brogan",blurb:"The Centuralia Club, Brightstone.",vices:["luxury","pleasure"]},{name:"Traven",blurb:"Traven's smoke shop, Coalridge.",vices:["luxury","pleasure","stupor"]},{name:"Dunridge & Sons",blurb:"Fine fabrics and tailoring, Nightmarket.",vices:["luxury"]},{name:"Chef Roselle",blurb:"The Golden Plum restaurant, Six Towers.",vices:["luxury","pleasure"]},{name:"Maestro Helleren",blurb:"Spiregarden theater, Whitecrown.",vices:["luxury","pleasure"]},{name:"Family members",blurb:"Heritage or former co-workers (background).",vices:["obligation"]},{name:"Hutton",blurb:"Skovlander Refugees/Revolutionaries, Charhollow.",vices:["obligation"]},{name:"The Circle of Flame",blurb:"A secret society.",vices:["obligation"]},{name:"Mardin Gull",blurb:"The Leaky Bucket, tavern, Crow's Foot.",vices:["pleasure","stupor"]},{name:"Pux Bolin",blurb:"The Harping Monkey, tavern, Nightmarket.",vices:["pleasure","stupor"]},{name:"Lady Freyla",blurb:"The Emperor's Cask, bar, Whitecrown.",vices:["pleasure","stupor"]},{name:"Avrick",blurb:"Powder dealer, Barrowcleft.",vices:["pleasure","stupor"]},{name:"Rolan Volaris",blurb:"The Veil, social club, Nightmarket.",vices:["pleasure","stupor"]},{name:"Madame Tesslyn",blurb:"The Red Lamp, brothel, Silkshore.",vices:["pleasure"]},{name:"Eldrin Prichard",blurb:"The Silver Swan pleasure barge, Brightstone canals.",vices:["pleasure","stupor"]},{name:"Jewel, Bird, and Shine",blurb:"Catcrawl Alley, the Docks.",vices:["pleasure","stupor"]},{name:"The hooded proprietor",blurb:"A half-flooded grotto tavern near the docks. Strange passageways lead to stranger chambers beyond.",vices:["weird"]},{name:"Father Yoren",blurb:"House of the Weeping Lady, Six Towers.",vices:["weird"]},{name:"Salia",blurb:"A spirit of the Reconciled, which moves from body to body at their whim.",vices:["weird"]},{name:"Sister Thorn",blurb:"Deathlands scavenger gang, Gaddoc Station.",vices:["weird"]},{name:"Ojak",blurb:"Tycherosi rooftop market vendor, Silkshore.",vices:["weird"]},{name:"Aranna the Blessed",blurb:"Cultist of a forgotten god, barge moored in Nightmarket.",vices:["weird"]}]}},Og={gangs:["a tiny gang (1-2)","small gang (3-6)","medium gang (12)","large gang (20)","huge gang (40)","massive gang (80)","colossal gang (160)"],districts:[{name:"Brightstone",blurb:"The grand mansions and luxury shops of the wealthy elite."},{name:"Charterhall",blurb:"The city's civic offices and the hub for shops, artisans, and commerce."},{name:"Six Towers",blurb:"A formerly rich district, now worn down and dilapidated."},{name:"Silkshore",blurb:"The 'red lamp district' and artist community."},{name:"Nightmarket",blurb:"The trade center for exotic goods imported by rail. Many vendors also trade in illicit goods."},{name:"Crow's Foot",blurb:"A cramped neighborhood of multi-level streets, ruled by gangs."},{name:"The Docks",blurb:"Rough taverns, tattoo parlors, fighting pits, and warehouses."},{name:"Barrowcleft",blurb:"Residences and markets for the farmers who work the fields and eeleries."},{name:"Coalridge",blurb:"The remnants of Duskwall's original hilltop mining settlement, now home to laborers and industrial factories."},{name:"Charhollow",blurb:"A maze of tenements and squalid row houses."},{name:"Dunslough",blurb:"A labor camp served by convicts and a ghetto for the destitute poor."}],locations:[{name:"Akoros",blurb:"A land of dark, petrified forests and rocky hills. The rich coastal cities get their wealth from leviathan hunting and from mining colonies deep inland. The Akorosi are sometimes called 'Imperials' since the Imperium began there. They are generally fair-skinned and dark-haired."},{name:"Severos",blurb:"A land of windswept plains, covered in dark scrub and thorny growths. Outside the Imperial cities on the coast, some native Severosi still live in free tribes, scavenging the death-lands on their ghost-hunting horses. They are generally brown-skinned and dark-haired."},{name:"Iruvia",blurb:"A land of black deserts, obsidian mountains, and raging volcanoes. Some say that positions of power are openly held by demons in Iruvia. The people are generally amber-skinned and dark-haired."},{name:"The Dagger Isles",blurb:"A tropical archipelago covered in dense jungle growth; now turned dark and twisted from the strange magic of the cataclysm. Some say that the people there live without lightning barriers. How do they manage that? Native islanders are generally copper-skinned and dark-haired."},{name:"Skovlan",blurb:"A ragged land of cold mountains and rough tundra. Skovlan was the last holdout against Imperial control. They are generally pale-skinned and fair-haired or red-haired."},{name:"Tycheros",blurb:"A far off land, disconnected from the Empire. People say the Tycherosi (rudely called 'Strangers') have demon blood in their lineage."}]},Ig={firstNames:["Adric","Aldo","Amison","Andrel","Arcy","Arden","Arilyn","Arquo","Arvus","Ashlyn","Branon","Brace","Brance","Brena","Bricks","Candra","Canter","Carissa","Carro","Casslyn","Cavelle","Clave","Corille","Cross","Crowl","Cyrene","Daphnia","Drav","Edlun","Emeline","Grell","Helles","Hix","Holtz","Kamelin","Kelyr","Kobb","Kristov","Laudius","Lauria","Lenia","Lizete","Lorette","Lucella","Lynthia","Mara","Milos","Morlan","Myre","Narcus","Naria","Noggs","Odrienne","Orlan","Phin","Polonia","Quess","Remira","Ring","Roethe","Sesereth","Sethla","Skannon","Stavrul","Stev","Syra","Talitha","Tesslyn","Thena","Timoth","Tocker","Una","Vaurin","Veleris","Veretta","Vestine","Vey","Volette","Vond","Weaver","Wester","Zamira"],lastNames:["Arran","Athanoch","Basran","Boden","Booker","Ankhayat","Bowmore","Breakiron","Brogan","Clelland","Clermont","Coleburn","Comber","Daava","Dalmore","Danfield","Dunvil","Edrad","Farros","Grine","Haig","Helker","Helles","Hellyers","Jayan","Jeduin","Kardera","Karstas","Keel","Kessarin","Kinclaith","Lomond","Maroden","Michter","Morriston","Penderyn","Prichard","Rowan","Salkara","Sevoy","Skelkallan","Slane","Strangford","Strathmill","Templeton","Tyrconnell","Vale","Vedat","Walund"],deityNames:["The One Within Many","The Silver Fire","The Rapturous Chord","The Fallen Star","The Lord of the Depths","The Silent Song","The Lady of Thorns","Our Blood Spilled in Glory","The Ram","The Empty Vessel","The Closed Eye","The Hand of Sorrow","That Which Hungers","The Thousand Faces","The Web of Pain","The Pillars of Night","The Burned King","The Father of the Abyss","The Forsaken Legion","The Unbroken Sun","The Revelation","The Radiant Word","The Shrouded Queen","The Reconciler","The Cloud of Woe","The Broken Circle","The Conqueror","She Who Slays in Darkness","The Dream Beyond Death","The Blood Dimmed Tide","The Guardian of the Gates","The Maw of the Void","The Keeper of the Flame","The Throne of Judgment","The Lost Crown","The Golden Stag"],aliases:["Bell","Birch","Bricks","Bug","Chime","Coil","Cricket","Cross","Crow","Echo","Flint","Frog","Frost","Grip","Gunner","Hammer","Hook","Junker","Mist","Moon","Nail","Needle","Ogre","Pool","Ring","Ruby","Silver","Skinner","Song","Spur","Tackle","Thistle","Thorn","Tick-Tock","Twelves","Vixen","Whip","Wicker"]},qg={adjectives:["Affable","Athletic","Bony","Bright","Brooding","Calm","Chiseled","Cold","Dark","Delicate","Fair","Fierce","Grimy","Handsome","Huge","Hunched","Languid","Lovely","Open","Plump","Rough","Sad","Scarred","Slim","Soft","Squat","Stern","Stout","Striking","Twitchy","Weathered","Wiry","Worn"],clothes:["Collared Shirt","Eel-skin Bodysuit","Fitted Dress","Fitted Leggings","Half-Cape","Heavy Cloak","Heavy Jacket","Hide & Furs","Hood & Veil","Hooded Cape","Hooded Coat","Knit Cap","Knit Sweater","Leathers","Long Coat","Long Scarf","Loose Silks","Mask & Robes","Rags & Tatters","Rough Tunic","Scavenged Uniform","Sharp Trousers","Short Cloak","Skirt & Blouse","Slim Jacket","Soft Boots","Suit & Tie","Suspenders","Tall Boots","Thick Greatcoat","Tricorn Hat","Vest or Waistcoat","Waxed Coat","Wide Belt","Work Boots","Work Trousers"]},oi={sheets:Pg,lexicon:Og,names:Ig,looks:qg};async function Ng(e,t){try{const n=await at.post("/game/new",{gameName:e,coverImage:t,codex:oi});if(n.status===ln.Ok)return console.log(n.data),Oe().games=n.data,null}catch(n){return n.response.data}}async function Lg(){var e;try{if((await at.post(`/game/${(e=Ie().game)==null?void 0:e._id}/leave`)).status===ln.Ok)return Ie().clear(),await fs(),null}catch(t){return t.response.data}}const Hn=e=>(Ae("data-v-a23a1ab2"),e=e(),Re(),e),Dg=Hn(()=>a("h2",null,"New Game",-1)),Ug={class:"game"},Mg=Hn(()=>a("p",null,[ne(" Create a new "),a("em",null,"Blades in the Dark"),ne(" game. "),a("br"),a("span",{class:"muted"}," You can invite players once the game has been created. ")],-1)),Bg={class:"inputs"},Fg={class:"input-group"},Hg=Hn(()=>a("label",{for:"gameName"},"Game Name",-1)),jg={key:0,class:"reminder shake-once"},Qg={class:"input-group"},Vg=Hn(()=>a("label",{for:"coverImage"},"Cover Image",-1)),Wg={class:"cover-image-list"},Gg=["onClick"],zg=["src","onLoad","onError"],Kg={key:0,class:"overlay"},Yg={class:"caption"},Jg={key:1,class:"fas fa-check-circle"},Xg={key:0,class:"alert"},Zg=Hn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),ev=Hn(()=>a("i",{class:"fas fa-times"},null,-1)),tv=[ev],nv={class:"row center"},sv={key:0,class:"fas fa-circle-notch fa-spin"},ov=Hn(()=>a("span",null,"Create Game",-1)),rv=ie({__name:"CreateGameModal",setup(e){const t=M(Mi.map(u=>({...u,loaded:!1}))),n=M(""),s=M(!1),o=M(""),r=M(!1),i=z(()=>r.value&&o.value.length===0?"Every game should have a name":null),l=M(t.value[0].id),c=z(()=>o.value.length>0);async function d(){var h;if(!c.value&&(!r.value||i.value)){r.value=!0,document.querySelectorAll(".reminder").forEach(g=>{g.classList.remove("shake-once"),g.offsetWidth,g.classList.add("shake-once")});return}s.value=!0,n.value="";const u=await Ng(o.value,l.value);if(s.value=!1,u)n.value=u;else{const f=(h=Oe().games.find(g=>g.name===o.value))==null?void 0:h._id;Dt.push({name:"game",params:{id:f}})}}return(u,h)=>(y(),re(ct,{class:Y({disabled:s.value})},{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[Dg]),_:1})]),content:F(()=>[a("div",Ug,[Mg,a("div",Bg,[a("div",Fg,[Hg,De(a("input",{type:"text",onInput:h[0]||(h[0]=f=>r.value=!0),onKeyup:Hs(d,["enter"]),placeholder:"Enter a name","onUpdate:modelValue":h[1]||(h[1]=f=>o.value=f)},null,544),[[Ue,o.value]]),i.value?(y(),k("span",jg,q(i.value),1)):j("",!0)]),a("div",Qg,[Vg,a("ul",Wg,[(y(!0),k(Z,null,ce(t.value,f=>(y(),k("li",{key:f.id},[a("button",{onClick:g=>l.value=f.id,style:Ut({backgroundColor:f.commonColor})},[a("img",{src:f.url,onLoad:g=>f.loaded=!0,onError:g=>f.loaded=!0,class:Y({loaded:f.loaded})},null,42,zg),l.value===f.id?(y(),k("div",Kg)):j("",!0),a("div",Yg,[a("span",null,q(f.name),1)]),l.value===f.id?(y(),k("i",Jg)):j("",!0)],12,Gg)]))),128))])])]),n.value?(y(),k("div",Xg,[Zg,a("span",null,q(n.value),1),a("button",{class:"btn btn--icon close",onClick:h[2]||(h[2]=f=>n.value="")},tv)])):j("",!0),a("div",nv,[a("button",{class:"btn mobile-full-width",onClick:d},[s.value?(y(),k("i",sv)):j("",!0),ov])])])]),_:1},8,["class"]))}}),iv=ae(rv,[["__scopeId","data-v-a23a1ab2"]]),Ou=e=>(Ae("data-v-7bb8cfbf"),e=e(),Re(),e),av={class:"page"},lv={class:"game-list"},cv=Ou(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),uv=Ou(()=>a("span",null,"New Game",-1)),dv=[cv,uv],hv=ie({__name:"TheHomePage",setup(e){async function t(){G.open(iv)}const n=z(()=>Oe().games);function s(o){Dt.push({name:"game",params:{id:o._id}})}return Yt(()=>{fs()}),(o,r)=>(y(),k("div",av,[$(ag,{id:"welcome-ribbon",message:"<em>Online in the Dark</em> is an unofficial tool designed for playing <em>Blades in the Dark</em> online. Click to view the full attribution.",onActivate:()=>{B(G).open(Pu)}},null,8,["onActivate"]),a("ul",lv,[(y(!0),k(Z,null,ce(n.value,i=>(y(),k("li",{key:i._id},[$(eg,{game:i,onClick:l=>s(i)},null,8,["game","onClick"])]))),128)),a("li",null,[a("div",{class:"new-game-card",onClick:t},dv)])])]))}}),fv=ae(hv,[["__scopeId","data-v-7bb8cfbf"]]);async function pv(e){G.open(cs);try{const t=await at.post(`/invite/${e}`);if(t.status===ln.Ok){const n=t.data.gameId;Dt.push({name:ci.GAME,params:{id:n}})}}catch(t){console.error(t),Dt.push({name:ci.HOME}),G.close();return}G.close()}const mv={},yv={class:"panel"};function gv(e,t){return y(),k("div",yv,[ts(e.$slots,"default",{},void 0)])}const Iu=ae(mv,[["render",gv],["__scopeId","data-v-c9a6184a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Gn=typeof document<"u";function vv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const qe=Object.assign;function gr(e,t){const n={};for(const s in t){const o=t[s];n[s]=Lt(o)?o.map(e):e(o)}return n}const $s=()=>{},Lt=Array.isArray,qu=/#/g,bv=/&/g,_v=/\//g,wv=/=/g,kv=/\?/g,Nu=/\+/g,xv=/%5B/g,Cv=/%5D/g,Lu=/%5E/g,Sv=/%60/g,Du=/%7B/g,Tv=/%7C/g,Uu=/%7D/g,Ev=/%20/g;function Fi(e){return encodeURI(""+e).replace(Tv,"|").replace(xv,"[").replace(Cv,"]")}function $v(e){return Fi(e).replace(Du,"{").replace(Uu,"}").replace(Lu,"^")}function ri(e){return Fi(e).replace(Nu,"%2B").replace(Ev,"+").replace(qu,"%23").replace(bv,"%26").replace(Sv,"`").replace(Du,"{").replace(Uu,"}").replace(Lu,"^")}function Av(e){return ri(e).replace(wv,"%3D")}function Rv(e){return Fi(e).replace(qu,"%23").replace(kv,"%3F")}function Pv(e){return e==null?"":Rv(e).replace(_v,"%2F")}function Us(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ov=/\/$/,Iv=e=>e.replace(Ov,"");function vr(e,t,n="/"){let s,o={},r="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=Dv(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:Us(i)}}function qv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function al(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Nv(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&os(t.matched[s],n.matched[o])&&Mu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function os(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Mu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Lv(e[n],t[n]))return!1;return!0}function Lv(e,t){return Lt(e)?ll(e,t):Lt(t)?ll(t,e):e===t}function ll(e,t){return Lt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Dv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}var Ms;(function(e){e.pop="pop",e.push="push"})(Ms||(Ms={}));var As;(function(e){e.back="back",e.forward="forward",e.unknown=""})(As||(As={}));function Uv(e){if(!e)if(Gn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Iv(e)}const Mv=/^[^#]+#/;function Bv(e,t){return e.replace(Mv,"#")+t}function Fv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Xo=()=>({left:window.scrollX,top:window.scrollY});function Hv(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Fv(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function cl(e,t){return(history.state?history.state.position-t:-1)+e}const ii=new Map;function jv(e,t){ii.set(e,t)}function Qv(e){const t=ii.get(e);return ii.delete(e),t}let Vv=()=>location.protocol+"//"+location.host;function Bu(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),al(c,"")}return al(n,e)+s+o}function Wv(e,t,n,s){let o=[],r=[],i=null;const l=({state:f})=>{const g=Bu(e,location),w=n.value,x=t.value;let I=0;if(f){if(n.value=g,t.value=f,i&&i===w){i=null;return}I=x?f.position-x.position:0}else s(g);o.forEach(U=>{U(n.value,w,{delta:I,type:Ms.pop,direction:I?I>0?As.forward:As.back:As.unknown})})};function c(){i=n.value}function d(f){o.push(f);const g=()=>{const w=o.indexOf(f);w>-1&&o.splice(w,1)};return r.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(qe({},f.state,{scroll:Xo()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:h}}function ul(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Xo():null}}function Gv(e){const{history:t,location:n}=window,s={value:Bu(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:Vv()+e+c;try{t[u?"replaceState":"pushState"](d,"",f),o.value=d}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function i(c,d){const u=qe({},t.state,ul(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=qe({},o.value,t.state,{forward:c,scroll:Xo()});r(u.current,u,!0);const h=qe({},ul(s.value,c,null),{position:u.position+1},d);r(c,h,!1),s.value=c}return{location:s,state:o,push:l,replace:i}}function zv(e){e=Uv(e);const t=Gv(e),n=Wv(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=qe({location:"",base:e,go:s,createHref:Bv.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Kv(e){return typeof e=="string"||e&&typeof e=="object"}function Fu(e){return typeof e=="string"||typeof e=="symbol"}const mn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hu=Symbol("");var dl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(dl||(dl={}));function rs(e,t){return qe(new Error,{type:e,[Hu]:!0},t)}function tn(e,t){return e instanceof Error&&Hu in e&&(t==null||!!(e.type&t))}const hl="[^/]+?",Yv={sensitive:!1,strict:!1,start:!0,end:!0},Jv=/[.+*?^${}()[\]/\\]/g;function Xv(e,t){const n=qe({},Yv,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const f=d[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(o+="/"),o+=f.value.replace(Jv,"\\$&"),g+=40;else if(f.type===1){const{value:w,repeatable:x,optional:I,regexp:U}=f;r.push({name:w,repeatable:x,optional:I});const V=U||hl;if(V!==hl){g+=10;try{new RegExp(`(${V})`)}catch(he){throw new Error(`Invalid custom RegExp for param "${w}" (${V}): `+he.message)}}let X=x?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;h||(X=I&&d.length<2?`(?:/${X})`:"/"+X),I&&(X+="?"),o+=X,g+=20,I&&(g+=-8),x&&(g+=-20),V===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(i),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",w=r[f-1];h[w.name]=g&&w.repeatable?g.split("/"):g}return h}function c(d){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:w,repeatable:x,optional:I}=g,U=w in d?d[w]:"";if(Lt(U)&&!x)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const V=Lt(U)?U.join("/"):U;if(!V)if(I)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);u+=V}}return u||"/"}return{re:i,score:s,keys:r,parse:l,stringify:c}}function Zv(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function eb(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=Zv(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(fl(s))return 1;if(fl(o))return-1}return o.length-s.length}function fl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const tb={type:0,value:""},nb=/[a-zA-Z0-9_]/;function sb(e){if(!e)return[[]];if(e==="/")return[[tb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${d}": ${g}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function h(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&h(),i()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:nb.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),i(),o}function ob(e,t,n){const s=Xv(sb(e.path),n),o=qe(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function rb(e,t){const n=[],s=new Map;t=yl({strict:!1,end:!0,sensitive:!1},t);function o(u){return s.get(u)}function r(u,h,f){const g=!f,w=ib(u);w.aliasOf=f&&f.record;const x=yl(t,u),I=[w];if("alias"in u){const X=typeof u.alias=="string"?[u.alias]:u.alias;for(const he of X)I.push(qe({},w,{components:f?f.record.components:w.components,path:he,aliasOf:f?f.record:w}))}let U,V;for(const X of I){const{path:he}=X;if(h&&he[0]!=="/"){const me=h.record.path,oe=me[me.length-1]==="/"?"":"/";X.path=h.record.path+(he&&oe+he)}if(U=ob(X,h,x),f?f.alias.push(U):(V=V||U,V!==U&&V.alias.push(U),g&&u.name&&!ml(U)&&i(u.name)),w.children){const me=w.children;for(let oe=0;oe<me.length;oe++)r(me[oe],U,f&&f.children[oe])}f=f||U,(U.record.components&&Object.keys(U.record.components).length||U.record.name||U.record.redirect)&&c(U)}return V?()=>{i(V)}:$s}function i(u){if(Fu(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function l(){return n}function c(u){let h=0;for(;h<n.length&&eb(u,n[h])>=0&&(u.record.path!==n[h].record.path||!ju(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!ml(u)&&s.set(u.record.name,u)}function d(u,h){let f,g={},w,x;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw rs(1,{location:u});x=f.record.name,g=qe(pl(h.params,f.keys.filter(V=>!V.optional).concat(f.parent?f.parent.keys.filter(V=>V.optional):[]).map(V=>V.name)),u.params&&pl(u.params,f.keys.map(V=>V.name))),w=f.stringify(g)}else if(u.path!=null)w=u.path,f=n.find(V=>V.re.test(w)),f&&(g=f.parse(w),x=f.record.name);else{if(f=h.name?s.get(h.name):n.find(V=>V.re.test(h.path)),!f)throw rs(1,{location:u,currentLocation:h});x=f.record.name,g=qe({},h.params,u.params),w=f.stringify(g)}const I=[];let U=f;for(;U;)I.unshift(U.record),U=U.parent;return{name:x,path:w,params:g,matched:I,meta:lb(I)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:d,removeRoute:i,getRoutes:l,getRecordMatcher:o}}function pl(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ib(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ab(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ab(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ml(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function lb(e){return e.reduce((t,n)=>qe(t,n.meta),{})}function yl(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function ju(e,t){return t.children.some(n=>n===e||ju(e,n))}function cb(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Nu," "),i=r.indexOf("="),l=Us(i<0?r:r.slice(0,i)),c=i<0?null:Us(r.slice(i+1));if(l in t){let d=t[l];Lt(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function gl(e){let t="";for(let n in e){const s=e[n];if(n=Av(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Lt(s)?s.map(r=>r&&ri(r)):[s&&ri(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function ub(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Lt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const db=Symbol(""),vl=Symbol(""),Hi=Symbol(""),ji=Symbol(""),ai=Symbol("");function bs(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function _n(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=f=>{f===!1?c(rs(4,{from:n,to:t})):f instanceof Error?c(f):Kv(f)?c(rs(2,{from:t,to:f})):(i&&s.enterCallbacks[o]===i&&typeof f=="function"&&i.push(f),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let h=Promise.resolve(u);e.length<3&&(h=h.then(d)),h.catch(f=>c(f))})}function br(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(hb(c)){const u=(c.__vccOpts||c)[t];u&&r.push(_n(u,n,s,i,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${i.path}"`));const h=vv(u)?u.default:u;i.components[l]=h;const g=(h.__vccOpts||h)[t];return g&&_n(g,n,s,i,l,o)()}))}}return r}function hb(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function bl(e){const t=Nt(Hi),n=Nt(ji),s=z(()=>{const c=B(e.to);return t.resolve(c)}),o=z(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(os.bind(null,u));if(f>-1)return f;const g=_l(c[d-2]);return d>1&&_l(u)===g&&h[h.length-1].path!==g?h.findIndex(os.bind(null,c[d-2])):f}),r=z(()=>o.value>-1&&yb(n.params,s.value.params)),i=z(()=>o.value>-1&&o.value===n.matched.length-1&&Mu(n.params,s.value.params));function l(c={}){return mb(c)?t[B(e.replace)?"replace":"push"](B(e.to)).catch($s):Promise.resolve()}return{route:s,href:z(()=>s.value.href),isActive:r,isExactActive:i,navigate:l}}const fb=ie({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bl,setup(e,{slots:t}){const n=Bs(bl(e)),{options:s}=Nt(Hi),o=z(()=>({[wl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[wl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Pc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),pb=fb;function mb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function yb(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Lt(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function _l(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const wl=(e,t,n)=>e??t??n,gb=ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Nt(ai),o=z(()=>e.route||s.value),r=Nt(vl,0),i=z(()=>{let d=B(r);const{matched:u}=o.value;let h;for(;(h=u[d])&&!h.components;)d++;return d}),l=z(()=>o.value.matched[i.value]);io(vl,z(()=>i.value+1)),io(db,l),io(ai,o);const c=M();return Ct(()=>[c.value,l.value,e.name],([d,u,h],[f,g,w])=>{u&&(u.instances[h]=d,g&&g!==u&&d&&d===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),d&&u&&(!g||!os(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(x=>x(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,h=l.value,f=h&&h.components[u];if(!f)return kl(n.default,{Component:f,route:d});const g=h.props[u],w=g?g===!0?d.params:typeof g=="function"?g(d):g:null,I=Pc(f,qe({},w,t,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return kl(n.default,{Component:I,route:d})||I}}});function kl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vb=gb;function bb(e){const t=rb(e.routes,e),n=e.parseQuery||cb,s=e.stringifyQuery||gl,o=e.history,r=bs(),i=bs(),l=bs(),c=Sr(mn);let d=mn;Gn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gr.bind(null,O=>""+O),h=gr.bind(null,Pv),f=gr.bind(null,Us);function g(O,W){let Q,J;return Fu(O)?(Q=t.getRecordMatcher(O),J=W):J=O,t.addRoute(J,Q)}function w(O){const W=t.getRecordMatcher(O);W&&t.removeRoute(W)}function x(){return t.getRoutes().map(O=>O.record)}function I(O){return!!t.getRecordMatcher(O)}function U(O,W){if(W=qe({},W||c.value),typeof O=="string"){const _=vr(n,O,W.path),E=t.resolve({path:_.path},W),T=o.createHref(_.fullPath);return qe(_,E,{params:f(E.params),hash:Us(_.hash),redirectedFrom:void 0,href:T})}let Q;if(O.path!=null)Q=qe({},O,{path:vr(n,O.path,W.path).path});else{const _=qe({},O.params);for(const E in _)_[E]==null&&delete _[E];Q=qe({},O,{params:h(_)}),W.params=h(W.params)}const J=t.resolve(Q,W),_e=O.hash||"";J.params=u(f(J.params));const Ne=qv(s,qe({},O,{hash:$v(_e),path:J.path})),m=o.createHref(Ne);return qe({fullPath:Ne,hash:_e,query:s===gl?ub(O.query):O.query||{}},J,{redirectedFrom:void 0,href:m})}function V(O){return typeof O=="string"?vr(n,O,c.value.path):qe({},O)}function X(O,W){if(d!==O)return rs(8,{from:W,to:O})}function he(O){return Pe(O)}function me(O){return he(qe(V(O),{replace:!0}))}function oe(O){const W=O.matched[O.matched.length-1];if(W&&W.redirect){const{redirect:Q}=W;let J=typeof Q=="function"?Q(O):Q;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=V(J):{path:J},J.params={}),qe({query:O.query,hash:O.hash,params:J.path!=null?{}:O.params},J)}}function Pe(O,W){const Q=d=U(O),J=c.value,_e=O.state,Ne=O.force,m=O.replace===!0,_=oe(Q);if(_)return Pe(qe(V(_),{state:typeof _=="object"?qe({},_e,_.state):_e,force:Ne,replace:m}),W||Q);const E=Q;E.redirectedFrom=W;let T;return!Ne&&Nv(s,J,Q)&&(T=rs(16,{to:E,from:J}),ke(J,J,!0,!1)),(T?Promise.resolve(T):be(E,J)).catch(p=>tn(p)?tn(p,2)?p:ee(p):pe(p,E,J)).then(p=>{if(p){if(tn(p,2))return Pe(qe({replace:m},V(p.to),{state:typeof p.to=="object"?qe({},_e,p.to.state):_e,force:Ne}),W||E)}else p=Qe(E,J,!0,m,_e);return Me(E,J,p),p})}function fe(O,W){const Q=X(O,W);return Q?Promise.reject(Q):Promise.resolve()}function le(O){const W=Et.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(O):O()}function be(O,W){let Q;const[J,_e,Ne]=_b(O,W);Q=br(J.reverse(),"beforeRouteLeave",O,W);for(const _ of J)_.leaveGuards.forEach(E=>{Q.push(_n(E,O,W))});const m=fe.bind(null,O,W);return Q.push(m),We(Q).then(()=>{Q=[];for(const _ of r.list())Q.push(_n(_,O,W));return Q.push(m),We(Q)}).then(()=>{Q=br(_e,"beforeRouteUpdate",O,W);for(const _ of _e)_.updateGuards.forEach(E=>{Q.push(_n(E,O,W))});return Q.push(m),We(Q)}).then(()=>{Q=[];for(const _ of Ne)if(_.beforeEnter)if(Lt(_.beforeEnter))for(const E of _.beforeEnter)Q.push(_n(E,O,W));else Q.push(_n(_.beforeEnter,O,W));return Q.push(m),We(Q)}).then(()=>(O.matched.forEach(_=>_.enterCallbacks={}),Q=br(Ne,"beforeRouteEnter",O,W,le),Q.push(m),We(Q))).then(()=>{Q=[];for(const _ of i.list())Q.push(_n(_,O,W));return Q.push(m),We(Q)}).catch(_=>tn(_,8)?_:Promise.reject(_))}function Me(O,W,Q){l.list().forEach(J=>le(()=>J(O,W,Q)))}function Qe(O,W,Q,J,_e){const Ne=X(O,W);if(Ne)return Ne;const m=W===mn,_=Gn?history.state:{};Q&&(J||m?o.replace(O.fullPath,qe({scroll:m&&_&&_.scroll},_e)):o.push(O.fullPath,_e)),c.value=O,ke(O,W,Q,m),ee()}let ze;function D(){ze||(ze=o.listen((O,W,Q)=>{if(!en.listening)return;const J=U(O),_e=oe(J);if(_e){Pe(qe(_e,{replace:!0}),J).catch($s);return}d=J;const Ne=c.value;Gn&&jv(cl(Ne.fullPath,Q.delta),Xo()),be(J,Ne).catch(m=>tn(m,12)?m:tn(m,2)?(Pe(m.to,J).then(_=>{tn(_,20)&&!Q.delta&&Q.type===Ms.pop&&o.go(-1,!1)}).catch($s),Promise.reject()):(Q.delta&&o.go(-Q.delta,!1),pe(m,J,Ne))).then(m=>{m=m||Qe(J,Ne,!1),m&&(Q.delta&&!tn(m,8)?o.go(-Q.delta,!1):Q.type===Ms.pop&&tn(m,20)&&o.go(-1,!1)),Me(J,Ne,m)}).catch($s)}))}let P=bs(),K=bs(),ye;function pe(O,W,Q){ee(O);const J=K.list();return J.length?J.forEach(_e=>_e(O,W,Q)):console.error(O),Promise.reject(O)}function S(){return ye&&c.value!==mn?Promise.resolve():new Promise((O,W)=>{P.add([O,W])})}function ee(O){return ye||(ye=!O,D(),P.list().forEach(([W,Q])=>O?Q(O):W()),P.reset()),O}function ke(O,W,Q,J){const{scrollBehavior:_e}=e;if(!Gn||!_e)return Promise.resolve();const Ne=!Q&&Qv(cl(O.fullPath,0))||(J||!Q)&&history.state&&history.state.scroll||null;return ki().then(()=>_e(O,W,Ne)).then(m=>m&&Hv(m)).catch(m=>pe(m,O,W))}const je=O=>o.go(O);let gt;const Et=new Set,en={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,hasRoute:I,getRoutes:x,resolve:U,options:e,push:he,replace:me,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:K.add,isReady:S,install(O){const W=this;O.component("RouterLink",pb),O.component("RouterView",vb),O.config.globalProperties.$router=W,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>B(c)}),Gn&&!gt&&c.value===mn&&(gt=!0,he(o.location).catch(_e=>{}));const Q={};for(const _e in mn)Object.defineProperty(Q,_e,{get:()=>c.value[_e],enumerable:!0});O.provide(Hi,W),O.provide(ji,Jl(Q)),O.provide(ai,c);const J=O.unmount;Et.add(O),O.unmount=function(){Et.delete(O),Et.size<1&&(d=mn,ze&&ze(),ze=null,c.value=mn,gt=!1,ye=!1),J()}}};function We(O){return O.reduce((W,Q)=>W.then(()=>le(Q)),Promise.resolve())}return en}function _b(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(d=>os(d,l))?s.push(l):n.push(l));const c=e.matched[i];c&&(t.matched.find(d=>os(d,c))||o.push(c))}return[n,s,o]}function Qu(){return Nt(ji)}const wb={class:"page"},kb=a("h1",null,"INVITE PAGE",-1),xb=ie({__name:"TheInvitePage",setup(e){const n=Qu().params.code;return Yt(()=>{pv(n)}),(s,o)=>(y(),k("div",wb,[kb,$(Iu,null,{default:F(()=>[a("p",null,q(B(n)),1)]),_:1})]))}}),Vu=e=>(Ae("data-v-c2b83b82"),e=e(),Re(),e),Cb={class:"page"},Sb=Vu(()=>a("h1",null,"404",-1)),Tb=Vu(()=>a("p",null,"This page does not exist.",-1)),Eb=ie({__name:"TheLostPage",setup(e){function t(){Dt.push("/")}return(n,s)=>(y(),k("div",Cb,[$(Iu,{id:"lost"},{default:F(()=>[Sb,Tb,a("button",{class:"btn",onClick:s[0]||(s[0]=o=>t())},"Return to Home Page")]),_:1})]))}}),$b=ae(Eb,[["__scopeId","data-v-c2b83b82"]]),Wu=[{id:"e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",name:"Assassin Crew",author:"Perryphery",source:"",url:"/images/crews/assassins.jpg",commonColor:"#a27043"},{id:"ab9c33a6-2710-41ff-a814-edf6b648af54",name:"Bravos Crew",author:"Perryphery",source:"",url:"/images/crews/bravos.jpg",commonColor:"#e88b62"},{id:"7544b3a4-0e4d-4758-9870-cd5b8f7774cb",name:"Cult Crew",author:"Perryphery",source:"",url:"/images/crews/cult.jpg",commonColor:"#c94c34"},{id:"13867125-73d8-4399-a550-db499a4eedfe",name:"Hawkers Crew",author:"Perryphery",source:"",url:"/images/crews/hawkers.jpg",commonColor:"#bfa53f"},{id:"bbc1bf16-dc4d-4e97-a898-0bf9e688d327",name:"Shadows Crew",author:"Perryphery",source:"",url:"/images/crews/shadows.jpg",commonColor:"#a27043"},{id:"de509b5c-f37c-4975-9768-5e123d24e19b",name:"Smugglers Crew",author:"Perryphery",source:"",url:"/images/crews/smugglers.jpg",commonColor:"#dac684"},{id:"24fcce82-058a-4ba0-a517-d93167226b7b",name:"Cutter",author:"Perryphery",source:"",url:"/images/characters/cutter.jpg",commonColor:"#d4552a"},{id:"06c6e50e-b187-4161-99d4-01228ade7b96",name:"Hound",author:"Perryphery",source:"",url:"/images/characters/hound.jpg",commonColor:"#3fbfaf"},{id:"1b7d14f9-73c8-4b89-88a0-db246cd8b8b4",name:"Leech",author:"Perryphery",source:"",url:"/images/characters/leech.jpg",commonColor:"#708c8e"},{id:"9cec5287-f247-47ad-8eab-ed6a3ef82b0f",name:"Lurk",author:"Perryphery",source:"",url:"/images/characters/lurk.jpg",commonColor:"#a26a5c"},{id:"10f1b3a4-b4c3-4755-a66d-17181ba317b2",name:"Slide",author:"Perryphery",source:"",url:"/images/characters/slide.jpg",commonColor:"#a26a5c"},{id:"1f6e47b6-c3c6-47b9-8b19-e553e6362de2",name:"Spider",author:"Perryphery",source:"",url:"/images/characters/spider.jpg",commonColor:"#ad5151"},{id:"88a1879b-06a3-4632-897b-e0cd7e423c46",name:"Whisper",author:"Perryphery",source:"",url:"/images/characters/whisper.jpg",commonColor:"#9f825f"},{id:"9f5d267b-83f1-40e5-9ff6-04d1c92a3d21",name:"Ghost",author:"Perryphery",source:"",url:"/images/characters/ghost.jpg",commonColor:"#718d82"},{id:"aa5271f0-4d79-4ae7-9348-8bbeae94a27f",name:"Hull",author:"Perryphery",source:"",url:"/images/characters/hull.jpg",commonColor:"#c3a87f"},{id:"9cec5287-f247-47ad-8eab-ed6a3ef82b0f",name:"Vampire",author:"Perryphery",source:"",url:"/images/characters/vampire.jpg",commonColor:"#a67f58"}],Ab=["src"],Rb={class:"sheet-card__content"},Pb=ie({__name:"SheetCard",props:{sheet:{type:Object,required:!0}},setup(e){const t=e,n=z(()=>Wu.find(o=>o.id===t.sheet.image));function s(){if(t.sheet.sheetType==="crew"){const o=t.sheet;return`Tier ${o.tier}  ${o.crewType}`}else return`${t.sheet.characterType}`}return(o,r)=>{var i,l;return y(),k("div",{class:"sheet-card",style:Ut({backgroundColor:(i=n.value)==null?void 0:i.commonColor})},[a("img",{src:(l=n.value)==null?void 0:l.url},null,8,Ab),a("h1",{class:Y({"extra-long":e.sheet.name.length>20})},q(t.sheet.name),3),a("div",Rb,[a("p",null,q(s()),1)])],4)}}}),xl=ae(Pb,[["__scopeId","data-v-dc1d14c2"]]);function Ob(e){const t=Wr.find(s=>s.id==="791e4a6b-8f2e-41b2-8410-09fdb69d22e2");return e&&Wr.find(s=>e===s.id)||t}const Ib=["src"],qb=ie({__name:"Portrait",props:{portraitId:{}},setup(e){const t=e,n=z(()=>Ob(t.portraitId));return(s,o)=>(y(),k("div",{class:"portrait",style:Ut({backgroundColor:n.value.commonColor})},[a("img",{src:n.value.url,alt:"Portrait"},null,8,Ib)],4))}}),Qi=ae(qb,[["__scopeId","data-v-ce4fddda"]]),Nb=["innerHTML"],Lb=ie({__name:"Tooltip",props:{text:{},top:{type:Boolean}},setup(e){const t=M(null);return(n,s)=>(y(),k("div",{class:Y(["tooltip",{"tooltip--top":n.top}]),ref_key:"tooltip",ref:t},[a("span",{innerHTML:n.text},null,8,Nb)],2))}}),Db=ae(Lb,[["__scopeId","data-v-20537d6c"]]),Ub={class:"player-bar"},Mb=ie({__name:"PlayerBar",setup(e){return(t,n)=>{var s;return y(),k("ul",Ub,[(y(!0),k(Z,null,ce((s=B(Ie)().game)==null?void 0:s.players,(o,r)=>(y(),k("li",{key:r,class:Y({"inactive-player":!o.isOnline})},[$(Qi,{portraitId:o.portrait},null,8,["portraitId"]),$(Db,{top:"",text:o.username},null,8,["text"]),a("div",{class:Y(["online-indicator",{"online-indicator--online":o.isOnline}])},null,2)],2))),128))])}}}),Bb=ae(Mb,[["__scopeId","data-v-8422fb27"]]),Fb={class:"confirm"},Hb=["innerHTML"],jb={class:"row wrap"},Qb=ie({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():G.close()}return(s,o)=>(y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:"",closeButtonAction:n},{default:F(()=>[a("h2",null,q(t.title),1)]),_:1})]),content:F(()=>[a("div",Fb,[a("p",{innerHTML:t.message},null,8,Hb),a("div",jb,[a("button",{class:"btn btn--alt mobile-full-width",onClick:o[0]||(o[0]=(...r)=>t.onConfirm&&t.onConfirm(...r))},[a("span",null,q(t.confirmText||"Yes"),1)]),a("button",{class:"btn mobile-full-width",onClick:n},[a("span",null,q(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),Vi=ae(Qb,[["__scopeId","data-v-f18967fd"]]);let so;const Vb=new Uint8Array(16);function Wb(){if(!so&&(so=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!so))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return so(Vb)}const rt=[];for(let e=0;e<256;++e)rt.push((e+256).toString(16).slice(1));function Gb(e,t=0){return rt[e[t+0]]+rt[e[t+1]]+rt[e[t+2]]+rt[e[t+3]]+"-"+rt[e[t+4]]+rt[e[t+5]]+"-"+rt[e[t+6]]+rt[e[t+7]]+"-"+rt[e[t+8]]+rt[e[t+9]]+"-"+rt[e[t+10]]+rt[e[t+11]]+rt[e[t+12]]+rt[e[t+13]]+rt[e[t+14]]+rt[e[t+15]]}const zb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cl={randomUUID:zb};function Rs(e,t,n){if(Cl.randomUUID&&!t&&!e)return Cl.randomUUID();e=e||{};const s=e.random||(e.rng||Wb)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Gb(s)}class Gu{constructor(){H(this,"id");H(this,"sheetType");H(this,"createdBy");H(this,"createdAt");H(this,"image");H(this,"lockLevel");this.id=Rs(),this.sheetType="sheet",this.createdBy=Oe().id,this.createdAt=Date.now(),this.image="",this.lockLevel=99}}class Xt extends Gu{constructor(){super();H(this,"ui",{});H(this,"crewId","");H(this,"characterType","");H(this,"characterTypeDescription","");H(this,"image","");H(this,"name","Unnamed Character");H(this,"alias","");H(this,"look","");H(this,"heritage");H(this,"heritageDescription");H(this,"background");H(this,"backgroundDescription");H(this,"notes","");H(this,"vice","");H(this,"viceDescription","");H(this,"vicePurveyor","");H(this,"contacts",[]);H(this,"contactsLabel","Contacts");H(this,"stress",0);H(this,"maxStress",9);H(this,"traumas");H(this,"maxTraumas",4);H(this,"harms",[{level:3,description:""},{level:2,description:""},{level:2,description:""},{level:1,description:""},{level:1,description:""}]);H(this,"healingClock",{id:"healing",name:"",description:`Roll **Tinker** for a PC with the *Physicker* Special Ability or the *Quality Level* of an NPC) and then mark a number of segments on your Healing clock.

 1-3: one segment
 4/5: two segments
 6: three segments
 Critical: five segments`,segments:4,value:0});H(this,"armorUsed",!1);H(this,"heavyArmorUsed",!1);H(this,"specialArmorUsed",!1);H(this,"playbookXP",0);H(this,"insightXP",0);H(this,"prowessXP",0);H(this,"resolveXP",0);H(this,"attrAttune",{id:"attr-attune",name:"Attune",description:"Attune to spirits and the ghost field; channel electroplasmic energy; perceive and communicate with ghosts; understand spectrology.",quantity:0,maxQuantity:4});H(this,"attrCommand",{id:"attr-command",name:"Command",description:"Command obedience with your force of personality; intimidate or threaten; lead an action with one of the crew's gangs.",quantity:0,maxQuantity:4});H(this,"attrConsort",{id:"attr-consort",name:"Consort",description:"Consort with connections from your heritage, background, friends, or rivals to gain access to resources, information, people, or places.",quantity:0,maxQuantity:4});H(this,"attrFinesse",{id:"attr-finesse",name:"Finesse",description:"Finesse an item from someone's pocket; employ subtle misdirection or sleight-of-hand; handle a vehicle or a mount.",quantity:0,maxQuantity:4});H(this,"attrHunt",{id:"attr-hunt",name:"Hunt",description:"Hunt a target; gather information about its location and movements; attack with precision shooting from a distance.",quantity:0,maxQuantity:4});H(this,"attrProwl",{id:"attr-prowl",name:"Prowl",description:"Prowl about unseen and traverse obstacles; climb, swim, run, jump, and tumble. Ambush with close violencea backstab, throat cutting, black-jack, etc.",quantity:0,maxQuantity:4});H(this,"attrSkirmish",{id:"attr-skirmish",name:"Skirmish",description:"Skirmish with an opponent in close combat; assault or hold a position; brawl and wrestle.",quantity:0,maxQuantity:4});H(this,"attrStudy",{id:"attr-study",name:"Study",description:"Study a person, document, or item with close scrutiny to gather information and apply knowledge; gain a deeper understanding; do research.",quantity:0,maxQuantity:4});H(this,"attrSurvey",{id:"attr-survey",name:"Survey",description:"Survey a location or situation to understand what's going on; sense trouble before it happens; gather information about opportunities or exploits.",quantity:0,maxQuantity:4});H(this,"attrSway",{id:"attr-sway",name:"Sway",description:"Sway someone with charm, logic, deception, disguise, or bluff; change attitudes or behavior with manipulation or seduction.",quantity:0,maxQuantity:4});H(this,"attrTinker",{id:"attr-tinker",name:"Tinker",description:"Tinker with mechanisms to create, modify, disable, or repair; disable a trap, pick a lock, or crack a safe. Use the ubiquitous clockwork and electroplasmic devices around the city to your advantage.",quantity:0,maxQuantity:4});H(this,"attrWreck",{id:"attr-wreck",name:"Wreck",description:"Wreck a place, item, or obstacle with savage force or carefully applied sabotage; breach defenses with force; create distractions and chaos.",quantity:0,maxQuantity:4});this.sheetType="character",this.traumas=[{id:"cold",name:"Cold",description:"You're not moved by emotional appeals or social bonds.",quantity:0,maxQuantity:1},{id:"haunted",name:"Haunted",description:"You're often lost in reverie, reliving past horrors, seeing things.",quantity:0,maxQuantity:1},{id:"obsessed",name:"Obsessed",description:"You're enthralled by one thing: an activity, a person, an ideology.",quantity:0,maxQuantity:1},{id:"paranoid",name:"Paranoid",description:"You imagine danger everywhere; you can't trust others.",quantity:0,maxQuantity:1},{id:"reckless",name:"Reckless",description:"You have little regard for your own safety or best interests.",quantity:0,maxQuantity:1},{id:"soft",name:"Soft",description:"You lose your edge; you become sentimental, passive, gentle.",quantity:0,maxQuantity:1},{id:"unstable",name:"Unstable",description:"Your emotional state is volatile. You can instantly rage, or fall into despair, act impulsively, or freeze up.",quantity:0,maxQuantity:1},{id:"vicious",name:"Vicious",description:"You seek out opportunities to hurt people, even for no good reason.",quantity:0,maxQuantity:1}]}}class Kb extends Xt{constructor(){super(),this.name="Unnamed Cutter",this.characterType="Cutter",this.characterTypeDescription="A dangerous and intimidating fighter",this.image="24fcce82-058a-4ba0-a517-d93167226b7b",this.contactsLabel="Dangerous Friends",this.contacts=[{id:"marlane",name:"Marlane",description:"A pugilist",attitude:0},{id:"chael",name:"Chael",description:"A vicious thug",attitude:0},{id:"mercy",name:"Mercy",description:"A cold killer",attitude:0},{id:"grace",name:"Grace",description:"An extortionist",attitude:0},{id:"sawtooth",name:"Sawtooth",description:"A physicker",attitude:0}]}}class Yb extends Xt{constructor(){super(),this.name="Unnamed Hound",this.characterType="Hound",this.characterTypeDescription="A deadly sharpshooter and tracker",this.image="06c6e50e-b187-4161-99d4-01228ade7b96",this.contactsLabel="Deadly Friends",this.contacts=[{id:"steiner",name:"Steiner",description:"An assassin",attitude:0},{id:"celene",name:"Celene",description:"A sentinel",attitude:0},{id:"melvir",name:"Melvir",description:"A physicker",attitude:0},{id:"veleris",name:"Veleris",description:"A spy",attitude:0},{id:"casta",name:"Casta",description:"A bounty hunter",attitude:0}]}}class Jb extends Xt{constructor(){super(),this.name="Unnamed Leech",this.characterType="Leech",this.characterTypeDescription="A saboteur and technician",this.image="1b7d14f9-73c8-4b89-88a0-db246cd8b8b4",this.contactsLabel="Clever Friends",this.contacts=[{id:"stazia",name:"Stazia",description:"An apothecary",attitude:0},{id:"veldren",name:"Veldren",description:"A psychonaut",attitude:0},{id:"eckerd",name:"Eckerd",description:"A corpse thief",attitude:0},{id:"jul",name:"Jul",description:"A blood dealer",attitude:0},{id:"malista",name:"Malista",description:"A priestess",attitude:0}]}}class Xb extends Xt{constructor(){super(),this.name="Unnamed Lurk",this.characterType="Lurk",this.characterTypeDescription="A stealthy infiltrator and burglar",this.image="9cec5287-f247-47ad-8eab-ed6a3ef82b0f",this.contactsLabel="Shady Friends",this.contacts=[{id:"telda",name:"Telda",description:"A beggar",attitude:0},{id:"darmot",name:"Darmot",description:"A bluecoat",attitude:0},{id:"frake",name:"Frake",description:"A locksmith",attitude:0},{id:"roslyn_kellis",name:"Roslyn Kellis",description:"A noble",attitude:0},{id:"petra",name:"Petra",description:"A city clerk",attitude:0}]}}class Zb extends Xt{constructor(){super(),this.name="Unnamed Slide",this.characterType="Slide",this.characterTypeDescription="A subtle manipulator and spy",this.image="10f1b3a4-b4c3-4755-a66d-17181ba317b2",this.contactsLabel="Sly Friends",this.contacts=[{id:"bryl",name:"Bryl",description:"A drug dealer",attitude:0},{id:"bazso_baz",name:"Bazso Baz",description:"A gang leader",attitude:0},{id:"klyra",name:"Klyra",description:"A tavern owner",attitude:0},{id:"nyryx",name:"Nyryx",description:"A prostitute",attitude:0},{id:"harker",name:"Harker",description:"A jail-bird",attitude:0}]}}class e_ extends Xt{constructor(){super(),this.name="Unnamed Spider",this.characterType="Spider",this.characterTypeDescription="A devious mastermind",this.image="1f6e47b6-c3c6-47b9-8b19-e553e6362de2",this.contactsLabel="Shrewd Friends",this.contacts=[{id:"salia",name:"Salia",description:"An information broker",attitude:0},{id:"augus",name:"Augus",description:"A master architect",attitude:0},{id:"jennah",name:"Jennah",description:"A servant",attitude:0},{id:"riven",name:"Riven",description:"A chemist",attitude:0},{id:"jeren",name:"Jeren",description:"A bluecoat archivist",attitude:0}]}}class t_ extends Xt{constructor(){super(),this.name="Unnamed Whisper",this.characterType="Whisper",this.characterTypeDescription="An arcane adept and channeler",this.image="88a1879b-06a3-4632-897b-e0cd7e423c46",this.contactsLabel="Strange Friends",this.contacts=[{id:"nyryx",name:"Nyryx",description:"A possessor ghost",attitude:0},{id:"scurlock",name:"Scurlock",description:"A vampire",attitude:0},{id:"setarra",name:"Setarra",description:"A demon",attitude:0},{id:"quellyn",name:"Quellyn",description:"A witch",attitude:0},{id:"flint",name:"Flint",description:"A spirit trafficker",attitude:0}]}}class n_ extends Xt{constructor(){super(),this.name="Unnamed Ghost",this.characterType="Ghost",this.characterTypeDescription="A spirit without a body",this.image="9f5d267b-83f1-40e5-9ff6-04d1c92a3d21"}}class s_ extends Xt{constructor(){super(),this.name="Unnamed Hull",this.characterType="Hull",this.characterTypeDescription="A spirit animating a clockwork frame",this.image="aa5271f0-4d79-4ae7-9348-8bbeae94a27f"}}class o_ extends Xt{constructor(){super(),this.name="Unnamed Vampire",this.characterType="Vampire",this.characterTypeDescription="A spirit animating an undead body",this.image="9cec5287-f247-47ad-8eab-ed6a3ef82b0f",this.contactsLabel="Dark Servants",this.contacts=[{id:"rutherford",name:"Rutherford",description:"A butler",attitude:0},{id:"lylandra",name:"Lylandra",description:"A consort",attitude:0},{id:"kira",name:"Kira",description:"A bodyguard",attitude:0},{id:"otto",name:"Otto",description:"A coachman",attitude:0},{id:"edrik",name:"Edrik",description:"An envoy",attitude:0}]}}function r_(){return{cutter:new Kb,hound:new Yb,leech:new Jb,lurk:new Xb,slide:new Zb,spider:new e_,whisper:new t_,ghost:new n_,hull:new s_,vampire:new o_}}function zu(e){var o,r,i,l,c,d,u,h,f,g;const t=(o=Ie().game)==null?void 0:o.codex,n={id:Rs(),name:`Gang of ${e}s`,description:"Edit this gang to customize its Edges and Flaws.",cohortType:"gang",edges:((l=(i=(r=t==null?void 0:t.sheets)==null?void 0:r.crew)==null?void 0:i.cohorts)==null?void 0:l.edges.map(w=>({...w,id:"edge-"+name,quantity:0,maxQuantity:1})))||[],flaws:((u=(d=(c=t==null?void 0:t.sheets)==null?void 0:c.crew)==null?void 0:d.cohorts)==null?void 0:u.flaws.map(w=>({...w,id:"flaw-"+name,quantity:0,maxQuantity:1})))||[],gangType:[{id:"gangType-adepts",name:"Adepts",description:"Scholars, tinkerers, occultists, and chemists",quantity:0,maxQuantity:1},{id:"gangType-rooks",name:"Rooks",description:"Con artists, spies, and socialites",quantity:0,maxQuantity:1},{id:"gangType-rovers",name:"Rovers",description:"Sailors, carriage drivers, and scavengers",quantity:0,maxQuantity:1},{id:"gangType-skulks",name:"Skulks",description:"Scouts, infiltrators, and thieves",quantity:0,maxQuantity:1},{id:"gangType-thugs",name:"Thugs",description:"Killers, brawlers, and roustabouts",quantity:0,maxQuantity:1}],harm:((g=(f=(h=t==null?void 0:t.sheets)==null?void 0:h.crew)==null?void 0:f.cohorts)==null?void 0:g.harm.map(w=>({...w,id:"harm-"+name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},s="gangType-"+e.toLowerCase();return console.log(s),n.gangType.find(w=>w.id===s).quantity=1,n.edges[0].quantity=1,n.flaws[0].quantity=1,n}var sn=(e=>(e.NORTH="north",e.EAST="east",e.SOUTH="south",e.WEST="west",e))(sn||{});class hs extends Gu{constructor(){super();H(this,"ui",{});H(this,"name","Untitled Crew");H(this,"description","");H(this,"reputationType","Ambitious");H(this,"lair","An abandoned warehouse");H(this,"lairDistrict","Crow's Foot");H(this,"huntingGroundsDistrict","Crow's Foot");H(this,"reputation",0);H(this,"turf",0);H(this,"hold","strong");H(this,"tier",0);H(this,"heat",0);H(this,"wantedLevel",0);H(this,"coin",0);H(this,"crewExperience",0);H(this,"crewDefaultExperienceLabels",["Contend with challenges above your current station","Bolster the Crew's reputation or develop a new one","Express the Crew's goals, drives, inner conflict, or essential nature"]);H(this,"crewExperienceLabels",[]);H(this,"cohorts",[]);H(this,"crewType","");H(this,"crewTypeDescription","");H(this,"specialAbilities",[]);H(this,"image","e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d");H(this,"contacts",[]);H(this,"crewUpgrades",[]);H(this,"lairUpgrades",[{id:"carriage-house",name:"Carriage",description:"",quantity:0,maxQuantity:2},{id:"boat-house",name:"Boat",description:"",quantity:0,maxQuantity:2},{id:"hidden-lair",name:"Hidden",description:"",quantity:0,maxQuantity:1},{id:"quarters",name:"Quarters",description:"",quantity:0,maxQuantity:1},{id:"secure-lair",name:"Secure",description:"",quantity:0,maxQuantity:2},{id:"vault",name:"Vault",description:"",quantity:0,maxQuantity:2},{id:"workshop",name:"Workshop",description:"",quantity:0,maxQuantity:1}]);H(this,"trainingUpgrades",[{id:"insight",name:"Insight",description:"",quantity:0,maxQuantity:1},{id:"prowess",name:"Prowess",description:"",quantity:0,maxQuantity:1},{id:"resolve",name:"Resolve",description:"",quantity:0,maxQuantity:1},{id:"personal",name:"Personal",description:"",quantity:0,maxQuantity:1},{id:"mastery",name:"Mastery",description:"",quantity:0,maxQuantity:4}]);H(this,"qualityUpgrades",[{id:"documents",name:"Documents",description:"",quantity:0,maxQuantity:1},{id:"gear",name:"Gear",description:"",quantity:0,maxQuantity:1},{id:"implements",name:"Implements",description:"",quantity:0,maxQuantity:1},{id:"supplies",name:"Supplies",description:"",quantity:0,maxQuantity:1},{id:"tools",name:"Tools",description:"",quantity:0,maxQuantity:1},{id:"weapons",name:"Weapons",description:"",quantity:0,maxQuantity:1}]);H(this,"claims",[]);H(this,"huntingGroundsLabel","Hunting Grounds");H(this,"huntingGrounds",[]);this.sheetType="crew"}applyUpgradesDescriptionsFromCodex(){var s;const n=(s=Ie().game)==null?void 0:s.codex.sheets.crew["upgrade-descriptions"];this.crewUpgrades.forEach(o=>{var i;const r=(i=n==null?void 0:n.crew)==null?void 0:i[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.lairUpgrades.forEach(o=>{const r=n.lair[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.trainingUpgrades.forEach(o=>{const r=n.training[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)}),this.qualityUpgrades.forEach(o=>{const r=n.quality[o.id];r?o.description=r:o.description||(o.description="no description found for "+o.id)})}}class i_ extends hs{constructor(){super(),this.name="Untitled Assassins",this.crewType="Assassins",this.crewTypeDescription="Murderers for hire",this.image="e52f27b1-e5f6-42de-9889-c2d9aeeb3b0d",this.crewExperienceLabels=["Execute a successful accident, disappearance, murder, or ransom operation"],this.specialAbilities=[{id:"assassins-deadly",name:"Deadly",description:"Each PC may add +1 *Action Rating* to **Hunt**, **Prowl**, or **Skirmish** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"assassins-crows-veil",name:"Crow's Veil",description:"Your activities are hidden from the notice of the Death-seeker Crows and you don't take extra *Heat* when killing is involved on a Score",quantity:0,maxQuantity:1},{id:"assassins-emberdeath",name:"Emberdeath",description:"You know the arcane method to destroy a living victim's Spirit at the moment you kill them. Take [/stress 3 Stress] to channel electroplasmic energy from the ghost field to disintegrate the Spirit and dead body in a shower of sparking embers",quantity:0,maxQuantity:1},{id:"assassins-no-traces",name:"No Traces",description:"When you keep an operation quiet or make it look like an accident, you get half the [/rep Rep] value of the target (round up) instead of zero. When you end downtime with zero *Heat*, take [/rep +1 Rep]",quantity:0,maxQuantity:1},{id:"assassins-patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"assassins-predators",name:"Predators",description:"When you use stealth or subterfuge to commit murder, add [/dice +1] to the *Engagement* roll",quantity:0,maxQuantity:1},{id:"assassins-vipers",name:"Vipers",description:`When you acquire or craft poisons, you get [/result +1 Result Level] to your roll

When you employ a poison, you are specially prepared to be immune to its effects`,quantity:0,maxQuantity:1},{id:"assassins-veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"assassin-rigging",name:"Assassin Rigging",description:"2 free load of weapons or gear.",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"assassins-trev",name:"Trev",description:"A gang boss",attitude:0},{id:"assassins-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"assassins-contact-irimina",name:"Irimina",description:"A vicious noble",attitude:0},{id:"assassins-contact-karlos",name:"Karlos",description:"A bounty hunter",attitude:0},{id:"assassins-contact-exeter",name:"Exeter",description:"A spirit warden",attitude:0},{id:"assassins-contact-sevoy",name:"Sevoy",description:"A merchant lord",attitude:0}],this.claims=[{id:"assassins-training-room",name:"Training Room",description:`[/scale +1 scale]
Skulks Cohorts`,position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-fixer",name:"Fixer",description:`[/coin +2 Coin]
Lower-class targets`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"assassins-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"assassins-hagfish-farm",name:"Hagfish Farm",description:`Body disposal
[/dice +1] Reduce Heat after killing`,position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"assassins-victim-trophies",name:"Victim Trophies",description:`[/rep +1 Rep]
per Score`,position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"assassins-turf-1",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"assassins-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"assassins-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"assassins-cover-operation",name:"Cover Operation",description:`[/heat -2 Heat]
per Score`,position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"assassins-protection-racket",name:"Protection Racket",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"assassins-infirmary",name:"Infirmary",description:"[/dice +1] Healing",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"assassins-envoy",name:"Envoy",description:`[/coin +2 Coin]
High-class targets`,position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"assassins-cover-identities",name:"Cover Identities",description:`[/dice +1] Engagement
*Deception* and *Social plans*`,position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"assassins-city-records",name:"City Records",description:"[/dice +1] Engagement *Stealth plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"assassins-hunting-ground-accident",name:"Accident",description:"A killing with no telltale signs of murder",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-disappearance",name:"Disappearance",description:"The victim vanishes without a trace",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-murder",name:"Murder",description:"An obvious killing that sends a message",quantity:0,maxQuantity:1},{id:"assassins-hunting-ground-ransom",name:"Ransom",description:"A kidnapping and demand for payment for their return",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="assassins-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="insight").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1}}class a_ extends hs{constructor(){super(),this.name="Untitled Bravos",this.crewType="Bravos",this.crewTypeDescription="Mercenaries, thugs, & killers",this.image="ab9c33a6-2710-41ff-a814-edf6b648af54",this.crewExperienceLabels=["Execute a successful battle, extortion, sabotage, or smash & grab operation"],this.specialAbilities=[{id:"dangerous",name:"Dangerous",description:"Each PC may add +1 *Action Rating* to **Hunt**, **Skirmish**, or **Wreck** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"blood-brothers",name:"Blood Brothers",description:`When you fight alongside your Cohorts in combat, they get [/dice +1] for *Setup* and *Group Action* rolls

All of your Cohorts get the Thugs type for free. If they're already Thugs, add another type`,quantity:0,maxQuantity:1},{id:"door-kickers",name:"Door Kickers",description:"When you execute an *Assault plan*, take [/dice +1] to the *Engagement* roll",quantity:0,maxQuantity:1},{id:"fiends",name:"Fiends",description:"Fear is as good as respect. You may count each *Wanted Level* as if it was Turf",quantity:0,maxQuantity:1},{id:"forged-in-the-fire",name:"Forged in the Fire",description:"Each PC has been toughened by cruel experience. You get [/dice +1] to *Resistance* rolls",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"war-dogs",name:"War Dogs",description:"When you're at *War* (-3 *Faction Status*), your Crew does not suffer -1 *Hold* and PCs still get two *Downtime Activities* instead of just one",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"bravos-rigging",name:"Bravos Rigging",description:"2 free load of weapons or armor.",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"hardened",name:"Hardened",description:"+1 trauma box.",quantity:0,maxQuantity:3},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1}],this.contacts=[{id:"bravos-contact-meg",name:"Meg",description:"A pit-fighter",attitude:0},{id:"bravos-contact-conway",name:"Conway",description:"A bluecoat",attitude:0},{id:"bravos-contact-keller",name:"Keller",description:"A blacksmith",attitude:0},{id:"bravos-contact-tomas",name:"Tomas",description:"A physicker",attitude:0},{id:"bravos-contact-walker",name:"Walker",description:"A ward boss",attitude:0},{id:"bravos-contact-lutes",name:"Lutes",description:"A tavern owner",attitude:0}],this.claims=[{id:"bravos-barracks",name:"Barracks",description:`[/scale +1 Scale]
Thug Cohorts`,position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"bravos-terrorized-citizens",name:"Terrorized Citizens",description:`[/coin +2 Coin]
*Battle* or *Extortion plans*`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"bravos-protection-racket",name:"Protection Racket",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"bravos-fighting-pits",name:"Fighting Pits",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"bravos-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["west","east","south"]},{id:"bravos-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"bravos-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"bravos-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"bravos-infirmary",name:"Infirmary",description:"[/dice +1] Healing",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-bluecoat-intimidation",name:"Bluecoat Intimidation",description:`[/heat -2 Heat]
per Score`,position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"bravos-street-fence",name:"Street Fence",description:`[/coin +2 Coin]
Lower-class targets`,position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"bravos-warehouses",name:"Warehouses",description:"Stockpiles give [/dice +1] *Acquire Assets*",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"bravos-bluecoat-confederates",name:"Bluecoat Confederates",description:"[/dice +1] Engagement *Assault plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"bravos-hunting-ground-battle",name:"Battle",description:"Defeat an enemy with overwhelming force",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-extortion",name:"Extortion",description:"Threaten violence unless you're paid off",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something",quantity:0,maxQuantity:1},{id:"bravos-hunting-ground-smash-and-grab",name:"Smash & Grab",description:"A fast and violent armed robbery",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="bravos-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.cohorts.push(zu("Thugs"))}}class l_ extends hs{constructor(){super();H(this,"deityName");H(this,"deityFeatures");this.name="Untitled Cult",this.crewType="Cult",this.crewTypeDescription="Acolytes of a deity",this.image="7544b3a4-0e4d-4758-9870-cd5b8f7774cb",this.crewExperienceLabels=["Advance the agenda of your deity or embody its precepts"],this.specialAbilities=[{id:"chosen",name:"Chosen",description:"Each PC may add +1 *Action Rating* to **Attune**, **Study**, or **Sway** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"anointed",name:"Anointed",description:`You get [/dice +1] to *Resistance* rolls against supernatural threats

You get [/dice +1] to healing rolls when you have supernatural harm`,quantity:0,maxQuantity:1},{id:"bound-in-darkness",name:"Bound in Darkness",description:`You may use *Teamwork* with any cult member, regardless of the distance separating you

Take [/stress 1 Stress] for your whispered message to be heard by every cultist`,quantity:0,maxQuantity:1},{id:"conviction",name:"Conviction",description:`Each PC gains an additional *Vice*: Worship. You don't overindulge when indulging in Worship (if you provide a pleasing sacrifice)

In addition, your deity will grant [/dice +1] to one *Action Roll* you makefrom now until you indulge in Worship again`,quantity:0,maxQuantity:1},{id:"glory-incarnate",name:"Glory Incarnate",description:`Your deity sometimes manifests in the physical world. This can be a great boon, but the priorities and values of a god are not those of mortals

You have been warned`,quantity:0,maxQuantity:1},{id:"sealed-in-blood",name:"Sealed in Blood",description:"Each human sacrifice yields -3 *Stress Cost* when performing a ritual",quantity:0,maxQuantity:1},{id:"zealotry",name:"Zealotry",description:`Your Cohorts have abandoned reason in devotion to the cult and will undertake any service, no matter how dangerous or strange

They gain [/dice +1] to rolls against enemies of the faith`,quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"cult-rigging",name:"Cult Rigging",description:"2 free load of documents or implements.",quantity:0,maxQuantity:1},{id:"ritual-sanctum-in-lair",name:"Ritual Sanctum in Lair",description:"",quantity:0,maxQuantity:1},{id:"elite-adepts",name:"Elite Adepts",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"ordained",name:"Ordained",description:"+1 trauma box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"cult-contact-gagan",name:"Gagan",description:"An academic",attitude:0},{id:"cult-contact-adikin",name:"Adikin",description:"An occultist",attitude:0},{id:"cult-contact-hutchins",name:"Hutchins",description:"An antiquarian",attitude:0},{id:"cult-contact-moriya",name:"Moriya",description:"A spirit trafficker",attitude:0},{id:"cult-contact-mateas-kline",name:"Mateas Kline",description:"A noble",attitude:0},{id:"cult-bennett",name:"Bennett",description:"An astronomer",attitude:0}],this.claims=[{id:"cult-cloister",name:"Cloister",description:`[/scale +1 Scale]
Adept Cohorts`,position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"cult-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south","east"]},{id:"cult-offertory",name:"Offertory",description:"[/coin +2 Coin] *Occult plans*",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-ancient-obelisk",name:"Ancient Obelisk",description:"-1 *Stress Cost* for *Arcane Powers* and *Rituals*",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-tower",name:"Ancient Tower",description:"[/dice +1] Consort w/ Arcane entities on-site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"cult-turf-1",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"cult-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"cult-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"cult-spirit-well",name:"Spirit Well",description:"[/dice +1] **Attune** on-site",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east"]},{id:"cult-ancient-gate",name:"Ancient Gate",description:"Safe passage into the Deathlands",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"cult-sanctuary",name:"Sanctuary",description:"[/dice +1] *Command* and *Sway* on-site",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"cult-sacred-nexus",name:"Sacred Nexus",description:"[/dice +1] Healing on-site",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"cult-ancient-altar",name:"Ancient Altar",description:"[/dice +1] Engagement *Occult plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Sacred Sites",this.huntingGrounds=[{id:"cult-sacred-site-acquisition",name:"Acquisition",description:"Procure an arcane artifact and attune it to your god",quantity:0,maxQuantity:1},{id:"cult-sacred-site-augury",name:"Augury",description:"Do what you must to attract the god's attention and counsel",quantity:0,maxQuantity:1},{id:"cult-sacred-site-consecration",name:"Consecration",description:"Anoint a place for your deity",quantity:0,maxQuantity:1},{id:"cult-sacred-site-sacrifice",name:"Sacrifice",description:"Destroy what is valuable or good in honor of your god",quantity:0,maxQuantity:1}],this.deityName="",this.deityFeatures="",this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(n=>n.id==="cult-lair").quantity=1,this.trainingUpgrades.find(n=>n.id==="resolve").quantity=1,this.cohorts.push(zu("Adepts"))}}class c_ extends hs{constructor(){super(),this.name="Untitled Hawkers",this.crewType="Hawkers",this.crewTypeDescription="Vice dealers",this.image="13867125-73d8-4399-a550-db499a4eedfe",this.crewExperienceLabels=["Acquire product supply, execute clandestine/covert sales, or secure new territory"],this.specialAbilities=[{id:"silver-tongues",name:"Silver Tongues",description:"Each PC may add +1 *Action Rating* to **Command**, **Consort**, or **Sway** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"accord",name:"Accord",description:"Sometimes friends are as good as territory. Count up to three +3 *Faction Statuses* as Turf",quantity:0,maxQuantity:1},{id:"the-good-stuff",name:"The Good Stuff",description:`Your merchandise is exquisite. The product quality is equal to your *Tier* +2

When you deal with a *Faction*, the GM will tell you who among them is hooked on your product (one, a few, many, or all)`,quantity:0,maxQuantity:1},{id:"ghost-market",name:"Ghost Market",description:`You have discovered how to prepare your product for sale to ghosts and/or demons

They do not pay in *Coin*. What do they pay with?`,quantity:0,maxQuantity:1},{id:"high-society",name:"High Society",description:`It's all about who you know

Take [/heat -1 Heat] during Downtime and [/dice +1] to Gather Information about the city's elite`,quantity:0,maxQuantity:1},{id:"hooked",name:"Hooked",description:"Your Cohorts use your product. Add the savage, unreliable, or wild *Flaw* to your Gangs to give them [/quality +1 Quality]",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"hawker-rigging",name:"Hawkers Rigging",description:"1 carried item is concealed and has no load",quantity:0,maxQuantity:1},{id:"ironhook-contacts",name:"Ironhook Contacts",description:"+1 Tier in prison.",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-thugs",name:"Elite Thugs",description:"",quantity:0,maxQuantity:1},{id:"composed",name:"Composed",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"hawkers-contact-rolan-wott",name:"Rolan Wott",description:"A magistrate",attitude:0},{id:"hawkers-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"hawkers-contact-lydra",name:"Lydra",description:"A deal broker",attitude:0},{id:"hawkers-contact-hoxley",name:"Hoxley",description:"A smuggler",attitude:0},{id:"hawkers-contact-anya",name:"Anya",description:"A dilettante",attitude:0},{id:"hawkers-contact-marlo",name:"Marlo",description:"A gang boss",attitude:0}],this.claims=[{id:"hawkers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-personal-clothier",name:"Personal Clothier",description:"[/dice +1] Engagement *Social plans*",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-local-graft",name:"Local Graft",description:`[/coin +2 Coin]
*Show of Force* or *Socialize plans*`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"hawkers-lookouts",name:"Lookouts",description:"[/dice +1] **Survey** and **Hunt** on Turf",position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"hawkers-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"hawkers-turf-2",name:"Turf",description:"",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","south"]},{id:"hawkers-turf-3",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"hawkers-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south","west"]},{id:"hawkers-turf-4",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"hawkers-luxury-venue",name:"Luxury Venue",description:"[/dice +1] **Consort** and **Sway** on-site",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-foreign-market",name:"Foreign Market",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"hawkers-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]},{id:"hawkers-surplus-caches",name:"Surplus Caches",description:`[/coin +2 Coin]
*Sale* or *Supply plans*`,position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"hawkers-cover-operation",name:"Cover Operation",description:`[/heat -2 Heat]
per Score`,position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"hawkers-cover-identities",name:"Cover Identities",description:"[/dice +1] Engagement *Deception* or *Transport plans*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west"]}],this.huntingGroundsLabel="Sales Territory",this.huntingGrounds=[{id:"hawkers-sales-territory-sale",name:"Sale",description:"A significant transaction with a special buyer of illicit product",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-supply",name:"Supply",description:"A transaction to acquire new product or establish a new supplier",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-show-of-force",name:"Show of Force",description:"Make an example of an enemy to dominate territory",quantity:0,maxQuantity:1},{id:"hawkers-sales-territory-socialize",name:"Socialize",description:"Improve customer and/or supplier relations with a social event",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="hawkers-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="resolve").quantity=1,this.lairUpgrades.find(t=>t.id==="secure-lair").quantity=1,console.log(this.lairUpgrades)}}class u_ extends hs{constructor(){super(),this.name="Untitled Shadows",this.crewType="Shadows",this.crewTypeDescription="Thieves, spies, and saboteurs",this.image="bbc1bf16-dc4d-4e97-a898-0bf9e688d327",this.crewExperienceLabels=["Execute a successful espionage, sabotage, or theft operation"],this.specialAbilities=[{id:"everyone-steals",name:"Everyone Steals",description:"Each PC may add +1 *Action Rating* to **Prowl**, **Finesse**, or **Tinker** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"ghost-echoes",name:"Ghost Echoes",description:"All Crew members gain the ability to see and interact with the ghostly structures, streets, and objects within the echo of Duskwall that exists in the Ghost Field.",quantity:0,maxQuantity:1},{id:"pack-rats",name:"Pack Rats",description:"Your Lair is a jumble of stolen items. Take [/dice +1d] when you *Acquire an Asset*",quantity:0,maxQuantity:1},{id:"patron",name:"Patron",description:"When you advance your *Tier*, it costs half the *Coin* it normally would. Who is your patron? Why do they help you?",quantity:0,maxQuantity:1},{id:"second-story",name:"Second Story",description:"When you execute a clandestine infiltration, you get [/dice +1] to the *Engagement* roll",quantity:0,maxQuantity:1},{id:"slippery",name:"Slippery",description:`When you roll *Entanglements*, roll twice and keep the one you want

Take [/dice +1] when you reduce *Heat*`,quantity:0,maxQuantity:1},{id:"synchronized",name:"Synchronized",description:"When you perform a *Group Action* you may count multiple 6s from different rolls as a Critical Success",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"thief-rigging",name:"Thief Rigging",description:"2 free load of tools or gear.",quantity:0,maxQuantity:1},{id:"underground-maps-and-passkeys",name:"Underground Maps and Passkeys",description:"",quantity:0,maxQuantity:1},{id:"elite-rooks",name:"Elite Rooks",description:"",quantity:0,maxQuantity:1},{id:"elite-skulks",name:"Elite Skulks",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"shadows-contact-dowler",name:"Dowler",description:"An explorer",attitude:0},{id:"shadows-contact-laroze",name:"Laroze",description:"A bluecoat",attitude:0},{id:"shadows-contact-amancio",name:"Amancio",description:"A deal broker",attitude:0},{id:"shadows-contact-fitz",name:"Fitz",description:"A collector",attitude:0},{id:"shadows-contact-adelaide-phroaig",name:"Adelaide Phroaig",description:"A noble",attitude:0},{id:"shadows-contact-rigney",name:"Rigney",description:"A tavern owner",attitude:0}],this.claims=[{id:"shadows-interrogation-chamber",name:"Interrogation Chamber",description:"[/dice +1] **Command** and **Sway** on-site",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-turf-1",name:"Turf",description:"",position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-loyal-fence",name:"Loyal Fence",description:"[/coin +2 Coin] *Burglary* or *Robbery plans*",position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-gambling-den",name:"Gambling Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"shadows-tavern",name:"Tavern",description:"[/dice +1] **Consort** and **Sway** on-site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"shadows-drug-den",name:"Drug Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"shadows-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["south","west","east"]},{id:"shadows-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"shadows-turf-2",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east"]},{id:"shadows-lookouts",name:"Lookouts",description:"[/dice +1] **Survey** and **Hunt** on Turf",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"shadows-hagfish-farm",name:"Hagfish Farm",description:`Body disposal
[/dice +1] Reduce Heat after killing`,position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"shadows-infirmary",name:"Infirmary",description:"[/dice +1] Healing",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"shadows-covert-drops",name:"Covert Drops",description:"+2 coin for espionage or sabotage",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"shadows-turf-3",name:"Turf",description:"",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["west","east"]},{id:"shadows-secret-pathways",name:"Secret Pathways",description:"+1d engagement for stealth plans",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]}],this.huntingGroundsLabel="Hunting Grounds",this.huntingGrounds=[{id:"shadows-hunting-grounds-burglary",name:"Burglary",description:"Theft by breaking and entering",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-espionage",name:"Espionage",description:"Obtain secret information by covert or clandestine means",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-robbery",name:"Robbery",description:"Theft by force or threats",quantity:0,maxQuantity:1},{id:"shadows-hunting-grounds-sabotage",name:"Sabotage",description:"Hurt an opponent by destroying something",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="shadows-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.lairUpgrades.find(t=>t.id==="hidden-lair").quantity=1}}class d_ extends hs{constructor(){super(),this.name="Untitled Smugglers",this.crewType="Smugglers",this.crewTypeDescription="Suppliers of illicit goods",this.image="de509b5c-f37c-4975-9768-5e123d24e19b",this.crewExperienceLabels=["Execute a successful smuggling or acquire new clients or contraband sources"],this.specialAbilities=[{id:"like-part-of-the-family",name:"Like Part of the Family",description:"Create one of your vehicles as a Cohort. Its *Quality* is equal to your *Tier* +1.",quantity:0,maxQuantity:1},{id:"all-hands",name:"All Hands",description:"One of your Cohorts may perform a *Downtime Activity* for the Crew to *Acquire an Asset*, reduce *Heat*, or work on a *Long-term Project*",quantity:0,maxQuantity:1},{id:"ghost-passage",name:"Ghost Passage",description:'All crew members become immune to possession by Spirits, but may choose to "carry" a Ghost as a passenger within their body.',quantity:0,maxQuantity:1},{id:"just-passing-through",name:"Just Passing Through",description:`[/heat -1 Heat] in Downtime

When your *Heat* is 4 or less, take [/dice +1] to deceive people when you pass yourselves off as ordinary citizens`,quantity:0,maxQuantity:1},{id:"leverage",name:"Leverage",description:`Your Crew supplies contraband for other *Factions*. Your success is good for them

Gain [/rep +1 Rep] whenever you gain *Rep*`,quantity:0,maxQuantity:1},{id:"reavers",name:"Reavers",description:`When you go into conflict aboard a vehicle, you gain +1 *Effect* for vehicle damage and speed

Your vehicle gains Armor`,quantity:0,maxQuantity:1},{id:"renegades",name:"Renegades",description:"Each PC may add +1 *Action Rating* to **Finesse**, **Prowl**, or **Skirmish** (up to a max of 3)",quantity:0,maxQuantity:1},{id:"veteran",name:"Veteran",description:"Choose a *Special Ability* from another crew",quantity:0,maxQuantity:3}],this.crewUpgrades=[{id:"smugglers-rigging",name:"Smugglers Rigging",description:"2 items carried are perfectly concealed.",quantity:0,maxQuantity:1},{id:"camoflage",name:"Camoflage",description:"Vehicles are perfectly concealed at rest",quantity:0,maxQuantity:1},{id:"elite-rovers",name:"Elite Rovers",description:"",quantity:0,maxQuantity:1},{id:"barge",name:"Barge",description:"",quantity:0,maxQuantity:1},{id:"steady",name:"Steady",description:"+1 stress box.",quantity:0,maxQuantity:3}],this.contacts=[{id:"smugglers-contact-elynn",name:"Elynn",description:"A dock worker",attitude:0},{id:"smugglers-contact-rolan",name:"Rolan",description:"A drug dealer",attitude:0},{id:"smugglers-contact-sera",name:"Sera",description:"An arms dealer",attitude:0},{id:"smugglers-contact-nyelle",name:"Nyelle",description:"A spirit trafficker",attitude:0},{id:"smugglers-contact-decker",name:"Decker",description:"An anarchist",attitude:0},{id:"smugglers-contact-esme",name:"Esme",description:"A tavern owner",attitude:0}],this.claims=[{id:"smugglers-turf-1",name:"Turf",description:"",position:{x:0,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-side-business",name:"Side Business",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:1,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-luxury-fence",name:"Luxury Fence",description:`[/coin +2]
High-class targets`,position:{x:2,y:0},quantity:0,maxQuantity:1,adjacent:["south"]},{id:"smugglers-vice-den",name:"Vice Den",description:`[/coin +Coin]
[/dice Tier] - *Heat*`,position:{x:3,y:0},quantity:0,maxQuantity:1,adjacent:["east","south"]},{id:"smugglers-tavern",name:"Tavern",description:"[/dice +1] **Consort** and **Sway** on-site",position:{x:4,y:0},quantity:0,maxQuantity:1,adjacent:["west","south"]},{id:"smugglers-ancient-gate",name:"Ancient Gate",description:"Safe passage into the Deathlands",position:{x:0,y:1},quantity:0,maxQuantity:1,adjacent:["south","north"]},{id:"smugglers-turf-2",name:"Turf",description:"",position:{x:1,y:1},quantity:0,maxQuantity:1,adjacent:["north","east","south"]},{id:"smugglers-lair",name:"Lair",description:"",position:{x:2,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-3",name:"Turf",description:"",position:{x:3,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","east","south"]},{id:"smugglers-turf-4",name:"Turf",description:"",position:{x:4,y:1},quantity:0,maxQuantity:1,adjacent:["north","west","south"]},{id:"smugglers-secret-routes",name:"Secret Routes",description:"[/dice +1] Engagement *Transport plans*",position:{x:0,y:2},quantity:0,maxQuantity:1,adjacent:["east","north"]},{id:"smugglers-informants",name:"Informants",description:"[/dice +1] Gather Information",position:{x:1,y:2},quantity:0,maxQuantity:1,adjacent:["west","north"]},{id:"smugglers-fleet",name:"Fleet",description:"Cohorts have their own vehicles",position:{x:2,y:2},quantity:0,maxQuantity:1,adjacent:["north"]},{id:"smugglers-cover-operation",name:"Cover Operation",description:"[/heat -2] per Score",position:{x:3,y:2},quantity:0,maxQuantity:1,adjacent:["north","east"]},{id:"smugglers-warehouse",name:"Warehouse",description:"Stockpiles give [/dice +1] *Acquire Assets*",position:{x:4,y:2},quantity:0,maxQuantity:1,adjacent:["north","west"]}],this.huntingGroundsLabel="Cargo Types",this.huntingGrounds=[{id:"smugglers-cargo-type-arcane-weird",name:"Arcane/Weird",description:"Spirit essences, ghosts, cult materials",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-arms",name:"Arms",description:"Restricted military weapons, heavy ordnance, explosives",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-contraband",name:"Contraband",description:"High-tax luxuries, drugs, banned art, etc",quantity:0,maxQuantity:1},{id:"smugglers-cargo-type-passengers",name:"Passengers",description:"People or livestock traveling in secret",quantity:0,maxQuantity:1}],this.applyUpgradesDescriptionsFromCodex(),this.applyStartingUpgrades()}applyStartingUpgrades(){this.claims.find(t=>t.id==="smugglers-lair").quantity=1,this.trainingUpgrades.find(t=>t.id==="prowess").quantity=1,this.lairUpgrades=this.lairUpgrades.filter(t=>t.id!=="carriage-house"&&t.id!=="boat-house");for(let t=1;t<=2;t++)this.lairUpgrades.push({id:`vehicle-${t}`,name:`Vehicle ${t}`,description:"Either a carriage or a boat, along with the relevant stable or boat-house.",quantity:t==1?1:0,maxQuantity:2})}}function h_(){return{assassins:new i_,bravos:new a_,cult:new l_,hawkers:new c_,shadows:new u_,smugglers:new d_}}function f_(e){return e==="crew"?h_():e==="character"?r_():{}}function is(e){return Wu.find(t=>t.id===e)}function p_(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}function m_(e){return["zero","one","two","three","four","five","six","seven","eight","nine","ten"][e]}function st(e){const t=e.replace(/<[^>]*>/g,""),n=[{pattern:/(\*\*|__)(.*?)\1/g,replacement:'<span class="strong">$2</span>'},{pattern:/(\*|_)(.*?)\1/g,replacement:'<span class="em">$2</span>'},{pattern:/\n\n/g,replacement:'<br class="paragraph-break" />'},{pattern:/\n/g,replacement:"<br />"},{pattern:/\[\/dice\s+([^\]]+)\]/g,replacement:'<span class="t t--dice">$1<i class="fas fa-dice-three"></i></span>'},{pattern:/\[\/(\w+)\s+([^\]]+)\]/g,replacement:'<span class="t t--$1">$2</span>'}];let s=t;return n.forEach(o=>{s=s.replaceAll(o.pattern,o.replacement)}),`<span class="markdown">${s}</span>`}const y_={class:"template-picker"},g_=["onClick"],v_=["src"],b_={class:"row mobile-only"},__=ie({__name:"SheetTemplatePickerModal",props:{sheetType:String,description:String,templateTypeKey:String,templates:Object,onConfirm:{type:Function,required:!0}},setup(e){const t=e;function n(r){console.log("template",r),t.onConfirm(t.sheetType,r),G.close()}const s=M(0);function o(r){const i=r.children[0].clientWidth,l=(r.scrollLeft+i/2)/i;s.value=Math.floor(l)}return(r,i)=>(y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[a("h2",null,"Choose a "+q(e.sheetType)+" template",1)]),_:1})]),content:F(()=>[a("div",y_,[a("p",null,q(t.description),1),a("ul",{class:"scroll-container",ref:"carouselRef",onScroll:i[0]||(i[0]=l=>o(l.target))},[(y(!0),k(Z,null,ce(e.templates,(l,c,d)=>{var u,h;return y(),k("li",null,[(y(),k("div",{class:Y(["template-card prevent-click-on-mobile",{active:s.value==d,"left-of-active":s.value>d,"right-of-active":s.value<d}]),onClick:f=>n(l),key:l.id,style:Ut({"background-color":(u=B(is)(l.image))==null?void 0:u.commonColor})},[a("img",{src:(h=B(is)(l.image))==null?void 0:h.url},null,8,v_),a("h3",null,q(l[e.templateTypeKey]),1),a("p",null,q(l[e.templateTypeKey+"Description"]),1)],14,g_))])}),256))],544),a("div",b_,[a("button",{class:"btn mobile-full-width",onClick:i[1]||(i[1]=l=>n(Object.values(t.templates)[s.value]))},[a("span",null,"New "+q(B(p_)(Object.keys(t.templates||[])[s.value])),1)])])])]),_:1}))}}),w_=ae(__,[["__scopeId","data-v-deaeb7fc"]]),k_={class:"icon"},x_={key:1},C_=ie({__name:"Checkbox",props:{modelValue:{type:[String,Boolean,Array],required:!0},label:{type:String,required:!1},value:{type:String,required:!1},text:{type:String,required:!1,default:""},icon:{type:String,required:!1},emptyWhenUnchecked:{type:Boolean,required:!1,default:!1}},setup(e,{emit:t}){const n=e,s=t,o=z(()=>n.value&&Array.isArray(n.modelValue)?n.modelValue.includes(n.value):n.modelValue);function r(i){if(i.preventDefault(),!(n.value&&Array.isArray(n.modelValue)))return s("update:modelValue",!n.modelValue);n.modelValue.includes(n.value)?n.modelValue.splice(n.modelValue.indexOf(n.value),1):n.modelValue.push(n.value),s("update:modelValue",n.modelValue)}return(i,l)=>{var c;return y(),k("div",{class:Y(["checkbox-group",{compact:!((c=e.label)!=null&&c.length),checked:o.value}]),onClick:r},[a("div",k_,[o.value||!e.emptyWhenUnchecked?(y(),k("i",{key:0,class:Y(["fas",e.icon])},null,2)):j("",!0),e.icon?j("",!0):(y(),k("span",x_,q(e.text),1))]),a("p",null,q(e.label),1)],2)}}}),ot=ae(C_,[["__scopeId","data-v-673eeeb5"]]),S_={class:"header"},T_=99,E_=ie({__name:"AttributeTile",props:{effectable:{},change:{type:Function}},setup(e){const t=e;function n(){s.value=r(t.effectable.quantity)}const s=M([]);n(),Ct(()=>t.effectable.quantity,n);function o(i){let l=s.value;l=l.filter(d=>parseInt(d)<=parseInt(i));const c=Math.max(...l.map(d=>parseInt(d)));l=l.map(d=>parseInt(d)<=c?d:i),s.value=Array.from({length:c},(d,u)=>(u+1).toString()),t.change(Math.max(c,0))}function r(i){return Array.from({length:i},(l,c)=>(c+1).toString())}return(i,l)=>(y(),k("div",{class:Y(["attribute-tile",{active:t.effectable.quantity>0}])},[a("div",S_,[a("h2",null,q(t.effectable.name),1)]),a("div",{class:Y(["row selection-bar",{locked:T_<1}])},[(y(!0),k(Z,null,ce(i.effectable.maxQuantity,c=>(y(),re(ot,{key:i.effectable.id+c,modelValue:s.value,"onUpdate:modelValue":[l[0]||(l[0]=d=>s.value=d),d=>o(c.toString())],value:c.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))],2)],2))}}),wt=ae(E_,[["__scopeId","data-v-134b80ff"]]),$_={class:"checkbox-list"},A_=99,R_=ie({__name:"CheckboxBar",props:{value:{},locked:{},max:{},coinMode:{type:Boolean}},emits:["change"],setup(e,{emit:t}){const n=e,s=t,o=M(n.value),r=M([]);i();function i(){r.value=l(o.value)}function l(u){return Array.from({length:u},(h,f)=>(f+1).toString())}Ct(()=>n.value,u=>{o.value=u});function c(u){return u>n.max-(n.locked??0)?"fas fa-lock":n.coinMode&&r.value.includes(u.toString())?"fas fa-crown":r.value.includes(u.toString())?"fas fa-check":"N/A"}function d(u){let h=r.value;h=h.filter(g=>parseInt(g)<=parseInt(u));const f=Math.max(...h.map(g=>parseInt(g)));h=h.map(g=>parseInt(g)<=f?g:u),r.value=Array.from({length:f},(g,w)=>(w+1).toString()),o.value=Math.max(f,0),s("change",o.value)}return(u,h)=>(y(),k("div",{class:Y(["checkbox-bar",{"coin-mode":n.coinMode,locked:A_<1}])},[a("ul",$_,[(y(!0),k(Z,null,ce(n.max,f=>(y(),re(ot,{class:Y({locked:f>n.max-(n.locked??0)}),key:f,modelValue:r.value,"onUpdate:modelValue":[h[0]||(h[0]=g=>r.value=g),g=>d(f.toString())],value:f.toString(),icon:c(f)},null,8,["class","modelValue","value","onUpdate:modelValue","icon"]))),128))])],2))}}),nn=ae(R_,[["__scopeId","data-v-7bed470d"]]),P_={class:"row"},O_={viewBox:"-50 -50 100 100"},I_=["d"],q_=["innerHTML"],N_=ie({__name:"Clock",props:{clock:{},change:{type:Function}},setup(e){const t=e,n=z(()=>Array.from({length:t.clock.segments},(r,i)=>i));function s(r,i){const c=r/i*Math.PI*2-Math.PI/2,d=(r+1)/i*Math.PI*2-Math.PI/2,u=Math.cos(c)*50,h=Math.sin(c)*50,f=Math.cos(d)*50,g=Math.sin(d)*50,w=d-c<=Math.PI?0:1;return`M 0 0 L ${u} ${h} A 50 50 0 ${w} 1 ${f} ${g} Z`}function o(){const r=t.clock.value+1;t.change(r>t.clock.segments?0:r)}return(r,i)=>(y(),k("div",P_,[a("div",{class:"pie-chart",onClick:o},[(y(!0),k(Z,null,ce(n.value,l=>(y(),k("div",{class:"slice",key:l},[(y(),k("svg",O_,[a("path",{d:s(l,n.value.length),style:Ut({fill:t.clock.value>l?"var(--primary)":"var(--dark)",stroke:"var(--dark-2)"})},null,12,I_)]))]))),128))]),a("h2",null,q(t.clock.name),1),a("p",{innerHTML:B(st)(t.clock.description)},null,8,q_)]))}}),L_=ae(N_,[["__scopeId","data-v-6a075dfd"]]),D_=ie({__name:"CollapsingShelf",props:{show:{type:Boolean}},setup(e){const t=e;return(n,s)=>(y(),k("div",{class:Y(["shelf",{show:t.show}])},[ts(n.$slots,"default",{},void 0)],2))}}),Xe=ae(D_,[["__scopeId","data-v-30cf1f4f"]]),Tn=e=>(Ae("data-v-bc8da894"),e=e(),Re(),e),U_={class:"edit"},M_={class:"input-group"},B_=Tn(()=>a("label",{for:"name"},"Name",-1)),F_=Tn(()=>a("label",{for:"id"},[ne("ID "),a("label",{class:"muted"},"(permanent)")],-1)),H_={class:"input-group stretch"},j_={for:"description"},Q_={class:"muted"},V_={class:"input-group"},W_=Tn(()=>a("label",{for:"maxQuantity"},"Max Quantity",-1)),G_={key:0,class:"row"},z_=Tn(()=>a("span",null,"Cancel",-1)),K_=[z_],Y_=Tn(()=>a("span",null,"New",-1)),J_=[Y_],X_={key:1,class:"row"},Z_=Tn(()=>a("i",{class:"fas fa-trash"},null,-1)),e1=Tn(()=>a("span",null,"Delete",-1)),t1=[Z_,e1],n1=Tn(()=>a("span",null,"Save",-1)),s1=[n1],o1=ie({__name:"EditEffectableModal",props:{propertyName:{},effectable:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){const t=e,n={id:"",name:"",description:"",quantity:0,maxQuantity:1},s=M({...t.effectable||n});function o(c){if(!t.onCreateNew)return;let d=(t.idPrefix||"")+"-"+c;d=d.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),s.value.id=d}function r(){t.onCreateNew&&(t.onCreateNew(s.value),G.close())}function i(){t.onEdit&&(t.onEdit(s.value),G.close())}function l(){t.onDelete&&(t.onDelete(s.value.id),G.close())}return(c,d)=>(y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[a("h2",null,q(t.onCreateNew?"Create a new":"Edit")+" "+q(c.propertyName),1)]),_:1})]),content:F(()=>[a("div",U_,[a("div",M_,[B_,De(a("input",{type:"text",id:"name","onUpdate:modelValue":d[0]||(d[0]=u=>s.value.name=u),placeholder:"Enter a memorable name",onInput:d[1]||(d[1]=u=>o(s.value.name))},null,544),[[Ue,s.value.name]])]),a("div",{class:Y(["input-group",{disabled:!t.onCreateNew}])},[F_,De(a("input",{type:"text",id:"id","onUpdate:modelValue":d[2]||(d[2]=u=>s.value.id=u),placeholder:"A hyphenated identifier"},null,512),[[Ue,s.value.id]])],2),a("div",H_,[a("label",j_,[ne("Description "),a("label",Q_,"("+q(s.value.description.length)+" / 400) ",1)]),De(a("textarea",{id:"description","onUpdate:modelValue":d[3]||(d[3]=u=>s.value.description=u),placeholder:"A brief description"},null,512),[[Ue,s.value.description]])]),a("div",V_,[W_,De(a("input",{type:"number",id:"maxQuantity","onUpdate:modelValue":d[4]||(d[4]=u=>s.value.maxQuantity=u),placeholder:"1, 2, 3..."},null,512),[[Ue,s.value.maxQuantity]])]),t.onCreateNew?(y(),k("div",G_,[a("button",{class:"btn btn--alt mobile-full-width",onClick:d[5]||(d[5]=u=>B(G).close())},K_),a("button",{class:"btn mobile-full-width",onClick:r},J_)])):(y(),k("div",X_,[a("button",{class:"btn btn--alt mobile-full-width",onClick:l},t1),a("button",{class:"btn mobile-full-width",onClick:i},s1)]))])]),_:1}))}}),zn=ae(o1,[["__scopeId","data-v-bc8da894"]]),r1=e=>(Ae("data-v-b2037dda"),e=e(),Re(),e),i1={class:"header"},a1=r1(()=>a("i",{class:"fas fa-edit"},null,-1)),l1=[a1],c1=["innerHTML"],Sl=99,u1=ie({__name:"EffectableTile",props:{effectable:{},idPrefix:{},propertyName:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function}},setup(e){const t=e;function n(){s.value=r(t.effectable.quantity)}const s=M([]);n(),Ct(()=>t.effectable.quantity,n);function o(c){let d=s.value;d=d.filter(h=>parseInt(h)<=parseInt(c));const u=Math.max(...d.map(h=>parseInt(h)));d=d.map(h=>parseInt(h)<=u?h:c),s.value=Array.from({length:u},(h,f)=>(f+1).toString()),t.change(Math.max(u,0))}function r(c){return Array.from({length:c},(d,u)=>(u+1).toString())}function i(c){t.onEdit&&t.onEdit(c)}function l(c){t.onDelete&&t.onDelete(c)}return(c,d)=>(y(),k("div",{class:Y(["effectable-tile",{active:t.effectable.quantity>0}])},[a("div",i1,[a("h2",null,q(t.effectable.name),1),t.onEdit?(y(),k("button",{key:0,class:Y(["btn btn--icon",{removed:Sl<2}]),onClick:d[0]||(d[0]=u=>B(G).open(zn,{propertyName:c.propertyName,effectable:t.effectable,idPrefix:t.idPrefix,onDelete:l,onEdit:i}))},l1,2)):j("",!0)]),a("div",{class:Y(["row selection-bar",{locked:Sl<1}])},[(y(!0),k(Z,null,ce(c.effectable.maxQuantity,u=>(y(),re(ot,{key:c.effectable.id+u,modelValue:s.value,"onUpdate:modelValue":[d[1]||(d[1]=h=>s.value=h),h=>o(u.toString())],value:u.toString()},null,8,["modelValue","value","onUpdate:modelValue"]))),128))],2),a("p",{innerHTML:B(st)(t.effectable.description||"")},null,8,c1)],2))}}),Pt=ae(u1,[["__scopeId","data-v-b2037dda"]]),d1=["value"],h1=ie({__name:"HarmTile",props:{harm:{},changeHarm:{type:Function}},setup(e){const t=e;return(n,s)=>(y(),k("div",{class:Y(["harm-tile",{active:t.harm.description.length>0}])},[a("input",{type:"text",value:t.harm.description,onChange:s[0]||(s[0]=o=>{var r;return t.changeHarm(((r=o.target||null)==null?void 0:r.value)||"")})},null,40,d1),a("h3",null,"Level "+q(t.harm.level),1)],2))}}),_s=ae(h1,[["__scopeId","data-v-c989e776"]]);function f1(e){return p1(0,e)}function p1(e,t){return Math.floor(Math.random()*(t-e)+e)}function Gt(e){return e[f1(e.length)]}const Zt=e=>(Ae("data-v-dbf6d572"),e=e(),Re(),e),m1={class:"edit"},y1={class:"input-group"},g1=Zt(()=>a("label",{for:"name"},"Name",-1)),v1={class:"row flat"},b1=Zt(()=>a("i",{class:"fas fa-random"},null,-1)),_1=[b1],w1=Zt(()=>a("p",null,"Choose a name.",-1)),k1=Zt(()=>a("label",{for:"id"},[ne("ID "),a("label",{class:"muted"},"(permanent)")],-1)),x1={class:"input-group stretch"},C1={for:"description"},S1={class:"muted"},T1={class:"input-group"},E1=Zt(()=>a("label",{for:"attitude"},"Attitude",-1)),$1={key:0,class:"row"},A1=Zt(()=>a("span",null,"Cancel",-1)),R1=[A1],P1=Zt(()=>a("span",null,"New",-1)),O1=[P1],I1={key:1,class:"row"},q1=Zt(()=>a("i",{class:"fas fa-trash"},null,-1)),N1=Zt(()=>a("span",null,"Delete",-1)),L1=[q1,N1],D1=Zt(()=>a("span",null,"Save",-1)),U1=[D1],M1=ie({__name:"EditPersonModal",props:{propertyName:{},person:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var f;const t=e;Yt(()=>{document.addEventListener("blur",o,!0)}),Fn(()=>{document.removeEventListener("blur",o,!0)});const n=(f=Ie().game)==null?void 0:f.codex,s=M();function o(g){s.value=null}function r(){var I,U;const g=Gt((I=n==null?void 0:n.names)==null?void 0:I.firstNames),w=Gt((U=n==null?void 0:n.names)==null?void 0:U.lastNames),x=`${g} ${w}`;l.value.name=x,c(x)}const i={id:"",name:"",description:"",attitude:0},l=M({...t.person||i});function c(g){if(!t.onCreateNew)return;let w=(t.idPrefix||"")+"-"+g;w=w.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),l.value.id=w}function d(){t.onCreateNew&&(t.onCreateNew(l.value),G.close())}function u(){t.onEdit&&(t.onEdit(l.value),G.close())}function h(){t.onDelete&&(t.onDelete(l.value.id),G.close())}return(g,w)=>(y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[a("h2",null,q(t.onCreateNew?"Create a new":"Edit")+" "+q(g.propertyName),1)]),_:1})]),content:F(()=>[a("div",m1,[a("div",y1,[g1,a("div",v1,[De(a("input",{type:"text",id:"name","onUpdate:modelValue":w[0]||(w[0]=x=>l.value.name=x),placeholder:"Enter a memorable name",onInput:w[1]||(w[1]=x=>c(l.value.name)),onFocus:w[2]||(w[2]=x=>s.value="name")},null,544),[[Ue,l.value.name]]),a("button",{class:"btn btn--icon",onMousedown:r},_1,32)]),$(Xe,{show:s.value==="name"},{default:F(()=>[w1]),_:1},8,["show"])]),a("div",{class:Y(["input-group",{disabled:!t.onCreateNew}])},[k1,De(a("input",{type:"text",id:"id","onUpdate:modelValue":w[3]||(w[3]=x=>l.value.id=x),placeholder:"A hyphenated identifier"},null,512),[[Ue,l.value.id]])],2),a("div",x1,[a("label",C1,[ne("Description "),a("label",S1,"("+q(l.value.description.length)+" / 400) ",1)]),De(a("textarea",{id:"description","onUpdate:modelValue":w[4]||(w[4]=x=>l.value.description=x),placeholder:"A brief description"},null,512),[[Ue,l.value.description]])]),a("div",T1,[E1,De(a("input",{type:"number",id:"attitude","onUpdate:modelValue":w[5]||(w[5]=x=>l.value.attitude=x),placeholder:"-1, 0, 1..."},null,512),[[Ue,l.value.attitude]])]),t.onCreateNew?(y(),k("div",$1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:w[6]||(w[6]=x=>B(G).close())},R1),a("button",{class:"btn mobile-full-width",onClick:d},O1)])):(y(),k("div",I1,[a("button",{class:"btn btn--alt mobile-full-width",onClick:h},L1),a("button",{class:"btn mobile-full-width",onClick:u},U1)]))])]),_:1}))}}),Wi=ae(M1,[["__scopeId","data-v-dbf6d572"]]),Ku=e=>(Ae("data-v-aac6f290"),e=e(),Re(),e),B1=Ku(()=>a("i",{class:"fas fa-theater-masks"},null,-1)),F1={class:"person-tile__content"},H1={class:"header"},j1=Ku(()=>a("i",{class:"fas fa-edit"},null,-1)),Q1=[j1],V1={class:"row selection-bar"},W1=ie({__name:"PersonTile",props:{person:{},propertyName:{},idPrefix:{},change:{type:Function},onEdit:{type:Function},onDelete:{type:Function},options:{}},setup(e){const t=e,n=M([t.person.attitude.toString()]);function s(i){n.value.length>1&&(n.value=[i.toString()]);const l=n.value.length>0?parseInt(n.value[0]):0;t.change(t.person,l)}function o(i){t.onEdit(i)}function r(i){t.onDelete(i)}return(i,l)=>(y(),k("div",{class:Y(["person-tile",{active:t.person.attitude!==0}])},[B1,a("div",F1,[a("div",H1,[a("h2",null,q(t.person.name),1),a("button",{class:"btn btn--icon",onClick:l[0]||(l[0]=c=>B(G).open(Wi,{propertyName:i.propertyName,person:t.person,idPrefix:t.idPrefix,onDelete:r,onEdit:o}))},Q1)]),a("div",V1,[(y(!0),k(Z,null,ce(i.options,c=>(y(),re(ot,{key:c.value,modelValue:n.value,"onUpdate:modelValue":[l[1]||(l[1]=d=>n.value=d),d=>s(c.value)],value:c.value.toString(),icon:c.icon,text:c.text},null,8,["modelValue","value","onUpdate:modelValue","icon","text"]))),128))]),a("p",null,q(t.person.description),1)])],2))}}),Yu=ae(W1,[["__scopeId","data-v-aac6f290"]]),$e=e=>(Ae("data-v-f4e528a4"),e=e(),Re(),e),G1={class:"sheet-layout__nested"},z1=["src"],K1={class:"input-group name"},Y1=$e(()=>a("label",{for:"character-name"},"Name",-1)),J1={class:"row flat"},X1=["value","placeholder"],Z1=$e(()=>a("i",{class:"fas fa-random"},null,-1)),ew=[Z1],tw=$e(()=>a("p",null,"What's your name?",-1)),nw={class:"input-group"},sw=$e(()=>a("label",{for:"character-alias"},[ne("Alias "),a("label",{class:"muted"},"(Optional)")],-1)),ow={class:"row flat"},rw=["value"],iw=$e(()=>a("i",{class:"fas fa-random"},null,-1)),aw=[iw],lw=$e(()=>a("p",null,"What alias or nickname are you known by in the underworld?",-1)),cw={class:"input-group"},uw=$e(()=>a("label",{for:"character-heritage"},"Heritage",-1)),dw=["value"],hw=$e(()=>a("p",null,"You can trace your family line back to this place.",-1)),fw={class:"text-list"},pw=["onMousedown"],mw=["value"],yw=$e(()=>a("p",null,"Add a detail about your family life or upbringing.",-1)),gw={class:"input-group"},vw=$e(()=>a("label",{for:"character-look"},"Look",-1)),bw=["value","placeholder"],_w=$e(()=>a("p",null,"What do you look like?",-1)),ww={class:"text-list"},kw=$e(()=>a("label",null,"Descriptions",-1)),xw=["onClick"],Cw={class:"text-list"},Sw=$e(()=>a("label",null,"Clothes",-1)),Tw=["onClick"],Ew={class:"input-group"},$w=$e(()=>a("label",{for:"character-background"},"Background",-1)),Aw=["value"],Rw=$e(()=>a("p",null,"What did you do before you joined the crew?",-1)),Pw={class:"text-list"},Ow=["onMousedown"],Iw={class:"input-group"},qw=["value"],Nw=$e(()=>a("p",null,"Add a detail about your past life or career.",-1)),Lw={class:"input-group"},Dw=$e(()=>a("label",null,"Crew",-1)),Uw={class:"row wrap"},Mw=["onClick"],Bw={class:"input-group"},Fw=$e(()=>a("label",{for:"character-vice"},"Vice",-1)),Hw=["value"],jw=$e(()=>a("p",null,"What vice do you indulge in to relieve stress?",-1)),Qw={class:"text-list"},Vw=["onClick"],Ww={class:"input-group"},Gw=["value"],zw=$e(()=>a("p",null,"Add a detail about your Vice.",-1)),Kw={class:"input-group"},Yw=$e(()=>a("label",{for:"character-vice-purveyor"},"Vice Purveyor",-1)),Jw=["value"],Xw=$e(()=>a("p",null,"Who provides your vice?",-1)),Zw={key:0,class:"text-list"},e0=["onClick"],t0={for:"contacts"},n0={class:"row"},s0=$e(()=>a("span",null,"New",-1)),o0=[s0],r0={key:0,class:"tile-list tile-list--mini"},i0={key:1,class:"no-tiles"},a0={class:"input-group"},l0={for:"stress"},c0={class:"muted"},u0={class:"input-group"},d0={for:"trauma"},h0={class:"muted"},f0={key:0,class:"tile-list"},p0={key:1,class:"no-tiles"},m0=$e(()=>a("em",null," No Traumas",-1)),y0=[m0],g0=$e(()=>a("label",null,"Harms",-1)),v0={class:"harms-list"},b0={key:0},_0={key:1,class:"harm",innerHTML:"Need help"},w0={key:2},k0=["innerHTML"],x0={key:4},C0=["innerHTML"],S0=$e(()=>a("label",null," Healing ",-1)),T0=$e(()=>a("label",null," Armors ",-1)),E0=$e(()=>a("label",null,"Playbook",-1)),$0=$e(()=>a("code",null,"SPECIAL ABILITIES",-1)),A0={class:"muted"},R0={class:"attribute-list"},P0={class:"muted"},O0={class:"attribute-list"},I0={class:"muted"},q0={class:"attribute-list"},N0=$e(()=>a("div",null,[a("section",null,[a("code",null,"LOAD"),a("code",null,"UNIQUE ITEMS"),a("code",null,"STANDARD ITEMS")])],-1)),L0={class:"row center mobile-nav"},D0=$e(()=>a("i",{class:"fas fa-file-alt"},null,-1)),U0=$e(()=>a("i",{class:"fas fa-file-alt"},null,-1)),M0=$e(()=>a("i",{class:"fas fa-file-alt"},null,-1)),B0=ie({__name:"TheCharacterSheet",props:{sheet:{}},setup(e){var ze;const t=e,n=(ze=Ie().game)==null?void 0:ze.codex;Yt(()=>{document.addEventListener("blur",o,!0)}),Fn(()=>{document.removeEventListener("blur",o,!0)});const s=M();function o(D){var P;(P=D.relatedTarget)!=null&&P.closest(".shelf")||(s.value=null)}function r(D,P){console.log("onChangeValue",D,P);const K=`/data/sheets/${t.sheet.id}/${P}`;Se([{op:"replace",path:K,value:D}])}const i=z(()=>{var D,P;return Object.values(((P=(D=Ie().game)==null?void 0:D.data)==null?void 0:P.sheets)||[]).filter(K=>K.sheetType==="crew")});z(()=>i.value.find(D=>D.id===t.sheet.crewId)||null);function l(){var pe,S;const D=((pe=n==null?void 0:n.names)==null?void 0:pe.firstNames)||[],P=((S=n==null?void 0:n.names)==null?void 0:S.lastNames)||[],K=Gt(D),ye=Gt(P);r(`${K} ${ye}`,"name")}function c(){var K;const D=((K=n==null?void 0:n.names)==null?void 0:K.aliases)||[],P=Gt(D);r(P,"alias")}const d=z(()=>{var D,P;return(P=(D=n.sheets)==null?void 0:D.character)==null?void 0:P.vicePurveyors.filter(K=>K.vices.includes(t.sheet.vice.toLowerCase()))}),u=M(localStorage.getItem("showOnlySelectedContacts")==="true"),h=z(()=>u.value?t.sheet.contacts.filter(D=>D.attitude!==0):t.sheet.contacts);function f(D){const P=t.sheet.contacts.findIndex(K=>K.id===D.id);Se([{op:"replace",path:`/data/sheets/${t.sheet.id}/contacts/${P}`,value:D}])}function g(D){const P=t.sheet.contacts.findIndex(K=>K.id===D);Se([{op:"remove",path:`/data/sheets/${t.sheet.id}/contacts/${P}`}])}function w(D,P){const K=t.sheet.contacts.findIndex(pe=>pe.id===D.id),ye=`/data/sheets/${t.sheet.id}/contacts/${K}/attitude`;Se([{op:"replace",path:ye,value:P}])}function x(D){Se([{op:"add",path:`/data/sheets/${t.sheet.id}/contacts/-`,value:D}])}const I=z(()=>t.sheet.maxStress),U=M(localStorage.getItem("showOnlySelectedTraumas")==="true"),V=z(()=>U.value?t.sheet.traumas.filter(D=>D.quantity>0):t.sheet.traumas);function X(D,P){const K=t.sheet.traumas.findIndex(pe=>pe.id===D.id),ye=`/data/sheets/${t.sheet.id}/traumas/${K}/quantity`;Se([{op:"replace",path:ye,value:P}])}const he=z(()=>t.sheet.maxTraumas);function me(D,P){const K=`/data/sheets/${t.sheet.id}/harms/${D}/description`;Se([{op:"replace",path:K,value:P}])}const oe=z(()=>t.sheet.attrHunt.quantity>0||0+t.sheet.attrStudy.quantity>0||0+t.sheet.attrSurvey.quantity>0||0+t.sheet.attrTinker.quantity>0?1:0),Pe=z(()=>t.sheet.attrFinesse.quantity>0||0+t.sheet.attrProwl.quantity>0||0+t.sheet.attrSkirmish.quantity>0||0+t.sheet.attrWreck.quantity>0?1:0),fe=z(()=>t.sheet.attrAttune.quantity>0||0+t.sheet.attrCommand.quantity>0||0+t.sheet.attrConsort.quantity>0||0+t.sheet.attrSway.quantity>0?1:0);Ct([u,U],([D,P])=>{localStorage.setItem("showOnlySelectedContacts",D.toString()),localStorage.setItem("showOnlySelectedTraumas",P.toString())});const le=M(0),be=M(null);function Me(D){const P=Math.round(D.scrollLeft/D.clientWidth);le.value=P}function Qe(D){be.value&&(be.value.scrollTo({top:0}),be.value.scrollTo({left:be.value.clientWidth*D,behavior:"smooth"}))}return(D,P)=>{var ye,pe;const K=ls("Divider");return y(),k("div",G1,[a("div",{class:"character-layout",ref_key:"carouselRef",ref:be,onScroll:P[35]||(P[35]=S=>Me(S.target))},[a("div",null,[a("section",null,[a("div",{class:"character-type-card",style:Ut({backgroundColor:(ye=B(is)(D.sheet.image))==null?void 0:ye.commonColor})},[a("img",{src:(pe=B(is)(D.sheet.image))==null?void 0:pe.url},null,8,z1),a("h1",{class:Y({"extra-long":D.sheet.name.split(" ").some(S=>S.length>8)})},q(D.sheet.name),3),a("h2",null,q(D.sheet.characterTypeDescription),1)],4),a("div",K1,[Y1,a("div",J1,[a("input",{id:"character-name",type:"text",value:t.sheet.name,onFocus:P[0]||(P[0]=S=>s.value="name"),placeholder:"Unnamed "+D.sheet.characterType,onChange:P[1]||(P[1]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"name")})},null,40,X1),a("button",{class:"btn btn--icon",onClick:l},ew)]),$(Xe,{show:s.value=="name"},{default:F(()=>[tw]),_:1},8,["show"])]),a("div",nw,[sw,a("div",ow,[a("input",{id:"character-alias",type:"text",value:t.sheet.alias,onFocus:P[2]||(P[2]=S=>s.value="alias"),placeholder:"Alias",onChange:P[3]||(P[3]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"alias")})},null,40,rw),a("button",{class:"btn btn--icon",onClick:c},aw)]),$(Xe,{show:s.value=="alias"},{default:F(()=>[lw]),_:1},8,["show"])]),a("div",cw,[uw,a("input",{id:"character-heritage",type:"text",value:t.sheet.heritage,onFocus:P[4]||(P[4]=S=>s.value="heritage"),placeholder:"Heritage",onChange:P[5]||(P[5]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"heritage")})},null,40,dw),$(Xe,{show:s.value=="heritage"},{default:F(()=>[hw,a("div",fw,[(y(!0),k(Z,null,ce(B(n).lexicon.locations,S=>(y(),k("button",{class:"btn btn--text",key:S.name,onMousedown:ee=>{r(S.name,"heritage"),r(S.blurb,"heritageDescription")}},q(S.name),41,pw))),128))])]),_:1},8,["show"]),a("textarea",{spellcheck:"false",value:t.sheet.heritageDescription,onFocus:P[6]||(P[6]=S=>s.value="heritageDescription"),onChange:P[7]||(P[7]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"heritageDescription")}),placeholder:"A detail about your family life or upbringing."},null,40,mw),$(Xe,{show:s.value=="heritageDescription"},{default:F(()=>[yw]),_:1},8,["show"])]),a("div",gw,[vw,a("textarea",{id:"character-look",type:"text",value:t.sheet.look,onFocus:P[8]||(P[8]=S=>s.value="look"),placeholder:`A plain-looking ${D.sheet.characterType}${D.sheet.heritage?` from ${D.sheet.heritage}`:""}`,onChange:P[9]||(P[9]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"look")})},null,40,bw),$(Xe,{show:s.value=="look"},{default:F(()=>{var S,ee;return[_w,a("div",ww,[kw,(y(!0),k(Z,null,ce((S=B(n).looks)==null?void 0:S.adjectives,ke=>(y(),k("button",{class:"btn btn--text",key:ke,onClick:je=>r(D.sheet.look.length?D.sheet.look+", "+ke.toLowerCase():ke,"look")},q(ke),9,xw))),128))]),a("div",Cw,[Sw,(y(!0),k(Z,null,ce((ee=B(n).looks)==null?void 0:ee.clothes,ke=>(y(),k("button",{class:"btn btn--text",key:ke,onClick:je=>r(D.sheet.look.length?D.sheet.look+", "+ke.toLowerCase():ke,"look")},q(ke),9,Tw))),128))])]}),_:1},8,["show"])]),a("div",Ew,[$w,a("input",{id:"character-background",type:"text",value:t.sheet.background,onFocus:P[10]||(P[10]=S=>s.value="background"),placeholder:"Background",onChange:P[11]||(P[11]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"background")})},null,40,Aw),$(Xe,{show:s.value=="background"},{default:F(()=>{var S,ee;return[Rw,a("div",Pw,[(y(!0),k(Z,null,ce((ee=(S=B(n).sheets)==null?void 0:S.character)==null?void 0:ee.backgrounds,ke=>(y(),k("button",{class:"btn btn--text",key:ke.name,onMousedown:je=>{r(ke.name,"background"),r(ke.blurb,"backgroundDescription")}},q(ke.name),41,Ow))),128))])]}),_:1},8,["show"])]),a("div",Iw,[a("textarea",{spellcheck:"false",value:t.sheet.backgroundDescription,onFocus:P[12]||(P[12]=S=>s.value="backgroundDescription"),onChange:P[13]||(P[13]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"backgroundDescription")}),placeholder:"E.g. Sailor, mutineer, former Bluecoat, smuggler, courtier, street urchin, gang member, etc."},null,40,qw),$(Xe,{show:s.value=="backgroundDescription"},{default:F(()=>[Nw]),_:1},8,["show"])]),a("div",Lw,[Dw,a("div",Uw,[a("button",{class:Y(["btn btn--tab mobile-full-width",{active:D.sheet.crewId===null}]),onClick:P[14]||(P[14]=S=>r(null,"crewId"))}," None ",2),(y(!0),k(Z,null,ce(i.value,S=>(y(),k("button",{class:Y(["btn btn--tab mobile-full-width",{active:D.sheet.crewId===S.id}]),key:S.id,onClick:ee=>r(S.id,"crewId")},q(S.name),11,Mw))),128))])])]),$(K),a("section",null,[a("div",Bw,[Fw,a("input",{id:"character-vice",type:"text",value:t.sheet.vice,onFocus:P[15]||(P[15]=S=>s.value="vice"),placeholder:"Vice",onChange:P[16]||(P[16]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"vice")})},null,40,Hw),$(Xe,{show:s.value=="vice"},{default:F(()=>{var S,ee;return[jw,a("div",Qw,[(y(!0),k(Z,null,ce((ee=(S=B(n).sheets)==null?void 0:S.character)==null?void 0:ee.vices,ke=>(y(),k("button",{class:"btn btn--text",key:ke.name,onClick:je=>{r(ke.name,"vice"),r(ke.blurb,"viceDescription")}},q(ke.name),9,Vw))),128))])]}),_:1},8,["show"])]),a("div",Ww,[a("textarea",{spellcheck:"false",value:t.sheet.viceDescription,onFocus:P[17]||(P[17]=S=>s.value="viceDescription"),onChange:P[18]||(P[18]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"viceDescription")}),placeholder:"Add a detail about your vice."},null,40,Gw),$(Xe,{show:s.value=="viceDescription"},{default:F(()=>[zw]),_:1},8,["show"])]),a("div",Kw,[Yw,a("textarea",{id:"character-vice-purveyor",type:"text",value:t.sheet.vicePurveyor,spellcheck:"false",onFocus:P[19]||(P[19]=S=>s.value="vicePurveyor"),placeholder:"Vice Purveyor",onChange:P[20]||(P[20]=S=>{var ee;return r((ee=S.target)==null?void 0:ee.value,"vicePurveyor")})},null,40,Jw),$(Xe,{show:s.value=="vicePurveyor"},{default:F(()=>[Xw,d.value.length?(y(),k("div",Zw,[(y(!0),k(Z,null,ce(d.value,S=>(y(),k("button",{class:"btn btn--text",key:S,onClick:ee=>r(`${S.name}. ${S.blurb}`,"vicePurveyor")},q(S.name),9,e0))),128))])):j("",!0)]),_:1},8,["show"])])]),$(K),a("section",null,[a("label",t0,q(D.sheet.contactsLabel),1),a("div",n0,[a("button",{class:"btn",onClick:P[21]||(P[21]=S=>B(G).open(Wi,{propertyName:"Person",idPrefix:"contact",onCreateNew:x}))},o0),$(ot,{icon:"fa-low-vision",modelValue:u.value,"onUpdate:modelValue":P[22]||(P[22]=S=>u.value=S),label:"Show only selected"},null,8,["modelValue"])]),h.value.length>0?(y(),k("div",r0,[(y(!0),k(Z,null,ce(h.value,S=>(y(),re(Yu,{key:S.id,idPrefix:t.sheet.characterType+"-contact",propertyName:D.sheet.contactsLabel,person:S,change:w,onEdit:f,onDelete:g,options:[{value:-1,icon:"fas fa-thumbs-down"},{value:1,icon:"fas fa-thumbs-up"}]},null,8,["idPrefix","propertyName","person"]))),128))])):j("",!0),h.value.length==0?(y(),k("p",i0,[a("em",null," No "+q(D.sheet.contactsLabel),1)])):j("",!0)])]),a("div",null,[a("section",null,[a("div",a0,[a("label",l0,[ne(" Stress "),a("label",c0,q(D.sheet.stress)+" / "+q(I.value),1)]),$(nn,{id:"stress",value:t.sheet.stress,max:t.sheet.maxStress,onChange:P[23]||(P[23]=S=>r(S,"stress"))},null,8,["value","max"])]),a("div",u0,[a("label",d0,[ne("Trauma "),a("label",h0,q(V.value.filter(S=>S.quantity>0).length)+" / "+q(he.value),1)]),$(ot,{icon:"fa-low-vision",modelValue:U.value,"onUpdate:modelValue":P[24]||(P[24]=S=>U.value=S),label:"Show only selected"},null,8,["modelValue"]),V.value.length>0?(y(),k("div",f0,[(y(!0),k(Z,null,ce(V.value,S=>(y(),re(Pt,{key:S.id,effectable:S,idPrefix:"trauma",propertyName:"Trauma",change:ee=>X(S,ee)},null,8,["effectable","change"]))),128))])):j("",!0),V.value.length==0?(y(),k("p",p0,y0)):j("",!0)])]),$(K),a("section",null,[g0,a("div",v0,[(y(),re(_s,{key:0,harm:D.sheet.harms[0],changeHarm:S=>me(0,S)},null,8,["harm","changeHarm"])),D.sheet.harms[0].description.length?(y(),k("p",_0)):(y(),k("p",b0,"Severe Harm")),(y(),re(_s,{key:1,harm:D.sheet.harms[1],changeHarm:S=>me(1,S)},null,8,["harm","changeHarm"])),(y(),re(_s,{key:2,harm:D.sheet.harms[2],changeHarm:S=>me(2,S)},null,8,["harm","changeHarm"])),!D.sheet.harms[1].description.length&&!D.sheet.harms[2].description.length?(y(),k("p",w0," Moderate Harm ")):(y(),k("p",{key:3,class:"harm",innerHTML:B(st)("[/dice -1]")},null,8,k0)),(y(),re(_s,{key:3,harm:D.sheet.harms[3],changeHarm:S=>me(3,S)},null,8,["harm","changeHarm"])),(y(),re(_s,{key:4,harm:D.sheet.harms[4],changeHarm:S=>me(4,S)},null,8,["harm","changeHarm"])),!D.sheet.harms[3].description.length&&!D.sheet.harms[4].description.length?(y(),k("p",x0," Lesser Harm ")):(y(),k("p",{key:5,class:"harm",innerHTML:B(st)("Less Effect")},null,8,C0))]),S0,$(L_,{clock:D.sheet.healingClock,change:S=>r(S,"healingClock/value")},null,8,["clock","change"]),T0,$(ot,{icon:"fa-shield-alt",modelValue:D.sheet.armorUsed,"onUpdate:modelValue":[P[25]||(P[25]=S=>D.sheet.armorUsed=S),P[26]||(P[26]=S=>r(S,"armorUsed"))],label:"Armor"},null,8,["modelValue"]),$(ot,{icon:"fa-shield-alt",modelValue:D.sheet.heavyArmorUsed,"onUpdate:modelValue":[P[27]||(P[27]=S=>D.sheet.heavyArmorUsed=S),P[28]||(P[28]=S=>r(S,"heavyArmorUsed"))],label:"Heavy"},null,8,["modelValue"]),$(ot,{icon:"fa-shield-alt",modelValue:D.sheet.specialArmorUsed,"onUpdate:modelValue":[P[29]||(P[29]=S=>D.sheet.specialArmorUsed=S),P[30]||(P[30]=S=>r(S,"specialArmorUsed"))],label:"Special"},null,8,["modelValue"])]),$(K),a("section",null,[E0,$(nn,{value:t.sheet.playbookXP,max:8,onChange:P[31]||(P[31]=S=>r(S,"playbookXP"))},null,8,["value"]),$0]),$(K),a("section",null,[a("label",null,[ne("Insight "),a("label",A0,"("+q(oe.value)+")",1)]),$(nn,{value:t.sheet.insightXP,max:6,onChange:P[32]||(P[32]=S=>r(S,"insightXP"))},null,8,["value"]),a("div",R0,[$(wt,{effectable:D.sheet.attrHunt,change:S=>r(S,"attrHunt/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrStudy,change:S=>r(S,"attrStudy/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrSurvey,change:S=>r(S,"attrSurvey/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrTinker,change:S=>r(S,"attrTinker/quantity")},null,8,["effectable","change"])])]),$(K),a("section",null,[a("label",null,[ne("Prowess "),a("label",P0,"("+q(Pe.value)+")",1)]),$(nn,{value:t.sheet.prowessXP,max:6,onChange:P[33]||(P[33]=S=>r(S,"prowessXP"))},null,8,["value"]),a("div",O0,[$(wt,{effectable:D.sheet.attrFinesse,change:S=>r(S,"attrFinesse/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrProwl,change:S=>r(S,"attrProwl/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrSkirmish,change:S=>r(S,"attrSkirmish/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrWreck,change:S=>r(S,"attrWreck/quantity")},null,8,["effectable","change"])])]),$(K),a("section",null,[a("label",null,[ne("Resolve "),a("label",I0,"("+q(fe.value)+")",1)]),$(nn,{value:t.sheet.resolveXP,max:6,onChange:P[34]||(P[34]=S=>r(S,"resolveXP"))},null,8,["value"]),a("div",q0,[$(wt,{effectable:D.sheet.attrAttune,change:S=>r(S,"attrAttune/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrCommand,change:S=>r(S,"attrCommand/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrConsort,change:S=>r(S,"attrConsort/quantity")},null,8,["effectable","change"]),$(wt,{effectable:D.sheet.attrSway,change:S=>r(S,"attrSway/quantity")},null,8,["effectable","change"])])])]),N0],544),a("div",L0,[a("button",{class:Y(["btn btn--tab",{active:le.value==0}]),onClick:P[36]||(P[36]=S=>Qe(0))},[ne(" 1 "),D0],2),a("button",{class:Y(["btn btn--tab",{active:le.value==1}]),onClick:P[37]||(P[37]=S=>Qe(1))},[ne(" 2 "),U0],2),a("button",{class:Y(["btn btn--tab",{active:le.value==2}]),onClick:P[38]||(P[38]=S=>Qe(2))},[ne(" 3 "),M0],2)])])}}}),F0=ae(B0,[["__scopeId","data-v-f4e528a4"]]),H0={class:"header"},j0=["innerHTML"],Q0={class:"roadmap"},V0=ie({__name:"ClaimTile",props:{claim:{},showDetails:{type:Boolean},idPrefix:{},propertyName:{},neighborClaims:{},change:{type:Function}},setup(e){const t=e,n=M(null),s=M(!1);Yt(()=>{o(),window.addEventListener("resize",o)}),Fn(()=>{window.removeEventListener("resize",o)});function o(){var c;s.value=((c=n.value)==null?void 0:c.clientWidth)&&n.value.clientWidth<140||!1}function r(c){const d=t.neighborClaims[c];return d?d.quantity>0:!1}const i=z(()=>t.claim.adjacent.map(c=>l(c)));function l(c,d=1){const u=[sn.NORTH,sn.EAST,sn.SOUTH,sn.WEST],h=u.indexOf(c);return h===-1?c:u[(h+d+u.length)%u.length]}return(c,d)=>(y(),k("div",{ref_key:"claimTile",ref:n,class:Y(["claim-tile",{small:s.value,active:t.claim.quantity>0}]),onClick:d[0]||(d[0]=u=>t.change(t.claim.quantity?0:1))},[a("div",H0,[a("h2",null,q(t.claim.name),1)]),t.showDetails?(y(),k("p",{key:0,innerHTML:B(st)(t.claim.description)},null,8,j0)):j("",!0),a("ul",Q0,[(y(!0),k(Z,null,ce(i.value,u=>(y(),k("li",{class:Y({[u]:!0,active:t.claim.quantity>0&&r(l(u,-1))})},null,2))),256))])],2))}}),W0=ae(V0,[["__scopeId","data-v-4c40cc41"]]),li=Ho("options",()=>{const e={showHints:!0},t=M(JSON.parse(localStorage.getItem("options")||JSON.stringify(e)));return Ct(t,n=>{localStorage.setItem("options",JSON.stringify(n))},{deep:!0}),{options:t}}),G0=e=>(Ae("data-v-b4e36480"),e=e(),Re(),e),z0={key:0,class:"info-box"},K0=G0(()=>a("i",{class:"fas fa-info"},null,-1)),Y0=ie({__name:"InfoBox",props:{ignoreOptions:{type:Boolean}},setup(e){const t=e;return(n,s)=>B(li)().options.showHints||t.ignoreOptions?(y(),k("div",z0,[K0,a("div",null,[ts(n.$slots,"default",{},void 0)])])):j("",!0)}}),Ot=ae(Y0,[["__scopeId","data-v-b4e36480"]]),Ju=e=>(Ae("data-v-2e5538b2"),e=e(),Re(),e),J0={class:"stepper"},X0=Ju(()=>a("i",{class:"fas fa-minus-circle"},null,-1)),Z0=[X0],ek={class:"content"},tk={key:0},nk=Ju(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),sk=[nk],Tl=99,ok=ie({__name:"NumberStepper",props:{value:{},min:{},max:{},label:{}},emits:["change"],setup(e,{emit:t}){const n=e,s=t,o=M(n.value);Ct(()=>n.value,l=>{o.value=l});const r=()=>{n.max!==void 0&&o.value>=n.max||(o.value++,s("change",o.value))},i=()=>{n.min!==void 0&&o.value<=n.min||(o.value--,s("change",o.value))};return(l,c)=>(y(),k("div",J0,[a("button",{onClick:i,class:Y(["btn btn--icon",{disabled:n.min!==void 0&&o.value<=n.min,locked:Tl<1}])},Z0,2),a("div",ek,[a("h1",null,q(l.value),1),n.label?(y(),k("h2",tk,q(n.label),1)):j("",!0)]),a("button",{onClick:r,class:Y(["btn btn--icon",{disabled:n.max!==void 0&&o.value>=n.max,locked:Tl<1}])},sk,2)]))}}),Ps=ae(ok,[["__scopeId","data-v-2e5538b2"]]),tt=e=>(Ae("data-v-550bdc37"),e=e(),Re(),e),rk={class:"edit"},ik={key:0,class:"input-group"},ak=tt(()=>a("label",{for:"gangType"},[ne("Gang Type "),a("label",{class:"muted"},"(Choose one. A second Gang Type costs 2 upgrades)")],-1)),lk={class:"tile-list tile-list--mini"},ck={key:1,class:"input-group"},uk=tt(()=>a("label",{for:"name"},"Name",-1)),dk=tt(()=>a("p",null,"Choose a name for your Expert.",-1)),hk=tt(()=>a("i",{class:"fas fa-random"},null,-1)),fk=tt(()=>a("span",null,"Randomize",-1)),pk=[hk,fk],mk={key:2,class:"input-group"},yk=tt(()=>a("label",{for:"expertise1"},"Expertise",-1)),gk=tt(()=>a("p",null,"Choose your Expert's area of expertise.",-1)),vk={class:"text-list"},bk=["onMousedown"],_k={key:3,class:"input-group"},wk=tt(()=>a("label",{for:"expertise2"},[ne("Additional Expertise "),a("label",{class:"muted"},"(Costs 2 upgrades)")],-1)),kk=tt(()=>a("p",null,"Choose an additional area of expertise for your Expert.",-1)),xk={class:"text-list"},Ck=["onMousedown"],Sk={key:4,class:"input-group"},Tk=tt(()=>a("label",{for:"name"},"Name",-1)),Ek={class:"muted"},$k={class:"input-block"},Ak={class:"input-group"},Rk=["innerHTML"],Pk=["innerHTML"],Ok=["innerHTML"],Ik={key:0,class:"input-group"},qk={class:"row flat"},Nk=["innerHTML"],Lk={class:"input-group"},Dk=tt(()=>a("label",{for:"edges"},[ne("Edges "),a("label",{class:"muted"},"(Choose at least one)")],-1)),Uk={class:"tile-list tile-list--mini"},Mk={class:"input-group"},Bk={for:"flaws"},Fk={class:"muted"},Hk={class:"tile-list tile-list--mini"},jk={class:"input-group"},Qk=tt(()=>a("label",{for:"harm"},"Harm",-1)),Vk={class:"tile-list tile-list--mini"},Wk={class:"input-group stretch"},Gk={for:"description"},zk={class:"muted"},Kk={key:5,class:"alert"},Yk=tt(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),Jk=tt(()=>a("i",{class:"fas fa-times"},null,-1)),Xk=[Jk],Zk={key:6,class:"row"},ex=tt(()=>a("span",null,"Cancel",-1)),tx=[ex],nx=tt(()=>a("span",null,"New",-1)),sx=[nx],ox={key:7,class:"row"},rx=tt(()=>a("i",{class:"fas fa-trash"},null,-1)),ix=tt(()=>a("span",null,"Delete",-1)),ax=[rx,ix],lx=tt(()=>a("span",null,"Save",-1)),cx=[lx],ux=ie({__name:"EditCohortModal",props:{propertyName:{},cohort:{},onEdit:{type:Function},onDelete:{type:Function},idPrefix:{},onCreateNew:{type:Function}},setup(e){var V,X,he,me,oe,Pe,fe,le,be,Me,Qe,ze,D,P,K,ye,pe,S,ee,ke,je,gt,Et,en,We,O,W,Q,J,_e,Ne,m,_,E;const t=(V=Ie().game)==null?void 0:V.codex,n=e;Yt(()=>{document.addEventListener("blur",o,!0)}),Fn(()=>{document.removeEventListener("blur",o,!0)});const s=M();function o(T){s.value=null}function r(){var v,C;const T=Gt((v=t==null?void 0:t.names)==null?void 0:v.firstNames),p=Gt((C=t==null?void 0:t.names)==null?void 0:C.lastNames);h.value.name=`${T} ${p}`,console.log(h.value.name)}const i=z(()=>{const T=[...t.lexicon.gangs];try{return T[h.value.scale]}catch{return"0-2 people"}}),l={id:Rs(),name:"",description:"",cohortType:"gang",edges:((me=(he=(X=t==null?void 0:t.sheets)==null?void 0:X.crew)==null?void 0:he.cohorts)==null?void 0:me.edges.map(T=>({...T,id:"edge-"+T.name,quantity:0,maxQuantity:1})))||[],flaws:((fe=(Pe=(oe=t==null?void 0:t.sheets)==null?void 0:oe.crew)==null?void 0:Pe.cohorts)==null?void 0:fe.flaws.map(T=>({...T,id:"flaw-"+T.name,quantity:0,maxQuantity:1})))||[],gangType:[{id:"gangType-adepts",name:"Adepts",description:"Scholars, tinkerers, occultists, and chemists",quantity:0,maxQuantity:1},{id:"gangType-rooks",name:"Rooks",description:"Con artists, spies, and socialites",quantity:0,maxQuantity:1},{id:"gangType-rovers",name:"Rovers",description:"Sailors, carriage drivers, and scavengers",quantity:0,maxQuantity:1},{id:"gangType-skulks",name:"Skulks",description:"Scouts, infiltrators, and thieves",quantity:0,maxQuantity:1},{id:"gangType-thugs",name:"Thugs",description:"Killers, brawlers, and roustabouts",quantity:0,maxQuantity:1}],harm:((ze=(Qe=(Me=(be=(le=Ie().game)==null?void 0:le.codex)==null?void 0:be.sheets)==null?void 0:Me.crew)==null?void 0:Qe.cohorts)==null?void 0:ze.harm.map(T=>({...T,id:"harm-"+T.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},c={id:Rs(),name:"",description:"",cohortType:"expert",edges:((K=(P=(D=t==null?void 0:t.sheets)==null?void 0:D.crew)==null?void 0:P.cohorts)==null?void 0:K.edges.map(T=>({...T,id:"edge-"+T.name,quantity:0,maxQuantity:1})))||[],flaws:((S=(pe=(ye=t==null?void 0:t.sheets)==null?void 0:ye.crew)==null?void 0:pe.cohorts)==null?void 0:S.flaws.map(T=>({...T,id:"flaw-"+T.name,quantity:0,maxQuantity:1})))||[],expertise1:"",expertise2:"",harm:((Et=(gt=(je=(ke=(ee=Ie().game)==null?void 0:ee.codex)==null?void 0:ke.sheets)==null?void 0:je.crew)==null?void 0:gt.cohorts)==null?void 0:Et.harm.map(T=>({...T,id:"harm-"+T.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},d={id:Rs(),name:"",description:"",cohortType:"vehicle",edges:((O=(We=(en=t==null?void 0:t.sheets)==null?void 0:en.crew)==null?void 0:We.cohorts)==null?void 0:O.vehicleEdges.map(T=>({...T,id:"edge-"+T.name,quantity:0,maxQuantity:1})))||[],flaws:((J=(Q=(W=t==null?void 0:t.sheets)==null?void 0:W.crew)==null?void 0:Q.cohorts)==null?void 0:J.vehicleFlaws.map(T=>({...T,id:"flaw-"+T.name,quantity:0,maxQuantity:1})))||[],harm:((E=(_=(m=(Ne=(_e=Ie().game)==null?void 0:_e.codex)==null?void 0:Ne.sheets)==null?void 0:m.crew)==null?void 0:_.cohorts)==null?void 0:E.harm.map(T=>({...T,id:"harm-"+T.name,quantity:0,maxQuantity:1})))||[],quality:0,scale:0},u={gang:l,expert:c,vehicle:d},h=M({...n.cohort||u[n.propertyName]});function f(T){if(!n.onCreateNew)return;let p=(n.idPrefix||"")+"-"+T;p=p.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,""),h.value.id=p}const g=M(null);function w(){var v,C,R;if(h.value.cohortType==="gang"&&((v=h.value.gangType)==null?void 0:v.reduce((L,b)=>L+(b.quantity||0),0))===0)return"You must choose a Gang Type.";if(h.value.cohortType==="expert"){if(!h.value.name)return"You must give your Expert a name.";if(!h.value.expertise1)return"You must choose an Expertise."}const T=(C=h.value.edges)==null?void 0:C.reduce((L,b)=>L+(b.quantity||0),0);if(T===0)return"You must choose at least one Edge.";const p=(R=h.value.flaws)==null?void 0:R.reduce((L,b)=>L+(b.quantity||0),0);return console.log(h.value.flaws.map(L=>L.quantity)),T>0&&p<T?`You must choose at least the same number of Flaws (${p}) as Edges (${T}).`:null}function x(){n.onCreateNew&&(g.value=w(),!g.value&&(n.onCreateNew(h.value),G.close()))}function I(){n.onEdit&&(g.value=w(),!g.value&&(n.onEdit(h.value),G.close()))}function U(){n.onDelete&&(n.onDelete(h.value.id),G.close())}return(T,p)=>{const v=ls("Divider");return y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[a("h2",null,q(n.onCreateNew?"Create a new":"Edit")+" "+q(n.propertyName),1)]),_:1})]),content:F(()=>[a("div",rk,[n.propertyName==="gang"?(y(),k("div",ik,[ak,a("div",lk,[(y(!0),k(Z,null,ce(h.value.gangType,C=>(y(),re(Pt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-gangType",propertyName:C.name,change:R=>{C.quantity=R}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])])):j("",!0),n.propertyName==="expert"?(y(),k("div",ck,[uk,De(a("input",{class:"ignore-initial-focus",type:"text",id:"name","onUpdate:modelValue":p[0]||(p[0]=C=>h.value.name=C),placeholder:"A name for your Expert",onFocus:p[1]||(p[1]=C=>s.value="name"),onBlur:p[2]||(p[2]=C=>f(h.value.name))},null,544),[[Ue,h.value.name]]),$(Xe,{show:s.value==="name"},{default:F(()=>[dk,a("button",{class:"btn btn--icon",onMousedown:r},pk,32)]),_:1},8,["show"])])):j("",!0),n.propertyName==="expert"?(y(),k("div",mk,[yk,De(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise1","onUpdate:modelValue":p[3]||(p[3]=C=>h.value.expertise1=C),placeholder:"An area of expertise",onFocus:p[4]||(p[4]=C=>s.value="expertise1")},null,544),[[Ue,h.value.expertise1]]),$(Xe,{show:s.value==="expertise1"},{default:F(()=>{var C,R,L,b;return[gk,a("div",vk,[(y(!0),k(Z,null,ce((b=(L=(R=(C=B(t))==null?void 0:C.sheets)==null?void 0:R.crew)==null?void 0:L.cohorts)==null?void 0:b.expertise,A=>(y(),k("button",{class:"btn btn--text",onMousedown:te=>h.value.expertise1=A},q(A),41,bk))),256))])]}),_:1},8,["show"])])):j("",!0),n.propertyName==="expert"?(y(),k("div",_k,[wk,De(a("input",{class:"ignore-initial-focus",type:"text",id:"expertise2","onUpdate:modelValue":p[5]||(p[5]=C=>h.value.expertise2=C),placeholder:"An additional area of expertise",onFocus:p[6]||(p[6]=C=>s.value="expertise2")},null,544),[[Ue,h.value.expertise2]]),$(Xe,{show:s.value==="expertise2"},{default:F(()=>{var C,R,L,b;return[kk,a("div",xk,[(y(!0),k(Z,null,ce((b=(L=(R=(C=B(t))==null?void 0:C.sheets)==null?void 0:R.crew)==null?void 0:L.cohorts)==null?void 0:b.expertise,A=>(y(),k("button",{class:"btn btn--text",onMousedown:te=>h.value.expertise2=A},q(A),41,Ck))),256))])]}),_:1},8,["show"])])):j("",!0),n.propertyName==="vehicle"?(y(),k("div",Sk,[Tk,De(a("input",{class:"ignore-initial-focus",type:"text",id:"name","onUpdate:modelValue":p[7]||(p[7]=C=>h.value.name=C),placeholder:"A name for your Vehicle",onFocus:p[8]||(p[8]=C=>s.value="name"),onBlur:p[9]||(p[9]=C=>f(h.value.name))},null,544),[[Ue,h.value.name]])])):j("",!0),$(v),a("label",null,[ne("Effectiveness "),a("label",Ek,"Quality "+q(h.value.quality)+", "+q(i.value),1)]),a("div",$k,[a("div",Ak,[$(Ps,{id:"cohort-quality",label:"Quality",class:"mobile-full-width center",value:h.value.quality,min:0,max:10,onChange:p[10]||(p[10]=C=>h.value.quality=C)},null,8,["value"]),n.propertyName==="expert"?(y(),re(Ot,{key:0},{default:F(()=>[a("p",{innerHTML:B(st)("An Expert's quality is equal to your current *Tier* +1 and increases with your *Tier*.")},null,8,Rk)]),_:1})):j("",!0),n.propertyName==="gang"?(y(),re(Ot,{key:1},{default:F(()=>[a("p",{innerHTML:B(st)("A Gang's quality is equal to your current *Tier* and increases with your *Tier*.")},null,8,Pk)]),_:1})):j("",!0),n.propertyName==="vehicle"?(y(),re(Ot,{key:2},{default:F(()=>[a("p",{innerHTML:B(st)("A Vehicle's quality is equal to your current *Tier* +1 and increases with your *Tier*.")},null,8,Ok)]),_:1})):j("",!0)]),n.propertyName==="gang"?(y(),k("div",Ik,[a("div",qk,[$(Ps,{id:"cohort-scale",class:"mobile-full-width center",value:h.value.scale,min:0,max:10,onChange:p[11]||(p[11]=C=>h.value.scale=C),label:"Scale"},null,8,["value"])]),$(Ot,null,{default:F(()=>[a("p",{innerHTML:B(st)("A Gang's *Scale* is equal to your current *Tier* and increases with your *Tier*.")},null,8,Nk)]),_:1})])):j("",!0)]),$(v),a("div",Lk,[Dk,a("div",Uk,[(y(!0),k(Z,null,ce(h.value.edges,C=>(y(),re(Pt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-edge",propertyName:C.name,change:R=>{C.quantity=R}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",Mk,[a("label",Bk,[ne("Flaws "),a("label",Fk,"(Choose at least "+q(B(m_)(Math.max(h.value.edges.filter(C=>C.quantity>0).length,1)))+") ",1)]),a("div",Hk,[(y(!0),k(Z,null,ce(h.value.flaws,C=>(y(),re(Pt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-flaw",propertyName:C.name,change:R=>{C.quantity=R}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",jk,[Qk,a("div",Vk,[(y(!0),k(Z,null,ce(h.value.harm,C=>(y(),re(Pt,{effectable:C,key:C.id,idPrefix:n.idPrefix+"-harm",propertyName:C.name,change:R=>{h.value.harm.forEach(L=>{L.quantity=0}),C.quantity=R}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])]),a("div",Wk,[a("label",Gk,[ne("Description "),a("label",zk,"("+q(h.value.description.length)+" / 400) ",1)]),De(a("textarea",{id:"description","onUpdate:modelValue":p[12]||(p[12]=C=>h.value.description=C),placeholder:"A brief description"},null,512),[[Ue,h.value.description]])]),g.value?(y(),k("div",Kk,[Yk,a("span",null,q(g.value),1),a("button",{class:"btn btn--icon close",onClick:p[13]||(p[13]=C=>g.value="")},Xk)])):j("",!0),n.onCreateNew?(y(),k("section",Zk,[a("button",{class:"btn btn--alt mobile-full-width",onClick:p[14]||(p[14]=C=>B(G).close())},tx),a("button",{class:"btn mobile-full-width",onClick:x},sx)])):(y(),k("section",ox,[a("button",{class:"btn btn--alt mobile-full-width",onClick:U},ax),a("button",{class:"btn mobile-full-width",onClick:I},cx)]))])]),_:1})}}}),yo=ae(ux,[["__scopeId","data-v-550bdc37"]]),Gi=e=>(Ae("data-v-c545f8d7"),e=e(),Re(),e),dx={class:"header"},hx={key:0},fx={key:1},px={key:0,class:"harm"},mx={key:2},yx={key:0,class:"harm"},gx=Gi(()=>a("i",{class:"fas fa-edit"},null,-1)),vx=[gx],bx={key:0,class:"harm"},_x={class:"edges-and-flaws"},wx=Gi(()=>a("i",{class:"fas fa-angle-up"},null,-1)),kx=Gi(()=>a("i",{class:"fas fa-angle-down"},null,-1)),xx=ie({__name:"CohortTile",props:{cohort:{},idPrefix:{},onEdit:{type:Function},onDelete:{type:Function}},setup(e){var h;const t=(h=Ie().game)==null?void 0:h.codex,n=e,s=z(()=>{var f;return(f=n.cohort.gangType)==null?void 0:f.filter(g=>g.quantity>0)}),o=z(()=>{const f=[...t.lexicon.gangs];try{return f[n.cohort.scale]}catch{return"0-2 people"}}),r=z(()=>[n.cohort.expertise1].concat(n.cohort.expertise2?[n.cohort.expertise2]:[])),i=z(()=>{var f;return((f=n.cohort.harm.filter(g=>g.quantity>0)[0])==null?void 0:f.name)||""}),l=z(()=>{var f;return((f=n.cohort.edges)==null?void 0:f.filter(g=>g.quantity>0).map(g=>g.name))||[]}),c=z(()=>{var f;return((f=n.cohort.flaws)==null?void 0:f.filter(g=>g.quantity>0).map(g=>g.name))||[]});function d(f){n.onEdit&&n.onEdit(f)}function u(f){n.onDelete&&n.onDelete(f)}return(f,g)=>{var w,x;return y(),k("div",{class:Y(["cohort-tile",{harmed:i.value}])},[a("div",dx,[n.cohort.cohortType==="gang"?(y(),k("div",hx,[a("h3",null,[a("span",null,q(o.value),1)]),a("h1",null,q((w=s.value)==null?void 0:w.map(I=>I.name).join(" & ")),1),a("h2",null,q((x=n.cohort.gangType)==null?void 0:x.filter(I=>I.quantity>0)[0].description),1)])):n.cohort.cohortType==="expert"?(y(),k("div",fx,[a("h3",null,[i.value?(y(),k("span",px,q(i.value)+"!",1)):j("",!0),ne(" Expert ")]),a("h1",null,q(n.cohort.name),1),a("h2",null,q(r.value.join(" & ")),1)])):n.cohort.cohortType==="vehicle"?(y(),k("div",mx,[a("h3",null,[i.value?(y(),k("span",yx,q(i.value)+"!",1)):j("",!0),ne(" Vehicle ")]),a("h1",null,q(n.cohort.name),1)])):j("",!0),n.onEdit?(y(),k("button",{key:3,class:"btn btn--icon",onClick:g[0]||(g[0]=I=>B(G).open(yo,{propertyName:n.cohort.cohortType,cohort:n.cohort,idPrefix:n.idPrefix,onDelete:u,onEdit:d}))},vx)):j("",!0)]),i.value?(y(),k("span",bx,q(i.value)+"!",1)):j("",!0),a("div",_x,[a("ul",null,[(y(!0),k(Z,null,ce(l.value,I=>(y(),k("li",{key:I},[wx,a("span",null,q(I),1)]))),128))]),a("ul",null,[(y(!0),k(Z,null,ce(c.value,I=>(y(),k("li",{key:I},[kx,a("span",null,q(I),1)]))),128))])]),a("p",null,q(n.cohort.description),1)],2)}}}),Cx=ae(xx,[["__scopeId","data-v-c545f8d7"]]),zi=e=>(Ae("data-v-810f9f37"),e=e(),Re(),e),Sx={class:"edit"},Tx={class:"input-group"},Ex=zi(()=>a("label",{for:"name"},"Name",-1)),$x={class:"input-group disabled"},Ax=zi(()=>a("label",{for:"id"},[ne("ID "),a("label",{class:"muted"},"(permanent)")],-1)),Rx={class:"input-group stretch"},Px={for:"description"},Ox={class:"muted"},Ix=zi(()=>a("span",null,"Save",-1)),qx=[Ix],Nx=ie({__name:"EditClaimModal",props:{propertyName:{},claim:{},onEdit:{type:Function},idPrefix:{}},setup(e){const t=e,n=M({...t.claim});function s(){t.onEdit&&(t.onEdit(n.value),G.close())}return(o,r)=>(y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[a("h2",null,"Edit "+q(n.value.name),1)]),_:1})]),content:F(()=>[a("div",Sx,[a("div",Tx,[Ex,De(a("input",{type:"text",id:"name","onUpdate:modelValue":r[0]||(r[0]=i=>n.value.name=i),placeholder:"Enter a memorable name"},null,512),[[Ue,n.value.name]])]),a("div",$x,[Ax,De(a("input",{type:"text",id:"id","onUpdate:modelValue":r[1]||(r[1]=i=>n.value.id=i),placeholder:"A hyphenated identifier"},null,512),[[Ue,n.value.id]])]),a("div",Rx,[a("label",Px,[ne("Description "),a("label",Ox,"("+q(n.value.description.length)+" / 400) ",1)]),De(a("textarea",{id:"description","onUpdate:modelValue":r[2]||(r[2]=i=>n.value.description=i),placeholder:"A brief description"},null,512),[[Ue,n.value.description]])]),a("div",{class:"row"},[a("button",{class:"btn mobile-full-width",onClick:s},qx)])])]),_:1}))}}),Lx=ae(Nx,[["__scopeId","data-v-810f9f37"]]),Xu=e=>(Ae("data-v-da34d4d5"),e=e(),Re(),e),Dx=Xu(()=>a("h2",null,"Edit Claims",-1)),Ux={class:"edit-claims"},Mx=Xu(()=>a("p",null,"Select a claim below.",-1)),Bx=["onClick"],Fx=ie({__name:"EditClaimsModal",props:{sheetId:{},claims:{}},setup(e){const t=e;function n(s){const o=t.claims.findIndex(r=>r.id===s.id);Se([{op:"replace",path:`/data/sheets/${t.sheetId}/claims/${o}`,value:s}])}return(s,o)=>(y(),re(ct,null,{header:F(()=>[$(ut,{"close-button":""},{default:F(()=>[Dx]),_:1})]),content:F(()=>[a("div",Ux,[Mx,a("ul",null,[(y(!0),k(Z,null,ce(t.claims,r=>(y(),k("li",{key:r.id},[a("button",{class:"btn btn--text",onClick:i=>B(G).open(Lx,{claim:r,onEdit:n})},[a("span",null,q(r.name),1)],8,Bx)]))),128))])])]),_:1}))}}),Hx=ae(Fx,[["__scopeId","data-v-da34d4d5"]]),de=e=>(Ae("data-v-eab704f2"),e=e(),Re(),e),jx={class:"sheet-layout__nested"},Qx=["src"],Vx={class:"input-group crew-tier"},Wx={class:"input-group name-and-description"},Gx=de(()=>a("label",{for:"crew-name"},"Name",-1)),zx=["value","placeholder","disabled"],Kx=de(()=>a("p",null,"Choose a name for your crew.",-1)),Yx=["value","disabled"],Jx=de(()=>a("p",null,"Describe your crew in a few sentences.",-1)),Xx={class:"input-group"},Zx=de(()=>a("label",{for:"reputation-type"},"Reputation",-1)),eC=["value","disabled"],tC=de(()=>a("p",null,"Choose how other underworld factions see you.",-1)),nC={class:"text-list"},sC=["onMousedown"],oC={key:1,class:"input-group"},rC={class:"input-group"},iC=de(()=>a("label",{for:"deity-name"},"Deity",-1)),aC={class:"row flat"},lC=["value","disabled"],cC=de(()=>a("i",{class:"fas fa-random"},null,-1)),uC=[cC],dC={class:"input-group"},hC=["value","disabled"],fC=de(()=>a("p",null,"Choose two features from the list to describe your deity.",-1)),pC={class:"text-list"},mC=["onMousedown"],yC={class:"input-group"},gC=de(()=>a("label",{for:"crew-lair"},"Lair",-1)),vC={class:"row flat"},bC=["value","disabled"],_C=de(()=>a("i",{class:"fas fa-random"},null,-1)),wC=[_C],kC={class:"input-group"},xC=["value","disabled"],CC=de(()=>a("p",null,"Where is your lair located?",-1)),SC={class:"text-list"},TC=["onMousedown"],EC={class:"row"},$C={key:2,class:"tile-list tile-list--mini"},AC={key:3,class:"no-tiles"},RC={class:"input-block"},PC={class:"input-group crew-rep"},OC=de(()=>a("label",{for:"crew-rep"},"Rep",-1)),IC={class:"input-block turf-and-hold"},qC={class:"input-group"},NC=de(()=>a("label",{for:"crew-hold"},"Hold",-1)),LC={class:"row flat"},DC=["innerHTML"],UC=["innerHTML"],MC=["innerHTML"],BC=["innerHTML"],FC={class:"input-block heat-and-wanted-level"},HC={class:"input-group"},jC=de(()=>a("label",{for:"crew-heat"},"Heat & Wanted Level",-1)),QC=["innerHTML"],VC={class:"input-group coin-group"},WC={for:"crew-coin"},GC={class:"muted"},zC=["innerHTML"],KC=de(()=>a("label",{for:"claims"},"Claims",-1)),YC={class:"row"},JC=de(()=>a("span",null,"Edit Claims",-1)),XC=[JC],ZC={class:"claims-list"},eS={class:"crew-xp-section"},tS={class:"input-group crew-xp"},nS=de(()=>a("label",{for:"crew-xp"},"Crew XP",-1)),sS=["innerHTML"],oS=["innerHTML"],rS=["innerHTML"],iS=de(()=>a("label",{for:"crew-abilities"},"Special Abilities",-1)),aS={class:"row"},lS=de(()=>a("span",null,"New",-1)),cS=[lS],uS={key:0,class:"tile-list"},dS={key:1,class:"no-tiles"},hS=de(()=>a("em",null," No Special Abilities selected",-1)),fS=[hS],pS=de(()=>a("label",{for:"crew-upgrades"},"Crew Upgrades",-1)),mS={class:"row"},yS=de(()=>a("span",null,"New",-1)),gS=[yS],vS={key:0,class:"tile-list"},bS={key:1,class:"no-tiles"},_S=de(()=>a("em",null," No crew upgrades selected",-1)),wS=[_S],kS=de(()=>a("label",{for:"crew-lair-upgrades"},"Lair Upgrades",-1)),xS={class:"row"},CS=de(()=>a("span",null,"New",-1)),SS=[CS],TS={key:0,class:"tile-list"},ES={key:1,class:"no-tiles"},$S=de(()=>a("em",null," No lair upgrades selected",-1)),AS=[$S],RS=de(()=>a("label",{for:"crew-training-upgrades"},"Training Upgrades",-1)),PS={class:"row"},OS=de(()=>a("span",null,"New",-1)),IS=[OS],qS={key:0,class:"tile-list"},NS={key:1,class:"no-tiles"},LS=de(()=>a("em",null," No training upgrades selected",-1)),DS=[LS],US=de(()=>a("label",{for:"crew-quality-upgrades"},"Quality Upgrades",-1)),MS={class:"row"},BS=de(()=>a("span",null,"New",-1)),FS=[BS],HS={key:0,class:"tile-list"},jS={key:1,class:"no-tiles"},QS=de(()=>a("em",null," No quality upgrades selected",-1)),VS=[QS],WS=de(()=>a("label",{for:"contacts"},"Crew Contacts",-1)),GS={class:"row"},zS=de(()=>a("span",null,"New",-1)),KS=[zS],YS={key:0,class:"tile-list tile-list--mini"},JS={key:1,class:"no-tiles"},XS=de(()=>a("em",null," No Crew Contacts selected",-1)),ZS=[XS],eT=de(()=>a("label",{for:"cohorts"},"Cohorts",-1)),tT={class:"row"},nT=de(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),sT=de(()=>a("span",null,"Gang",-1)),oT=[nT,sT],rT=de(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),iT=de(()=>a("span",null,"Expert",-1)),aT=[rT,iT],lT=de(()=>a("i",{class:"fas fa-plus-circle"},null,-1)),cT=de(()=>a("span",null,"Vehicle",-1)),uT=[lT,cT],dT={key:0,class:"tile-list"},hT={key:1,class:"no-tiles"},fT=de(()=>a("em",null," Your crew hasn't recruited any cohorts",-1)),pT=[fT],mT={class:"row center mobile-nav"},yT=de(()=>a("i",{class:"fas fa-file-alt"},null,-1)),gT=de(()=>a("i",{class:"fas fa-file-alt"},null,-1)),vT=de(()=>a("i",{class:"fas fa-file-alt"},null,-1)),Je=99,bT=ie({__name:"TheCrewSheet",props:{sheet:{}},setup(e){var T;const t=(T=Ie().game)==null?void 0:T.codex;Yt(()=>{document.addEventListener("blur",i,!0)}),Fn(()=>{document.removeEventListener("blur",i,!0)});const n=e,s=M(0),o=M(null),r=M();function i(p){var v;(v=p.relatedTarget)!=null&&v.closest(".shelf")||(r.value=null)}function l(p,v){console.log("onChangeValue",p,v);const C=`/data/sheets/${n.sheet.id}/${v}`;Se([{op:"replace",path:C,value:p}])}const c=z(()=>{const p=E("vault");return console.log("vault:",p),p===1?8:p===2?16:4}),d=z(()=>{const p=E("vault");return p===1?"& one Vault":p===2?"& two Vaults":""});function u(p){const v=Math.round(p.scrollLeft/p.clientWidth);s.value=v}function h(p){o.value&&(o.value.scrollTo({top:0}),o.value.scrollTo({left:o.value.clientWidth*p,behavior:"smooth"}))}function f(){const p=t.sheets.crew.lairs,{name:v,districts:C}=Gt(p),R=Gt(C);l(v,"lair"),l(R,"lairDistrict")}function g(){const p=t.names.deityNames,v=Gt(p);l(v,"deityName")}const w=M(localStorage.getItem("showOnlySelectedCrewUpgrades")==="true"),x=z(()=>w.value?n.sheet.crewUpgrades.filter(p=>p.quantity>0):n.sheet.crewUpgrades),I=M(localStorage.getItem("showOnlySelectedLairUpgrades")==="true"),U=z(()=>I.value?n.sheet.lairUpgrades.filter(p=>p.quantity>0):n.sheet.lairUpgrades),V=M(localStorage.getItem("showOnlySelectedTrainingUpgrades")==="true"),X=z(()=>V.value?n.sheet.trainingUpgrades.filter(p=>p.quantity>0):n.sheet.trainingUpgrades),he=M(localStorage.getItem("showOnlySelectedQualityUpgrades")==="true"),me=z(()=>he.value?n.sheet.qualityUpgrades.filter(p=>p.quantity>0):n.sheet.qualityUpgrades);function oe(p,v){const C=n.sheet.crewUpgrades.findIndex(R=>R.id===p.id);Se([{op:"replace",path:`/data/sheets/${n.sheet.id}/${v}Upgrades/${C}`,value:p}])}function Pe(p,v){const C=n.sheet.crewUpgrades.findIndex(R=>R.id===p);Se([{op:"remove",path:`/data/sheets/${n.sheet.id}/${v}Upgrades/${C}`}])}function fe(p,v,C){const R=n.sheet[`${C}Upgrades`].findIndex(b=>b.id===p.id);if(R===-1)return console.error("Upgrade not found",p);const L=`/data/sheets/${n.sheet.id}/${C}Upgrades/${R}/quantity`;Se([{op:"replace",path:L,value:v}])}function le(p,v){Se([{op:"add",path:`/data/sheets/${n.sheet.id}/${v}Upgrades/-`,value:p}])}const be=M(localStorage.getItem("showOnlySelectedContacts")==="true"),Me=z(()=>be.value?n.sheet.contacts.filter(p=>p.attitude!==0):n.sheet.contacts);function Qe(p){const v=n.sheet.contacts.findIndex(C=>C.id===p.id);Se([{op:"replace",path:`/data/sheets/${n.sheet.id}/contacts/${v}`,value:p}])}function ze(p){const v=n.sheet.contacts.findIndex(C=>C.id===p);Se([{op:"remove",path:`/data/sheets/${n.sheet.id}/contacts/${v}`}])}function D(p,v){const C=n.sheet.contacts.findIndex(L=>L.id===p.id),R=`/data/sheets/${n.sheet.id}/contacts/${C}/attitude`;Se([{op:"replace",path:R,value:v}])}function P(p){Se([{op:"add",path:`/data/sheets/${n.sheet.id}/contacts/-`,value:p}])}const K=M(localStorage.getItem("showOnlySelectedAbilities")==="true"),ye=z(()=>K.value?n.sheet.specialAbilities.filter(p=>p.quantity>0):n.sheet.specialAbilities);function pe(p,v){const C=n.sheet.specialAbilities.findIndex(L=>L.id===p.id),R=`/data/sheets/${n.sheet.id}/specialAbilities/${C}/quantity`;Se([{op:"replace",path:R,value:v}])}function S(p){const v=n.sheet.specialAbilities.findIndex(C=>C.id===p.id);Se([{op:"replace",path:`/data/sheets/${n.sheet.id}/specialAbilities/${v}`,value:p}])}function ee(p){const v=n.sheet.specialAbilities.findIndex(C=>C.id===p);Se([{op:"remove",path:`/data/sheets/${n.sheet.id}/specialAbilities/${v}`}])}function ke(p){Se([{op:"add",path:`/data/sheets/${n.sheet.id}/specialAbilities/-`,value:p}])}function je(p,v){return p.position.x!==v.position.x?p.position.x-v.position.x:v.position.y-p.position.y}const gt=M(!0),Et=z(()=>n.sheet.claims.sort(je));function en(p){const v={},C={[sn.NORTH]:{x:0,y:-1},[sn.EAST]:{x:1,y:0},[sn.SOUTH]:{x:0,y:1},[sn.WEST]:{x:-1,y:0}};return p.adjacent.forEach(R=>{const L=C[R],b={x:p.position.x+L.x,y:p.position.y+L.y},A=n.sheet.claims.find(te=>te.position.x===b.x&&te.position.y===b.y);A&&(v[R]=A)}),v}function We(p,v){const C=n.sheet.claims.findIndex(L=>L.id===p.id),R=`/data/sheets/${n.sheet.id}/claims/${C}/quantity`;Se([{op:"replace",path:R,value:v}])}const O=M(localStorage.getItem("showOnlySelectedHuntingGrounds")==="true"),W=z(()=>O.value?n.sheet.huntingGrounds.filter(p=>p.quantity>0):n.sheet.huntingGrounds);function Q(p,v){const C=n.sheet.huntingGrounds.findIndex(L=>L.id===p.id),R=`/data/sheets/${n.sheet.id}/huntingGrounds/${C}/quantity`;Se([{op:"replace",path:R,value:v}])}function J(p){const v=n.sheet.huntingGrounds.findIndex(C=>C.id===p.id);Se([{op:"replace",path:`/data/sheets/${n.sheet.id}/huntingGrounds/${v}`,value:p}])}const _e=z(()=>n.sheet.cohorts);function Ne(p){const v=n.sheet.cohorts.findIndex(C=>C.id===p);Se([{op:"remove",path:`/data/sheets/${n.sheet.id}/cohorts/${v}`}])}function m(p){Se([{op:"add",path:`/data/sheets/${n.sheet.id}/cohorts/-`,value:p}])}function _(p){const v=n.sheet.cohorts.findIndex(C=>C.id===p.id);Se([{op:"replace",path:`/data/sheets/${n.sheet.id}/cohorts/${v}`,value:p}])}function E(p){const{sheet:v}=n,R=[...v.crewUpgrades,...v.lairUpgrades,...v.trainingUpgrades,...v.qualityUpgrades,...v.specialAbilities,...v.claims,...v.huntingGrounds].find(L=>L.id===p);return R?R.quantity:-1}return Ct([O,K,be,w,I,V,he],()=>{localStorage.setItem("showOnlySelectedHuntingGrounds",O.value.toString()),localStorage.setItem("showOnlySelectedAbilities",K.value.toString()),localStorage.setItem("showOnlySelectedContacts",be.value.toString()),localStorage.setItem("showOnlySelectedCrewUpgrades",w.value.toString()),localStorage.setItem("showOnlySelectedLairUpgrades",I.value.toString()),localStorage.setItem("showOnlySelectedTrainingUpgrades",V.value.toString()),localStorage.setItem("showOnlySelectedQualityUpgrades",he.value.toString())}),(p,v)=>{var R,L;const C=ls("Divider");return y(),k("div",jx,[a("div",{class:"crew-layout",ref_key:"carouselRef",ref:o,onScroll:v[41]||(v[41]=b=>u(b.target))},[a("div",{class:Y(["main-and-claims",{active:s.value==0}])},[a("section",null,[a("div",{class:"crew-type-card",style:Ut({backgroundColor:(R=B(is)(p.sheet.image))==null?void 0:R.commonColor})},[a("img",{src:(L=B(is)(p.sheet.image))==null?void 0:L.url},null,8,Qx),a("h1",{class:Y({"extra-long":p.sheet.name.length>20})},q(p.sheet.name),3),a("h2",null,q(p.sheet.crewTypeDescription),1),a("div",Vx,[$(Ps,{id:"crew-tier",label:"Tier",value:n.sheet.tier,min:0,max:5,onChange:v[0]||(v[0]=b=>l(b,"tier"))},null,8,["value"])])],4),a("div",Wx,[Gx,a("input",{id:"crew-name",type:"text",value:n.sheet.name,onFocus:v[1]||(v[1]=b=>r.value="name"),placeholder:"Untitled "+p.sheet.crewType,onChange:v[2]||(v[2]=b=>{var A;return l((A=b.target)==null?void 0:A.value,"name")}),class:Y({locked:Je<1}),disabled:Je<1},null,42,zx),$(Xe,{show:r.value=="name"},{default:F(()=>[Kx]),_:1},8,["show"]),a("textarea",{id:"crew-description",value:n.sheet.description,onFocus:v[3]||(v[3]=b=>r.value="description"),placeholder:"A group of scoundrels scraping by in the underworld",onChange:v[4]||(v[4]=b=>{var A;return l((A=b.target)==null?void 0:A.value,"description")}),class:Y({locked:Je<1}),disabled:Je<1},`\r
            `,42,Yx),$(Xe,{show:r.value=="description"},{default:F(()=>[Jx]),_:1},8,["show"])]),a("div",Xx,[Zx,a("input",{id:"reputation-type",type:"text",value:n.sheet.reputationType,onFocus:v[5]||(v[5]=b=>r.value="reputation-type"),placeholder:"Ambitious",onChange:v[6]||(v[6]=b=>{var A;return l((A=b.target)==null?void 0:A.value,"reputationType")}),class:Y({locked:Je<1}),disabled:Je<1},null,42,eC),$(Xe,{show:r.value=="reputation-type"},{default:F(()=>[tC,a("div",nC,[(y(!0),k(Z,null,ce(B(t).sheets.crew.reputations,b=>(y(),k("button",{class:"btn btn--text",onMousedown:A=>l(b,"reputationType")},q(b),41,sC))),256))])]),_:1},8,["show"])]),n.sheet.crewType==="Cult"?(y(),re(C,{key:0})):j("",!0),n.sheet.crewType==="Cult"?(y(),k("div",oC,[a("div",rC,[iC,a("div",aC,[a("input",{id:"deity-name",type:"text",value:n.sheet.deityName,placeholder:"By what name do you know your deity?",onFocus:v[7]||(v[7]=b=>r.value="deity-name"),onChange:v[8]||(v[8]=b=>{var A;return l((A=b.target)==null?void 0:A.value,"deityName")}),class:Y({locked:Je<1}),disabled:Je<1},null,42,lC),a("button",{class:Y(["btn btn--icon",{removed:Je<1}]),onClick:g},uC,2)])]),a("div",dC,[a("input",{id:"deity-features",type:"text",onFocus:v[9]||(v[9]=b=>r.value="deity-features"),onChange:v[10]||(v[10]=b=>{var A;return l((A=b.target)==null?void 0:A.value,"deityFeatures")}),placeholder:"Describe your deity in a few words",value:n.sheet.deityFeatures,class:Y({locked:Je<1}),disabled:Je<1},null,42,hC),$(Xe,{show:r.value=="deity-features"},{default:F(()=>[fC,a("div",pC,[(y(),k(Z,null,ce(["Alluring","Cruel","Ferocious","Monstrous","Radiant","Sinister","Serene","Transcendent"],b=>a("button",{class:"btn btn--text",key:b,onMousedown:A=>l(p.sheet.deityFeatures.length?p.sheet.deityFeatures+", "+b.toLowerCase():b,"deityFeatures")},q(b),41,mC)),64))])]),_:1},8,["show"])])])):j("",!0),$(C),a("div",yC,[gC,a("div",vC,[a("input",{id:"crew-lair",type:"text",value:n.sheet.lair,placeholder:"Where your crew hatches its schemes",onFocus:v[11]||(v[11]=b=>r.value="lair"),onChange:v[12]||(v[12]=b=>{var A;return l((A=b.target)==null?void 0:A.value,"lair")}),class:Y({locked:Je<1}),disabled:Je<1},null,42,bC),a("button",{class:Y(["btn btn--icon",{removed:Je<1}]),onClick:f},wC,2)]),a("div",kC,[a("input",{id:"crew-lair-district",type:"text",value:n.sheet.lairDistrict,placeholder:"Where do you call home?",onFocus:v[13]||(v[13]=b=>r.value="lair-district"),onChange:v[14]||(v[14]=b=>{var A;return l((A=b.target)==null?void 0:A.value,"lairDistrict")}),class:Y({locked:Je<1}),disabled:Je<1},null,42,xC),$(Xe,{show:r.value=="lair-district"},{default:F(()=>[CC,a("div",SC,[(y(!0),k(Z,null,ce(B(t).lexicon.districts.map(b=>b.name),b=>(y(),k("button",{class:"btn btn--text",key:b,onMousedown:A=>l(b,"lairDistrict")},q(b),41,TC))),128))])]),_:1},8,["show"])])]),$(C),a("label",null,q(p.sheet.huntingGroundsLabel),1),a("div",EC,[$(ot,{icon:"fa-low-vision",modelValue:O.value,"onUpdate:modelValue":v[15]||(v[15]=b=>O.value=b),label:"Show only selected"},null,8,["modelValue"])]),W.value.length>0?(y(),k("div",$C,[(y(!0),k(Z,null,ce(W.value,b=>(y(),re(Pt,{effectable:b,key:b.id,idPrefix:n.sheet.crewType,propertyName:p.sheet.huntingGroundsLabel,change:A=>Q(b,A),onEdit:J,onDelete:()=>{}},null,8,["effectable","idPrefix","propertyName","change"]))),128))])):j("",!0),W.value.length==0?(y(),k("p",AC,[a("em",null," No "+q(p.sheet.huntingGroundsLabel)+" selected",1)])):j("",!0)]),$(C),a("section",null,[a("div",RC,[a("div",PC,[OC,$(nn,{id:"crew-rep",value:n.sheet.reputation,locked:n.sheet.turf,max:12,onChange:v[16]||(v[16]=b=>l(b,"reputation"))},null,8,["value","locked"])])]),a("div",IC,[a("div",qC,[$(Ps,{id:"crew-turf",value:n.sheet.turf,min:0,max:5,label:"Turf",onChange:v[17]||(v[17]=b=>l(b,"turf"))},null,8,["value"])]),a("div",{class:Y(["input-group",{locked:Je<1}])},[NC,a("div",LC,[a("button",{class:Y(["btn btn--tab",{active:n.sheet.hold=="weak"}]),onClick:v[18]||(v[18]=b=>l("weak","hold"))}," Weak ",2),a("button",{class:Y(["btn btn--tab",{active:n.sheet.hold=="strong"}]),onClick:v[19]||(v[19]=b=>l("strong","hold"))}," Strong ",2)])],2)]),$(Ot,null,{default:F(()=>[a("p",{innerHTML:B(st)(`Completing a score earns your Crew [/rep +2 Rep]

Take [/rep +1 Rep] per *Tier* higher than your target, or [/rep -1 Rep] per *Tier* lower`)},null,8,DC)]),_:1}),$(Ot,null,{default:F(()=>[a("p",{innerHTML:B(st)("With a full tracker, the Crew can't earn more *Rep* until you do one of the following, then reset the tracker")},null,8,UC),a("ul",null,[a("li",{innerHTML:B(st)(`If your *Hold* is Strong, increase your *Tier* by paying [/coin Coin] equal to 8x your new *Tier*
Reduce your *Hold* to Weak`)},null,8,MC),a("li",{innerHTML:B(st)("If your *Hold* is Weak, increase it to Strong")},null,8,BC)])]),_:1})]),$(C),a("section",null,[a("div",FC,[a("div",HC,[jC,$(nn,{id:"crew-heat",value:n.sheet.heat,max:9,onChange:v[20]||(v[20]=b=>l(b,"heat"))},null,8,["value"])]),$(Ps,{id:"crew-wanted-level",value:n.sheet.wantedLevel,min:0,max:5,onChange:v[21]||(v[21]=b=>l(b,"wantedLevel"))},null,8,["value"])]),$(Ot,null,{default:F(()=>[a("p",{innerHTML:B(st)(`When the tracker is full, increase the *Wanted Level* and clear all your *Heat*

The only way to reduce your *Wanted Level* is through *Incarceration*. When one of the PCs, friends, contactsor a framed enemyis convicted and incarcerated for crimes associated with your Crew, clear your *Heat* and reduce your *Wanted Level* by 1`)},null,8,QC)]),_:1}),$(C),a("div",VC,[a("label",WC,[ne("Treasury "),a("label",GC,q(d.value),1)]),$(nn,{id:"crew-coin",value:n.sheet.coin,max:16,locked:16-c.value,coinMode:!0,onChange:v[22]||(v[22]=b=>l(b,"coin"))},null,8,["value","locked"]),$(Ot,null,{default:F(()=>[a("p",{innerHTML:B(st)(`Most *Districts* have crime bosses that expect smaller crews to pay a tithe from their scores

Is there a boss that you should be paying? Subtract [/coin Coin] equal to your *Tier* +1 when you pay a tithe`)},null,8,zC)]),_:1})])]),$(C),a("section",null,[KC,a("div",YC,[a("button",{class:Y(["btn",{removed:Je<1}]),onClick:v[23]||(v[23]=b=>B(G).open(Hx,{sheetId:n.sheet.id,claims:n.sheet.claims}))},XC,2),$(ot,{icon:"fa-low-vision",modelValue:gt.value,"onUpdate:modelValue":v[24]||(v[24]=b=>gt.value=b),label:"Show details"},null,8,["modelValue"])]),a("div",ZC,[(y(!0),k(Z,null,ce(Et.value,b=>(y(),re(W0,{key:b.id,claim:b,showDetails:gt.value,idPrefix:n.sheet.crewType,propertyName:"Claim",neighborClaims:en(b),change:A=>We(b,A),class:Y({locked:Je<1})},null,8,["claim","showDetails","idPrefix","neighborClaims","change","class"]))),128))])])],2),a("div",{class:Y(["abilities-xp-and-contacts",{active:s.value==1}])},[a("section",eS,[a("div",tS,[nS,$(nn,{id:"crew-xp",value:n.sheet.crewExperience,max:9,onChange:v[25]||(v[25]=b=>l(b,"crewExperience"))},null,8,["value"])]),$(Ot,null,{default:F(()=>[a("p",{innerHTML:B(st)(`For each item below, mark [/xp 1 XP]
If it occurred more than once, mark [/xp 2 XP]`)},null,8,sS),a("ul",null,[(y(!0),k(Z,null,ce([...p.sheet.crewExperienceLabels,...p.sheet.crewDefaultExperienceLabels||[]],b=>(y(),k("li",{innerHTML:B(st)(b)},null,8,oS))),256))])]),_:1}),$(Ot,null,{default:F(()=>[a("p",{innerHTML:B(st)(`When the tracker is full, choose one *Special Ability* or two *Upgrades* and clear the *XP*

Every time the crew advances, each PC gets [/coin +1 Stash] and an additional [/coin +2 Stash] for each *Tier*`)},null,8,rS)]),_:1})]),$(C),a("section",null,[iS,a("div",aS,[a("button",{class:"btn",onClick:v[26]||(v[26]=b=>B(G).open(zn,{propertyName:"Special Ability",idPrefix:p.sheet.crewType,onCreateNew:ke}))},cS),$(ot,{icon:"fa-low-vision",modelValue:K.value,"onUpdate:modelValue":v[27]||(v[27]=b=>K.value=b),label:"Show only selected"},null,8,["modelValue"])]),ye.value.length>0?(y(),k("div",uS,[(y(!0),k(Z,null,ce(ye.value,b=>(y(),re(Pt,{key:b.id,effectable:b,idPrefix:n.sheet.crewType,propertyName:"Special Ability",change:A=>pe(b,A),onEdit:S,onDelete:ee},null,8,["effectable","idPrefix","change"]))),128))])):j("",!0),ye.value.length==0?(y(),k("p",dS,fS)):j("",!0)]),$(C),a("section",null,[pS,a("div",mS,[a("button",{class:"btn",onClick:v[28]||(v[28]=b=>B(G).open(zn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-upgrade",onCreateNew:A=>le(A,"crew")}))},gS),$(ot,{icon:"fa-low-vision",modelValue:w.value,"onUpdate:modelValue":v[29]||(v[29]=b=>w.value=b),label:"Show only selected"},null,8,["modelValue"])]),x.value.length>0?(y(),k("div",vS,[(y(!0),k(Z,null,ce(x.value,b=>(y(),re(Pt,{key:b.id,effectable:b,idPrefix:n.sheet.crewType+"-upgrade",propertyName:"Upgrade",change:A=>{fe(b,A,"crew")},onEdit:A=>{oe(A,"crew")},onDelete:A=>Pe(A,"crew")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):j("",!0),x.value.length==0?(y(),k("p",bS,wS)):j("",!0)]),$(C),a("section",null,[kS,a("div",xS,[a("button",{class:"btn",onClick:v[30]||(v[30]=b=>B(G).open(zn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-lair-upgrade",onCreateNew:A=>le(A,"lair")}))},SS),$(ot,{icon:"fa-low-vision",modelValue:I.value,"onUpdate:modelValue":v[31]||(v[31]=b=>I.value=b),label:"Show only selected"},null,8,["modelValue"])]),U.value.length>0?(y(),k("div",TS,[(y(!0),k(Z,null,ce(U.value,b=>(y(),re(Pt,{key:b.id,effectable:b,idPrefix:n.sheet.crewType+"-lair-upgrade",propertyName:"Upgrade",change:A=>{fe(b,A,"lair")},onEdit:A=>{oe(A,"lair")},onDelete:A=>Pe(A,"lair")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):j("",!0),U.value.length==0?(y(),k("p",ES,AS)):j("",!0)]),$(C),a("section",null,[RS,a("div",PS,[a("button",{class:"btn",onClick:v[32]||(v[32]=b=>B(G).open(zn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-training-upgrade",onCreateNew:A=>le(A,"training")}))},IS),$(ot,{icon:"fa-low-vision",modelValue:V.value,"onUpdate:modelValue":v[33]||(v[33]=b=>V.value=b),label:"Show only selected"},null,8,["modelValue"])]),X.value.length>0?(y(),k("div",qS,[(y(!0),k(Z,null,ce(X.value,b=>(y(),re(Pt,{key:b.id,effectable:b,idPrefix:n.sheet.crewType+"-training-upgrade",propertyName:"Upgrade",change:A=>{fe(b,A,"training")},onEdit:A=>{oe(A,"training")},onDelete:A=>Pe(A,"training")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):j("",!0),X.value.length==0?(y(),k("p",NS,DS)):j("",!0)]),$(C),a("section",null,[US,a("div",MS,[a("button",{class:"btn",onClick:v[34]||(v[34]=b=>B(G).open(zn,{propertyName:"Upgrade",idPrefix:p.sheet.crewType+"-quality-upgrade",onCreateNew:A=>le(A,"quality")}))},FS),$(ot,{icon:"fa-low-vision",modelValue:he.value,"onUpdate:modelValue":v[35]||(v[35]=b=>he.value=b),label:"Show only selected"},null,8,["modelValue"])]),me.value.length>0?(y(),k("div",HS,[(y(!0),k(Z,null,ce(me.value,b=>(y(),re(Pt,{key:b.id,effectable:b,idPrefix:n.sheet.crewType+"-quality-upgrade",propertyName:"Upgrade",change:A=>{fe(b,A,"quality")},onEdit:A=>{oe(A,"quality")},onDelete:A=>Pe(A,"quality")},null,8,["effectable","idPrefix","change","onEdit","onDelete"]))),128))])):j("",!0),me.value.length==0?(y(),k("p",jS,VS)):j("",!0)])],2),a("div",{class:Y(["upgrades",{active:s.value==2}])},[a("section",null,[WS,a("div",GS,[a("button",{class:"btn",onClick:v[36]||(v[36]=b=>B(G).open(Wi,{propertyName:"Crew Contact",idPrefix:p.sheet.crewType+"-contact",onCreateNew:P}))},KS),$(ot,{icon:"fa-low-vision",modelValue:be.value,"onUpdate:modelValue":v[37]||(v[37]=b=>be.value=b),label:"Show only selected"},null,8,["modelValue"])]),Me.value.length>0?(y(),k("div",YS,[(y(!0),k(Z,null,ce(Me.value,b=>(y(),re(Yu,{key:b.id,idPrefix:n.sheet.crewType+"-contact",propertyName:"Crew Contact",person:b,change:D,onEdit:Qe,onDelete:ze,options:[{value:1,text:""}]},null,8,["idPrefix","person"]))),128))])):j("",!0),Me.value.length==0?(y(),k("p",JS,ZS)):j("",!0)]),$(C),a("section",null,[eT,a("div",tT,[a("button",{class:"btn",onClick:v[38]||(v[38]=b=>B(G).open(yo,{propertyName:"gang",idPrefix:p.sheet.crewType+"-gang",onCreateNew:m}))},oT),a("button",{class:"btn",onClick:v[39]||(v[39]=b=>B(G).open(yo,{propertyName:"expert",idPrefix:p.sheet.crewType+"-expert",onCreateNew:m}))},aT),n.sheet.crewType==="Smugglers"?(y(),k("button",{key:0,class:Y(["btn",{disabled:!E("like-part-of-the-family")}]),onClick:v[40]||(v[40]=b=>B(G).open(yo,{propertyName:"vehicle",idPrefix:p.sheet.crewType+"-vehicle",onCreateNew:m}))},uT,2)):j("",!0)]),_e.value.length>0?(y(),k("div",dT,[(y(!0),k(Z,null,ce(_e.value,b=>(y(),re(Cx,{key:b.id,cohort:b,idPrefix:n.sheet.crewType,onEdit:_,onDelete:Ne},null,8,["cohort","idPrefix"]))),128))])):j("",!0),_e.value.length==0?(y(),k("p",hT,pT)):j("",!0)])],2)],544),a("div",mT,[a("button",{class:Y(["btn btn--tab",{active:s.value==0}]),onClick:v[42]||(v[42]=b=>h(0))},[ne(" 1 "),yT],2),a("button",{class:Y(["btn btn--tab",{active:s.value==1}]),onClick:v[43]||(v[43]=b=>h(1))},[ne(" 2 "),gT],2),a("button",{class:Y(["btn btn--tab",{active:s.value==2}]),onClick:v[44]||(v[44]=b=>h(2))},[ne(" 3 "),vT],2)])])}}}),_T=ae(bT,[["__scopeId","data-v-eab704f2"]]),un=e=>(Ae("data-v-56aa8fbf"),e=e(),Re(),e),wT={class:"page"},kT={class:"controls"},xT={key:0,class:"row center"},CT=["onClick"],ST={key:1,class:"row sheet-controls"},TT=un(()=>a("i",{class:"fas fa-arrow-left"},null,-1)),ET=un(()=>a("span",{class:"mobile-hidden"},"Back",-1)),$T=[TT,ET],AT={class:"breadcrumbs"},RT=un(()=>a("span",{class:"mobile-hidden"},"Sheets",-1)),PT=un(()=>a("i",{class:"fas fa-angle-right"},null,-1)),OT=un(()=>a("i",{class:"fas fa-trash"},null,-1)),IT=un(()=>a("span",{class:"mobile-hidden"},"Delete",-1)),qT=[OT,IT],NT={key:0,class:"loading"},LT=un(()=>a("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),DT=[LT],UT={key:1,class:"sheet-layout"},MT={key:2,class:"sheet-select-layout"},BT={key:0,class:"sheet-list"},FT=un(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),HT={key:1,class:"sheet-list"},jT=un(()=>a("i",{class:"fas fa-folder-plus"},null,-1)),QT={key:0,class:"model-overlay"},VT=ie({__name:"TheGamePage",setup(e){const t=Qu(),n=z(()=>{var g;return!((g=Ie().game)!=null&&g.codex)}),s=M("character"),o=z(()=>{var g,w;return Object.values(((w=(g=Ie().game)==null?void 0:g.data)==null?void 0:w.sheets)||[])}),r=z(()=>({crew:"Your crew type determines the scores that you'll focus on, as well as a selection of special abilities that support that kind of action.",character:"What kind of scoundrel are you? Each playbook has a unique set of special abilities and XP triggers to change how you play."})[s.value]||"Choose a sheet type to get started."),i=z(()=>o.value.filter(g=>g.sheetType==="crew")),l=z(()=>o.value.filter(g=>g.sheetType==="character")),c=M(null),d=M(!1);Yt(()=>{const g=t.params.id;My(g)});function u(){G.open(w_,{sheetType:s.value,description:r.value,templateTypeKey:s.value+"Type",templates:f_(s.value),onConfirm:h})}function h(g,w){var x,I;if(!w)return console.error("Sheet not found");(I=(x=Ie().game)==null?void 0:x.data)!=null&&I.sheets?Se([{op:"add",path:`/data/sheets/${w.id}`,value:w}]):Se([{op:"replace",path:"/data",value:{sheets:{[w.id]:w}}}])}function f(){c.value&&G.open(Vi,{title:"Delete Sheet",message:`Are you sure you want to delete <em>${c.value.name}</em> ${c.value.sheetType} sheet?`,confirmText:"Yes, delete it",onConfirm:()=>{var g;Se([{op:"remove",path:`/data/sheets/${(g=c.value)==null?void 0:g.id}`}]),c.value=null,G.close()}})}return(g,w)=>{var x,I;return y(),k(Z,null,[a("div",wT,[a("div",kT,[c.value?(y(),k("div",ST,[a("button",{class:"btn btn--icon",onClick:w[0]||(w[0]=U=>c.value=null)},$T),a("h2",AT,[a("span",null,[a("span",null,q(c.value.sheetType),1),RT]),PT,a("span",null,q(c.value.name),1)]),a("button",{class:"btn btn--icon",onClick:f},qT)])):(y(),k("div",xT,[(y(),k(Z,null,ce([{name:"crew",text:"Crews"},{name:"character",text:"Characters"},{name:"world",text:"World",disabled:!0}],U=>a("button",{class:Y(["btn btn--tab",{active:s.value===U.name,disabled:U.disabled}]),onClick:V=>s.value=U.name},[a("span",null,q(U.text),1)],10,CT)),64))]))]),n.value?(y(),k("div",NT,DT)):c.value?(y(),k("div",UT,[((x=c.value)==null?void 0:x.sheetType)==="crew"?(y(),re(_T,{key:0,sheet:c.value},null,8,["sheet"])):j("",!0),((I=c.value)==null?void 0:I.sheetType)==="character"?(y(),re(F0,{key:1,sheet:c.value},null,8,["sheet"])):j("",!0)])):(y(),k("div",MT,[s.value==="crew"?(y(),k("ul",BT,[(y(!0),k(Z,null,ce(i.value,U=>(y(),k("li",{key:U.id},[$(xl,{sheet:U,onClick:V=>c.value=U},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:u},[FT,a("span",null,"New "+q(s.value),1)])])])):s.value==="character"?(y(),k("ul",HT,[(y(!0),k(Z,null,ce(l.value,U=>(y(),k("li",{key:U.id},[$(xl,{sheet:U,onClick:V=>c.value=U},null,8,["sheet","onClick"])]))),128)),a("li",null,[a("div",{class:"new-sheet-card",onClick:u},[jT,a("span",null,"New "+q(s.value),1)])])])):j("",!0),$(Bb,{class:"mobile-hidden"})]))]),d.value?(y(),k("div",QT,[a("pre",null,q(JSON.stringify(B(Ie)().game,null,2)),1),a("button",{class:"btn debug btn",onClick:w[1]||(w[1]=U=>d.value=!1)}," Close ")])):j("",!0)],64)}}}),WT=ae(VT,[["__scopeId","data-v-56aa8fbf"]]),GT=M();var ci=(e=>(e.HOME="home",e.GAMES="games",e.GAME="game",e.INVITE="invite",e.SETTINGS="settings",e.LOST="lost",e))(ci||{});const zT=[{path:"/",components:{page:fv},name:"home"},{path:"/game/:id",components:{page:WT},name:"game"},{path:"/invite/:code",components:{page:xb},name:"invite"},{path:"/:pathMatch(.*)*",components:{page:$b},name:"lost"}],KT={history:zv(),routes:zT},Dt=bb(KT);Dt.afterEach(async(e,t)=>{});Dt.beforeEach(async(e,t,n)=>{By(),G.open(cs,{backgroundClass:"opaque"}),ht().refreshToken&&!ht().accessToken&&await fu(),Oe().id||(console.log("@index.ts: fetchMyAccount() because no user id"),await fs()),(!ht().refreshToken||!Oe().id)&&await Zu(),G.close(),GT.value=e.name,n()});async function Zu(){try{const e=await at.post("/account/create-guest");return e.data.refreshToken&&(ht().storeRefreshToken(e.data.refreshToken),ht().accessToken=e.data.accessToken,console.log("@account.ts: fetchMyAccount() because of createGuest"),await fs()),e.data}catch{return null}}async function YT(e,t){var n;try{const o=!e||!t?{}:{username:e,password:t};console.log("registerAccount payload:",o);const r=await at.post("/account/create",o);return console.log("response:",r),r.status!==ln.Ok?r.data:(console.log("@account.ts: fetchMyAccount() because of registerAccount"),await fs(),null)}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function JT(e,t){var n;try{const s=await at.post("/account/login",{username:e,password:t});return s.data.refreshToken&&(ht().storeRefreshToken(s.data.refreshToken),ht().accessToken=s.data.accessToken,console.log("@account.ts: fetchMyAccount() because of login"),await fs()),s.data}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function fs(){try{const e=await at.get("/account/me");return e.data?(Oe().id=e.data.id,Oe().username=e.data.username,Oe().isGuest=e.data.isGuest,Oe().portrait=e.data.portrait,Oe().games=e.data.games,e.data):null}catch{return null}}async function Ki(){ht().clear(),Oe().clear(),Ie().clear(),Dt.push("/"),G.open(cs),await Zu(),G.close()}async function XT(e){var t;try{const n=await at.delete("/account/me",{data:{password:e}});return n.status!==ln.Ok?n.data:null}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function ZT(e){var t;try{const n=await at.put("/account/username",{newUsername:e});return n.status!==ln.Ok?n.data:(Oe().username=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}async function eE(e,t){var n;try{const s=await at.put("/account/password",{password:e,newPassword:t});return s.status!==ln.Ok?s.data:null}catch(s){return(n=s==null?void 0:s.response)==null?void 0:n.data}}async function tE(e){var t;try{const n=await at.put("/account/portrait",{portraitId:e});return n.status!==ln.Ok?n.data:(Oe().portrait=e,null)}catch(n){return(t=n==null?void 0:n.response)==null?void 0:t.data}}let _r;async function nE(){return _r||(_r=(await at.get("/version")).data),_r}const dn=e=>(Ae("data-v-fd8ada18"),e=e(),Re(),e),sE=dn(()=>a("h2",null,"Change Password",-1)),oE={class:"change-password"},rE=dn(()=>a("p",null,[ne("Choose a new "),a("em",null,"password"),ne(" for your account.")],-1)),iE=dn(()=>a("p",{class:"muted"}," Your new password should be at least 8 characters long. ",-1)),aE={class:"inputs"},lE={class:"input-group"},cE=dn(()=>a("label",{for:"password"},"Current Password",-1)),uE={key:0,class:"reminder shake-once"},dE={class:"input-group"},hE=dn(()=>a("label",{for:"password"},"New Password",-1)),fE={key:0,class:"reminder shake-once"},pE={class:"input-group"},mE=dn(()=>a("label",{for:"confirm-password"},"Confirm New Password",-1)),yE={key:0,class:"reminder shake-once"},gE={key:0,class:"alert"},vE=dn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),bE=dn(()=>a("i",{class:"fas fa-times"},null,-1)),_E=[bE],wE={class:"row center"},kE={key:0,class:"fas fa-circle-notch fa-spin"},xE=dn(()=>a("span",null,"Change Password",-1)),CE=ie({__name:"ChangePasswordModal",setup(e){const t=M(""),n=M(!1),s=M(""),o=M(!1),r=z(()=>l.value&&i.value.length===0?"Enter your current password":null),i=M(""),l=M(!1),c=z(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=M(""),u=M(!1),h=z(()=>u.value?d.value.length===0?"Your new password again":i.value!==d.value?"Passwords don't match":null:null);async function f(){if(!o.value||!l.value||!u.value||r.value||c.value||h.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(x=>{x.classList.remove("shake-once"),x.offsetWidth,x.classList.add("shake-once")});return}n.value=!0,t.value="";const g=await eE(s.value,i.value);n.value=!1,g?t.value=g:G.open(Jo,{title:"Success",message:"Your password has been changed successfully."})}return(g,w)=>(y(),re(ct,{class:Y({disabled:n.value})},{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[sE]),_:1})]),content:F(()=>[a("div",oE,[rE,iE,a("div",aE,[a("div",lE,[cE,De(a("input",{type:"password",onInput:w[0]||(w[0]=x=>o.value=!0),placeholder:"Your current password","onUpdate:modelValue":w[1]||(w[1]=x=>s.value=x)},null,544),[[Ue,s.value]]),r.value?(y(),k("span",uE,q(r.value),1)):j("",!0)]),a("div",dE,[hE,De(a("input",{type:"password",onInput:w[2]||(w[2]=x=>l.value=!0),placeholder:"Create a new password","onUpdate:modelValue":w[3]||(w[3]=x=>i.value=x)},null,544),[[Ue,i.value]]),c.value?(y(),k("span",fE,q(c.value),1)):j("",!0)]),a("div",pE,[mE,De(a("input",{type:"password",onInput:w[4]||(w[4]=x=>u.value=!0),onKeyup:Hs(f,["enter"]),placeholder:"Confirm your new password","onUpdate:modelValue":w[5]||(w[5]=x=>d.value=x)},null,544),[[Ue,d.value]]),h.value?(y(),k("span",yE,q(h.value),1)):j("",!0)])]),t.value?(y(),k("div",gE,[vE,a("span",null,q(t.value),1),a("button",{class:"btn btn--icon close",onClick:w[6]||(w[6]=x=>t.value="")},_E)])):j("",!0),a("div",wE,[a("button",{class:"btn mobile-full-width",onClick:f},[n.value?(y(),k("i",kE)):j("",!0),xE])])])]),_:1},8,["class"]))}}),SE=ae(CE,[["__scopeId","data-v-fd8ada18"]]),ps=e=>(Ae("data-v-af22bc65"),e=e(),Re(),e),TE=ps(()=>a("h2",null,"Change Username",-1)),EE={class:"change-username"},$E=ps(()=>a("p",null,[ne("Choose a new "),a("em",null,"username"),ne(" for your account.")],-1)),AE={class:"muted"},RE={class:"inputs"},PE={class:"input-group"},OE=ps(()=>a("label",{for:"username"},"New Username",-1)),IE={key:0,class:"reminder shake-once"},qE={key:0,class:"alert"},NE=ps(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),LE=ps(()=>a("i",{class:"fas fa-times"},null,-1)),DE=[LE],UE={class:"row center"},ME={key:0,class:"fas fa-circle-notch fa-spin"},BE=ps(()=>a("span",null,"Change Username",-1)),FE=ie({__name:"ChangeUsernameModal",setup(e){const t=M(""),n=M(!1),s=M(""),o=M(!1),r=z(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null);async function i(){if(!o.value||r.value){o.value=!0,document.querySelectorAll(".reminder").forEach(d=>{d.classList.remove("shake-once"),d.offsetWidth,d.classList.add("shake-once")});return}n.value=!0,t.value="";const l=await ZT(s.value);n.value=!1,l?t.value=l:G.open(Jo,{title:"Success",message:`Username has been changed successfully. Your username is now <em>${s.value}</em>.`})}return(l,c)=>(y(),re(ct,{class:Y({disabled:n.value})},{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[TE]),_:1})]),content:F(()=>[a("div",EE,[$E,a("p",AE,[ne(" Your current username is "),a("em",null,q(B(Oe)().username),1),ne(". ")]),a("div",RE,[a("div",PE,[OE,De(a("input",{type:"text",onInput:c[0]||(c[0]=d=>o.value=!0),onKeydown:Hs(i,["enter"]),placeholder:"Enter a new username","onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d)},null,544),[[Ue,s.value]]),r.value?(y(),k("span",IE,q(r.value),1)):j("",!0)])]),t.value?(y(),k("div",qE,[NE,a("span",null,q(t.value),1),a("button",{class:"btn btn--icon close",onClick:c[2]||(c[2]=d=>t.value="")},DE)])):j("",!0),a("div",UE,[a("button",{class:"btn mobile-full-width",onClick:i},[n.value?(y(),k("i",ME)):j("",!0),BE])])])]),_:1},8,["class"]))}}),HE=ae(FE,[["__scopeId","data-v-af22bc65"]]),En=e=>(Ae("data-v-0286b377"),e=e(),Re(),e),jE=En(()=>a("h2",null,"Delete Account",-1)),QE={class:"confirm"},VE=En(()=>a("p",null,[ne(" This action is "),a("em",null,"irreversible"),ne(". All data related to your account will be "),a("em",null,"lost"),ne(". Are you sure you want to continue and delete your account? ")],-1)),WE={class:"input-group"},GE=En(()=>a("label",{for:"password"},"Password",-1)),zE={key:0,class:"alert"},KE=En(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),YE=En(()=>a("i",{class:"fas fa-times"},null,-1)),JE=[YE],XE={class:"column center"},ZE=En(()=>a("span",null,"No, I want to keep my account",-1)),e$=[ZE],t$=En(()=>a("span",{class:"muted"},"or",-1)),n$=En(()=>a("span",null,"Yes, I want to delete my account",-1)),s$=[n$],o$=ie({__name:"ConfirmDeleteAccountModal",setup(e){const t=M(""),n=M(""),s=M(!1);async function o(){s.value=!0,n.value="",n.value=await XT(t.value),n.value||(G.close(),Ki()),s.value=!1}return(r,i)=>(y(),re(ct,{disabled:s.value},{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[jE]),_:1})]),content:F(()=>[a("div",QE,[VE,a("div",WE,[GE,De(a("input",{id:"password",type:"password",placeholder:"Enter your password","onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l)},null,512),[[Ue,t.value]])]),n.value?(y(),k("div",zE,[KE,a("span",null,q(n.value),1),a("button",{class:"btn btn--icon close",onClick:i[1]||(i[1]=l=>n.value="")},JE)])):j("",!0),$(Qt),a("div",XE,[a("button",{class:"btn",onClick:i[2]||(i[2]=l=>B(G).close())},e$),t$,a("button",{class:Y(["btn btn--text",{disabled:!t.value}]),onClick:o},s$,2)])])]),_:1},8,["disabled"]))}}),r$=ae(o$,[["__scopeId","data-v-0286b377"]]),$n=e=>(Ae("data-v-497ae5b4"),e=e(),Re(),e),i$=$n(()=>a("h2",null,"Login",-1)),a$={class:"login"},l$=$n(()=>a("p",null,[ne("Enter your "),a("em",null,"username"),ne(" and "),a("em",null,"password"),ne(".")],-1)),c$={class:"inputs"},u$={class:"input-group"},d$=$n(()=>a("label",{for:"username"},"Username",-1)),h$={key:0,class:"reminder shake-once"},f$={class:"input-group"},p$=$n(()=>a("label",{for:"password"},"Password",-1)),m$={key:0,class:"reminder shake-once"},y$={key:0,class:"alert"},g$=$n(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),v$=$n(()=>a("i",{class:"fas fa-times"},null,-1)),b$=[v$],_$={class:"row center"},w$={key:0,class:"fas fa-circle-notch fa-spin"},k$=$n(()=>a("span",null,"Login",-1)),x$=$n(()=>a("p",null,"Don't have an account?",-1)),C$=ie({__name:"LoginModal",setup(e){const t=M(""),n=M(!1),s=M(""),o=M(!1),r=z(()=>o.value&&s.value.length===0?"Your username, please":null),i=M(""),l=M(!1),c=z(()=>l.value&&i.value.length===0?"Did you forget something?":null),d=z(()=>s.value.length>0&&i.value.length>0);async function u(){if(!d.value&&(!o.value||!l||r.value||c.value)){o.value=!0,l.value=!0,document.querySelectorAll(".reminder").forEach(w=>{w.classList.remove("shake-once"),w.offsetWidth,w.classList.add("shake-once")});return}n.value=!0,t.value="";const f=await JT(s.value,i.value);n.value=!1,f.refreshToken?G.close():t.value=f}function h(){G.open(td)}return(f,g)=>(y(),re(ct,{class:Y({disabled:n.value})},{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[i$]),_:1})]),content:F(()=>[a("div",a$,[l$,a("div",c$,[a("div",u$,[d$,De(a("input",{type:"text",onInput:g[0]||(g[0]=w=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":g[1]||(g[1]=w=>s.value=w)},null,544),[[Ue,s.value]]),r.value?(y(),k("span",h$,q(r.value),1)):j("",!0)]),a("div",f$,[p$,De(a("input",{type:"password",onInput:g[2]||(g[2]=w=>l.value=!0),onKeyup:Hs(u,["enter"]),placeholder:"Create a password","onUpdate:modelValue":g[3]||(g[3]=w=>i.value=w)},null,544),[[Ue,i.value]]),c.value?(y(),k("span",m$,q(c.value),1)):j("",!0)])]),t.value?(y(),k("div",y$,[g$,a("span",null,q(t.value),1),a("button",{class:"btn btn--icon close",onClick:g[4]||(g[4]=w=>t.value="")},b$)])):j("",!0),a("div",_$,[a("button",{class:"btn mobile-full-width",onClick:u},[n.value?(y(),k("i",w$)):j("",!0),k$])]),a("div",{class:"row center"},[x$,a("button",{class:"btn btn--text",onClick:h}," Register ")])])]),_:1},8,["class"]))}}),ed=ae(C$,[["__scopeId","data-v-497ae5b4"]]),hn=e=>(Ae("data-v-bb068875"),e=e(),Re(),e),S$=hn(()=>a("h2",null,"Register your Account",-1)),T$={class:"create-account"},E$=hn(()=>a("p",null,[ne(" Choose a "),a("em",null,"username"),ne(" and "),a("em",null,"password"),ne(" to register your account. ")],-1)),$$={class:"inputs"},A$={class:"input-group"},R$=hn(()=>a("label",{for:"username"},"Username",-1)),P$={key:0,class:"reminder shake-once"},O$={class:"input-group"},I$=hn(()=>a("label",{for:"password"},"Password",-1)),q$={key:0,class:"reminder shake-once"},N$={class:"input-group"},L$=hn(()=>a("label",{for:"confirm-password"},"Confirm Password",-1)),D$={key:0,class:"reminder shake-once"},U$={key:0,class:"alert"},M$=hn(()=>a("i",{class:"fas fa-exclamation-circle"},null,-1)),B$=hn(()=>a("i",{class:"fas fa-times"},null,-1)),F$=[B$],H$={class:"row center"},j$={key:0,class:"fas fa-circle-notch fa-spin"},Q$=hn(()=>a("span",null,"Register Account",-1)),V$=hn(()=>a("p",null,"Already have an account?",-1)),W$=ie({__name:"CreateAccountModal",setup(e){const t=M(""),n=M(!1),s=M(""),o=M(!1),r=z(()=>o.value?s.value.length===0?"What should we call you?":s.value.length<3?"Must be at least 3 characters":s.value.length>24?"Must have no more than 16 characters":/^[a-zA-Z0-9]+$/.test(s.value)?null:"Letters and numbers only":null),i=M(""),l=M(!1),c=z(()=>l.value?i.value.length===0?"Come up with something clever":i.value.length<8?"Must be at least 8 characters":i.value.length>64?"Can't be more than 64 characters":null:null),d=M(""),u=M(!1),h=z(()=>u.value?d.value.length===0?"Your password again":i.value!==d.value?"Passwords don't match":null:null);async function f(){if(!o.value||!l.value||!u.value||r.value||c.value||h.value){o.value=!0,l.value=!0,u.value=!0,document.querySelectorAll(".reminder").forEach(I=>{I.classList.remove("shake-once"),I.offsetWidth,I.classList.add("shake-once")});return}n.value=!0,t.value="";const w=await YT(s.value,i.value);n.value=!1,w?t.value=w:G.close()}function g(){G.open(ed)}return(w,x)=>(y(),re(ct,{class:Y({disabled:n.value})},{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[S$]),_:1})]),content:F(()=>[a("div",T$,[E$,a("div",$$,[a("div",A$,[R$,De(a("input",{type:"text",onInput:x[0]||(x[0]=I=>o.value=!0),placeholder:"Enter a username","onUpdate:modelValue":x[1]||(x[1]=I=>s.value=I)},null,544),[[Ue,s.value]]),r.value?(y(),k("span",P$,q(r.value),1)):j("",!0)]),a("div",O$,[I$,De(a("input",{type:"password",onInput:x[2]||(x[2]=I=>l.value=!0),placeholder:"Create a password","onUpdate:modelValue":x[3]||(x[3]=I=>i.value=I)},null,544),[[Ue,i.value]]),c.value?(y(),k("span",q$,q(c.value),1)):j("",!0)]),a("div",N$,[L$,De(a("input",{type:"password",onInput:x[4]||(x[4]=I=>u.value=!0),onKeyup:Hs(f,["enter"]),placeholder:"Confirm your password","onUpdate:modelValue":x[5]||(x[5]=I=>d.value=I)},null,544),[[Ue,d.value]]),h.value?(y(),k("span",D$,q(h.value),1)):j("",!0)])]),t.value?(y(),k("div",U$,[M$,a("span",null,q(t.value),1),a("button",{class:"btn btn--icon close",onClick:x[6]||(x[6]=I=>t.value="")},F$)])):j("",!0),a("div",H$,[a("button",{class:"btn mobile-full-width",onClick:f},[n.value?(y(),k("i",j$)):j("",!0),Q$])]),a("div",{class:"row center"},[V$,a("button",{class:"btn btn--text",onClick:g},"Log in")])])]),_:1},8,["class"]))}}),td=ae(W$,[["__scopeId","data-v-bb068875"]]),ft=e=>(Ae("data-v-3bf9eaea"),e=e(),Re(),e),G$={class:"account"},z$=ft(()=>a("p",null,"Choose a portrait from the list below.",-1)),K$={class:"portrait-select"},Y$=["onClick"],J$={key:0,class:"overlay"},X$={key:1,class:"fas fa-check-circle"},Z$={key:0},eA=ft(()=>a("p",null,"You are currently logged in as a guest.",-1)),tA={key:0,class:"row"},nA=ft(()=>a("span",null,"Register Account",-1)),sA=[nA],oA=ft(()=>a("i",{class:"fas fa-sign-out-alt"},null,-1)),rA=ft(()=>a("span",null,"Login",-1)),iA=[oA,rA],aA={key:1,class:"account-management"},lA=ft(()=>a("p",null," Change your username. This will also change your display name in all games. ",-1)),cA=ft(()=>a("i",{class:"fas fa-user-edit"},null,-1)),uA=ft(()=>a("span",null,"Change Username",-1)),dA=[cA,uA],hA=ft(()=>a("p",null,"Change your password.",-1)),fA=ft(()=>a("i",{class:"fas fa-key"},null,-1)),pA=ft(()=>a("span",null,"Change Password",-1)),mA=[fA,pA],yA={class:"attribution"},gA={class:"muted"},vA=ft(()=>a("p",null,[ne(" This work is based on "),a("a",{class:"anchor-link",href:"http://www.bladesinthedark.com/",target:"_blank"}," Blades in the Dark "),ne(" , product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),a("a",{class:"anchor-link",href:"http://creativecommons.org/licenses/by/3.0/",target:"_blank"}," Creative Commons Attribution 3.0 Unported license ")],-1)),bA=ft(()=>a("span",null,"View Full Attribution",-1)),_A=[bA],wA={class:"center"},kA=ft(()=>a("span",null,"Sign Out",-1)),xA=[kA],CA=ft(()=>a("span",null,"Delete Account",-1)),SA=[CA],TA={class:"row center id-block"},EA={class:"muted text-center"},$A=ft(()=>a("i",{class:"fas fa-copy"},null,-1)),AA=[$A],RA={class:"muted text-center"},PA=ie({__name:"AccountModal",setup(e){const t=M("");Yt(()=>{nE().then(h=>t.value=`${Df.version}  ${h}`)});const n=new Date().getFullYear();function s(){G.open(Vi,{title:"Sign Out",message:"Are you sure you want to sign out?",onConfirm:()=>Ki(),onCancel:()=>G.open(nd),onConfirmText:"Yes, I want to sign out",onCancelText:"No, keep me signed in"})}function o(){G.open(r$)}function r(){G.open(ed)}function i(){navigator.clipboard.writeText(Oe().id)}function l(){G.open(td)}function c(h){tE(h)}function d(){G.open(HE)}function u(){G.open(SE)}return(h,f)=>{const g=ls("Divider");return y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[a("h2",null,q(B(Oe)().username)+"'s Account",1)]),_:1})]),content:F(()=>[a("div",G$,[a("section",null,[z$,a("ul",K$,[(y(!0),k(Z,null,ce(B(Oe)().portraits,w=>(y(),k("li",{key:w.id,onClick:x=>c(w.id),class:Y({selected:w.id===B(Oe)().portrait})},[$(Qi,{portraitId:w.id},null,8,["portraitId"]),w.id===B(Oe)().portrait?(y(),k("div",J$)):j("",!0),w.id===B(Oe)().portrait?(y(),k("i",X$)):j("",!0)],10,Y$))),128))])]),$(g),B(Oe)().isGuest?(y(),k("section",Z$,[eA,B(Oe)().isGuest?(y(),k("div",tA,[a("button",{class:"btn",onClick:l},sA),a("button",{class:"btn btn--alt",onClick:r},iA)])):j("",!0)])):(y(),k("section",aA,[a("div",{class:"input-group"},[lA,a("button",{class:"btn mobile-full-width",onClick:d},dA)]),a("div",{class:"input-group"},[hA,a("button",{class:"btn mobile-full-width",onClick:u},mA)])])),$(g),a("section",yA,[a("p",null,[a("span",gA," "+q(B(n))+" Olin Kirkland",1)]),vA,a("button",{class:"btn btn--alt mobile-full-width",onClick:f[0]||(f[0]=()=>B(G).open(Pu))},_A)]),$(g),a("section",wA,[B(Oe)().isGuest?j("",!0):(y(),k("button",{key:0,class:"btn btn--text",onClick:s},xA)),B(Oe)().isGuest?j("",!0):(y(),k("button",{key:1,class:"btn btn--text",onClick:o},SA)),a("div",TA,[a("p",EA,"ID: "+q(B(Oe)().id),1),a("button",{class:"btn btn--icon muted",onClick:i},AA)]),a("p",RA,q(t.value),1)])])]),_:1})}}}),nd=ae(PA,[["__scopeId","data-v-3bf9eaea"]]);var go=(e=>(e.PLAYER="player",e.GM="gm",e.ADMIN="admin",e))(go||{});const El=["tiny","big","happy","sad","smart","funny","serious","crazy","silly","brave","shy","loud","quiet","fast","slow","strong","weak","bright","dark","hot","cold","hard","soft","sharp","dull","clean","dirty","smooth","rough","old","new","sweet","sour","bitter","spicy","tasty","gross","fresh","stale","thick","thin","straight","curved","simple","complex","friendly","fierce","gentle","wild","calm"],$l=["dog","cat","bird","fish","rabbit","lion","tiger","elephant","monkey","snake","turtle","spider","horse","cow","sheep","goat","pig","chicken","duck","mouse","bear","fox","wolf","deer","whale","shark","dolphin","octopus","frog","crocodile","dragon","unicorn","phoenix","eagle","hawk","owl","penguin","koala","panda","squirrel","bat","bee","ant","butterfly","mosquito","snail","slug","lizard","crab","lobster","starfish","tree","flower","mountain","river","ocean","lake","island","desert","forest","cave","rock","cloud","sun","moon","star","planet","galaxy","comet","asteroid","meteor","rain","snow","wind","storm","rainbow","thunder","lightning","fire","ice","earth","sky","sea","sand","dust","grass","leaf","root","branch","twig","stone","pebble","sand","soil","mud","clay","metal","gold","silver","copper","iron","bronze","steel","aluminum","platinum","diamond","ruby","sapphire","emerald","crystal","gem","pearl","amber","ivory","bone","horn","feather","fur","hair","wool","silk","cotton","leather","cloth","fabric","thread","needle","scissors","knife","sword","shield","bow","arrow","spear","axe","hammer","nail","screw","bolt","nut","washer","glue","tape","rope","chain","wire","cable","net","mesh","web","hook","latch","lock","key","door","window","wall","floor","ceiling","roof","stairs","bridge","path","road","street","alley","lane","highway","avenue","boulevard","square","park","garden","yard","field","meadow","pasture","orchard","vineyard","farm","barn","shed","house","home","cottage","cabin","villa","palace","castle","tower","fort","church","temple","mosque","synagogue","shrine","monastery","cathedral","chapel","grave","tomb","crypt","pyramid","sphinx","statue","monument","obelisk","arch","gate","fence","wall","hedge","barrier","barricade","fountain","pool","pond","lake","river","stream","waterfall","spring","well","oasis","beach","coast","cliff","canyon","valley","plateau","mountain","hill","peak","summit","volcano","crater","glacier","iceberg","cave","tunnel","mine","cemetery","graveyard","mausoleum","sanctuary","altar","shrine","mosque","temple","church","synagogue","cathedral","monastery","abbey","cloister","nunnery","chapel","crypt","tomb","grave","ossuary","sarcophagus","catacomb","columbarium","graveyard","cemetary","burialground","necropolis","pyramid","museum","gallery","exhibition","exhibit","art","sculpture","painting","portrait","landscape","stilllife","history","ancient","medieval","renaissance","modern","contemporary","abstract","realism","impressionism","expressionism","surrealism","cubism","dadaism","futurism","constructivism","minimalism","popart","opart","kineticart","environmentalart","performanceart","installationart","conceptualart","videoart","digitalart","netart","virtualart","interactivart","landart","streetart","graffiti","photography","photojournalism","documentary","landscape","portrait","wildlife","nature","macro","micro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid","photojournalism","landscape","wildlife","nature","macro","aerial","underwater","night","longexposure","blackandwhite","color","fineart","commercial","editorial","fashion","beauty","portrait","product","food","interior","architecture","cityscape","event","wedding","sports","action","adventure","travel","street","documentary","candid"];function OA(){const e=El[Math.floor(Math.random()*El.length)],t=$l[Math.floor(Math.random()*$l.length)],n=Math.floor(Math.random()*900)+100;return`${e}-${t}-${n}`}function IA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qA(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var NA=qA;const Al=IA(NA),Mt=e=>(Ae("data-v-50ac7fd6"),e=e(),Re(),e),LA=Mt(()=>a("h2",null,"Game Options",-1)),DA={class:"options"},UA={class:"game-name"},MA={class:"input-group"},BA=Mt(()=>a("label",{for:"name"},"Game Name",-1)),FA={key:0,class:"reminder shake-once"},HA={class:"invite"},jA=Mt(()=>a("label",null,"Invite a Player",-1)),QA={class:"row invite-block"},VA={class:"row"},WA={class:"muted text-center"},GA=Mt(()=>a("i",{class:"fas fa-copy"},null,-1)),zA=[GA],KA=Mt(()=>a("i",{class:"fas fa-sync"},null,-1)),YA=[KA],JA={class:"codex"},XA=Mt(()=>a("label",{for:"manage-codex"},"Manage Codex",-1)),ZA=Mt(()=>a("p",{class:"muted"}," The Codex contains descriptions and definitions that are made available on the platform. ",-1)),e2=Mt(()=>a("i",{class:"fas fa-sync"},null,-1)),t2=Mt(()=>a("span",null,"Reset Codex",-1)),n2=[e2,t2],s2={class:"input-group"},o2=Mt(()=>a("label",null,"Sheets Options",-1)),r2=Mt(()=>a("span",null,"Abandon Game",-1)),i2=[r2],a2=ie({__name:"GameOptionsModal",setup(e){var h;const t=M(null),n=M((h=Ie().game)==null?void 0:h.name);z(()=>{var f;return((f=Ie().userPlayer)==null?void 0:f.role)===go.GM});const s=z(()=>{var f;return`${window.location.origin}/invite/${(f=Ie().game)==null?void 0:f.inviteCode}`}),o=z(()=>{var f;return Al(JSON.stringify((f=Ie().game)==null?void 0:f.codex)??"")}),r=z(()=>Al(JSON.stringify(oi)));function i(){if(!n.value){t.value="Name cannot be empty";return}t.value=null,Se([{op:"replace",path:"/name",value:n.value}])}function l(){navigator.clipboard.writeText(s.value)}function c(){Se([{op:"replace",path:"/inviteCode",value:OA()}])}function d(){G.open(Vi,{title:"Leave Game",message:"Are you sure you want to leave the game?",confirmText:"Leave Game",onConfirm:async()=>{G.open(cs),await Lg(),Dt.push("/"),G.close()}})}function u(){Se([{op:"replace",path:"/codex",value:oi}])}return(f,g)=>(y(),re(ct,null,{header:F(()=>[$(ut,{closeButton:""},{default:F(()=>[LA]),_:1})]),content:F(()=>{var w,x;return[a("div",DA,[a("section",UA,[a("div",MA,[BA,De(a("input",{type:"text",class:Y({disabled:((w=B(Ie)().userPlayer)==null?void 0:w.role)!==B(go).GM}),onChange:i,placeholder:"Enter a descriptive name","onUpdate:modelValue":g[0]||(g[0]=I=>n.value=I)},null,34),[[Ue,n.value]]),t.value?(y(),k("span",FA,q(t.value),1)):j("",!0)])]),a("section",HA,[jA,a("div",QA,[a("div",VA,[a("p",WA,q(s.value),1),a("button",{class:"btn btn--icon muted",onClick:l},zA)]),((x=B(Ie)().userPlayer)==null?void 0:x.role)===B(go).GM?(y(),k("button",{key:0,class:"btn btn--icon muted",onClick:c},YA)):j("",!0)])]),$(Qt),a("section",JA,[XA,$(Ot,{ignoreOptions:""},{default:F(()=>[ZA]),_:1}),a("p",null,q(o.value===r.value?"The Codex matches the latest version.":"A newer version of the Codex is available."),1),a("button",{class:Y(["btn mobile-full-width",{disabled:o.value===r.value}]),onClick:u},n2,2)]),$(Qt),a("section",null,[a("div",s2,[o2,$(ot,{modelValue:B(li)().options.showHints,"onUpdate:modelValue":g[1]||(g[1]=I=>B(li)().options.showHints=I),icon:"fa-check",emptyWhenUnchecked:!0,label:"Show rules hints on the Sheets"},null,8,["modelValue"])])]),$(Qt),a("section",null,[a("div",{class:"row"},[a("button",{class:"btn btn--alt mobile-full-width",onClick:d},i2)])])])]}),_:1}))}}),l2=ae(a2,[["__scopeId","data-v-50ac7fd6"]]),c2=e=>(Ae("data-v-246365aa"),e=e(),Re(),e),u2={class:"logo"},d2={class:"account"},h2=c2(()=>a("i",{class:"fas fa-cog"},null,-1)),f2=[h2],p2=ie({__name:"TheNavigation",setup(e){function t(){G.open(nd)}function n(){G.open(l2)}return(s,o)=>{var i;const r=ls("router-link");return y(),k("nav",null,[a("div",u2,[$(r,{to:"/"},{default:F(()=>[$(Dc)]),_:1})]),a("div",d2,[(i=B(Ie)().game)!=null&&i._id?(y(),k("button",{key:0,class:"btn btn--icon game-options",onClick:n},f2)):j("",!0),a("button",{class:"btn btn--account",onClick:t},[$(Qi,{portraitId:B(Oe)().portrait},null,8,["portraitId"]),a("span",null,q(B(Oe)().username||"Account"),1)])])])}}}),m2=ae(p2,[["__scopeId","data-v-246365aa"]]),y2=ie({__name:"TheModalContainer",setup(e){const t=M(),n=Sr(null),s=Sr(null),o=M();function r(){var i;(i=s.value)!=null&&i.closeOnClick&&G.close()}return G.getInstance().addEventListener(({modal:i,modalConfig:l})=>{var c;if((c=document.activeElement)==null||c.blur(),!i)return n.value=null;n.value={...i},s.value={...l},requestAnimationFrame(()=>{var w,x;o.value&&clearInterval(o.value);const d=(w=t.value)==null?void 0:w.$el;if(!d)return;const u=d.querySelector(".modal__header")?[d.querySelector(".modal__header")]:[],h=Array.from(((x=d.querySelector(".modal__content > div"))==null?void 0:x.children)||[]),f=[...u,...h];window.modalChildren=f;const g=d.querySelector("input:not(.disabled):not(.ignore-initial-focus)");g&&g.focus(),f.forEach(I=>I.classList.add("hidden")),o.value=setInterval(()=>{if(!f.length)console.log("clearing interval"),clearInterval(o.value);else{const I=f.shift();I==null||I.classList.remove("hidden")}},50)})}),(i,l)=>{var c;return n.value?(y(),k("div",{key:0,class:Y(["modal-container",(c=s.value)==null?void 0:c.backgroundClass])},[a("div",{class:"modal-container__background",onClick:l[0]||(l[0]=d=>r())}),(y(),re(eh(n.value),$c(s.value,{ref_key:"modalRef",ref:t}),null,16))],2)):j("",!0)}}}),g2=ae(y2,[["__scopeId","data-v-673461c4"]]),v2={class:"page-layout"},b2={class:"page-layout__content"},_2=ie({__name:"App",setup(e){return(t,n)=>{const s=ls("router-view");return y(),k(Z,null,[a("div",v2,[$(m2),a("div",b2,[$(s,{name:"page"})])]),$(g2)],64)}}});vm();const Zo=wf(_2);Zo.component("Divider",Qt);const w2=Sf();Zo.use(w2);Zo.use(Dt);Zo.mount("#app");
